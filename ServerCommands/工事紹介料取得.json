{
  "Name": "工事紹介料取得",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_申込ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_工事区分",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_工事会社ID",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_工事会社ID"
              }
            },
            "value": "%Null%"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "CustomReturns": [
                {
                  "ReturnPropertyName": "R_工事紹介料フラグ",
                  "Value": "0"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料区分",
                  "Remark": "1:標準 2:特別 3:除外 4:割合"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料"
                },
                {
                  "ReturnPropertyName": "R_見積割合"
                }
              ]
            }
          ],
          "Comments": "工事会社が無ければ終了",
          "ID": "28481ddf-79ac-4205-bb2d-2f868c78dd89"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_工事区分"
              }
            },
            "value": "2",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "CustomReturns": [
                {
                  "ReturnPropertyName": "R_工事紹介料フラグ",
                  "Value": "0"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料区分",
                  "Remark": "1:標準 2:特別 3:除外 4:割合"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料"
                },
                {
                  "ReturnPropertyName": "R_見積割合"
                }
              ]
            }
          ],
          "Comments": "工事委任でなければ終了",
          "ID": "b8984363-4422-4c97-bff8-1be35f85d4f1"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "工事会社既定値",
      "TableValue": {
        "TableName": "m_customer_default",
        "TableValueType": 1,
        "BindingInfos": [
          {
            "GUID": "e7004cea-6e7f-485f-ade4-8a60a64b6d20",
            "BindingInfo": {
              "TableName": "m_customer_default",
              "ColumnName": "construction_referral_fee_flg",
              "GUID": "7fcfe775-6b39-4f94-8212-a109ce8610a2"
            },
            "ColumnName": "工事紹介料フラグ"
          },
          {
            "GUID": "86db1af2-3050-4094-8ea5-c13b02f0e619",
            "BindingInfo": {
              "TableName": "m_customer_default",
              "ColumnName": "referral_fee_effective_date",
              "GUID": "350a81f2-05c7-4536-aa31-42e348d99bfa"
            },
            "ColumnName": "紹介料適用開始日"
          },
          {
            "GUID": "c2150811-4c07-4a30-b8d5-a0fb5136f2bf",
            "BindingInfo": {
              "TableName": "m_customer_default",
              "ColumnName": "construction_referral_fee_set_flg",
              "GUID": "3b7b398c-62e1-49b9-adbb-ae2dbd54ac5c"
            },
            "ColumnName": "紹介料単価設定フラグ"
          },
          {
            "GUID": "4585d211-22d0-4c0b-ac31-48ed5cda1341",
            "BindingInfo": {
              "TableName": "m_customer_default",
              "ColumnName": "construction_referral_standard_fee",
              "GUID": "018080ad-42df-4a59-962b-a2c37d647a5f"
            },
            "ColumnName": "紹介料標準単価"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
          "ColumnBindingInfo": {
            "TableName": "m_customer_default",
            "ColumnName": "customer_id",
            "GUID": "79705cfc-b3fc-4bc1-90ab-a13c2f274f1f"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_工事会社ID"
          }
        }
      },
      "ID": "4e1d0544bb834ba19f53c9b3f4134551"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=工事会社既定値.工事紹介料フラグ"
              }
            },
            "value": "0"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "CustomReturns": [
                {
                  "ReturnPropertyName": "R_工事紹介料フラグ",
                  "Value": "0"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料区分",
                  "Remark": "1:標準 2:特別 3:除外 4:割合"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料"
                },
                {
                  "ReturnPropertyName": "R_見積割合"
                }
              ],
              "Comments": "工事紹介料の既定が無ければ終了"
            }
          ],
          "ID": "879ae4d0-613b-4c91-8f8b-12c7e960f57e"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "工事見積情報登録済み件",
      "TableValue": {
        "TableName": "t_object_construction_estimate",
        "TableValueType": 3,
        "SqlCondition": {
          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
          "SubConditions": [
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_construction_estimate",
                "ColumnName": "object_order_id",
                "GUID": "8dcd5f46-fd0d-42e4-95fc-3a8d1b9387e7"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込ID"
              }
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_construction_estimate",
                "ColumnName": "construction_customer_id",
                "GUID": "1ba06b16-d593-4ae8-b8ba-8ab7bd384938"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_工事会社ID"
              }
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "CompareType": 1,
              "ColumnBindingInfo": {
                "TableName": "t_object_construction_estimate",
                "ColumnName": "construction_estimate_status_id",
                "GUID": "b56481a4-867a-4cd3-a2e2-92e233fbc919",
                "RelationBinding": {
                  "RelatedTable": "m_construction_estimate_status",
                  "RelatedColumn": "construction_estimate_status_id",
                  "DisplayColumn": "estimate_arrange_wait_flg"
                }
              },
              "Value": "1"
            }
          ]
        }
      },
      "ID": "a0340b9ee2c849f1bb6511bcdf30bcdb",
      "Comments": "工事見積手配待ちを除く"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "V_見積依頼日",
      "ID": "eb03790d4f7f4d248fab8cdc15cd8569"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=工事見積情報登録済み件"
              }
            },
            "value": "0",
            "compareType": 2
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "V_見積依頼日",
              "TableValue": {
                "TableName": "t_object_construction_estimate",
                "OnlyGetValue": true,
                "TableValueType": 0,
                "BindingInfos": [
                  {
                    "GUID": "72d03936-52f3-469f-b21e-f1b76a08e53d",
                    "BindingInfo": {
                      "TableName": "t_object_construction_estimate",
                      "ColumnName": "estimate_requested_date",
                      "GUID": "a1e15768-569a-4bb6-9f8d-549d2f88eaad"
                    },
                    "ColumnName": "estimate_requested_date"
                  }
                ],
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                  "SubConditions": [
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "object_order_id",
                        "GUID": "defb973f-329f-42a0-815b-7f608594ddeb"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "construction_customer_id",
                        "GUID": "e797bb0e-7285-4efc-b43f-4d6682e8824d"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_工事会社ID"
                      }
                    }
                  ]
                },
                "TopCount": "1",
                "OrderBySqlCondition": {
                  "OrderByColumns": [
                    {
                      "ColumnBindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "estimate_requested_date",
                        "GUID": "e5a8807d-d9e0-4071-9a00-1a3cc07c69b1"
                      },
                      "Order": 0
                    }
                  ]
                }
              },
              "ID": "b5b95faf61004d3f847ddbe19fdbbef8"
            },
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": [
                {
                  "Condition": {
                    "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                    "param": {
                      "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                      "ParamObject": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_見積依頼日"
                      }
                    },
                    "value": "%Null%"
                  },
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "V_見積依頼日",
                      "ParameterValue": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=TODAY()"
                      },
                      "ID": "e1b8a7fd42c44b9bb123ee08e1be03e3"
                    }
                  ],
                  "ID": "768362f0-7640-439b-a2db-2d9a64820bb7"
                }
              ]
            }
          ],
          "ID": "bdbe7a11-9702-4a37-8f48-064a60a1dfc6"
        },
        {
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "CustomReturns": [
                {
                  "ReturnPropertyName": "R_工事紹介料フラグ",
                  "Value": "0"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料区分",
                  "Remark": "1:標準 2:特別 3:除外 4:割合"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料"
                },
                {
                  "ReturnPropertyName": "R_見積割合"
                }
              ],
              "Comments": "工事見積に登録が無ければ終了"
            }
          ],
          "ID": "bf67476a-a930-4d51-b22f-fbc120bbd0fb"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=工事会社既定値.紹介料適用開始日"
              }
            },
            "value": {
              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
              "SerializeProperty": "=V_見積依頼日"
            },
            "compareType": 2
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "CustomReturns": [
                {
                  "ReturnPropertyName": "R_工事紹介料フラグ",
                  "Value": "0"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料区分",
                  "Remark": "1:標準 2:特別 3:除外 4:割合"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料"
                },
                {
                  "ReturnPropertyName": "R_見積割合"
                }
              ],
              "Comments": "適用日に満たない場合は終了"
            }
          ],
          "ID": "b2796b05-e02e-45c2-946e-191b1e6937a0"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "申込情報",
      "TableValue": {
        "TableName": "t_object_order",
        "TableValueType": 1,
        "BindingInfos": [
          {
            "GUID": "76f33a50-a4c9-4245-ab43-d7621efa5511",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "order_customer_id",
              "GUID": "5538b0c0-e493-4fa2-9705-f5ea7a9fb757"
            },
            "ColumnName": "申込事業者ID"
          },
          {
            "GUID": "3d9173b0-8e5a-47c7-babb-f53411e59442",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "group_id",
              "GUID": "da5e83bd-365f-4fca-9b48-26e89a8f29c0",
              "RelationBinding": {
                "RelatedTable": "m_group",
                "RelatedColumn": "group_id",
                "DisplayColumn": "group_type_id"
              }
            },
            "ColumnName": "グループ区分ID"
          },
          {
            "GUID": "e153fef9-c9e9-49f8-a09b-9cf3042c8f86",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "group_id",
              "GUID": "713ab47e-e13d-4c7e-95d8-7ffc5695edbe"
            },
            "ColumnName": "申込グループID"
          },
          {
            "GUID": "eba48dde-9a21-4fcf-94e3-89f95dfa1e51",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "builder_id",
              "GUID": "cf3c029e-f23c-4971-adbb-dcf920e86113"
            },
            "ColumnName": "住宅事業者ID"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
          "ColumnBindingInfo": {
            "TableName": "t_object_order",
            "ColumnName": "object_order_id",
            "GUID": "59731bd6-851b-408c-94fe-9000366ae8af"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_申込ID"
          }
        },
        "NullFormulaValueQueryPolicy": 0
      },
      "ID": "a7ac20dc7b7342ef99c5ed70784ddb34"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_工事会社ID"
              }
            },
            "value": {
              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
              "SerializeProperty": "=申込情報.申込事業者ID"
            }
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "CustomReturns": [
                {
                  "ReturnPropertyName": "R_工事紹介料フラグ",
                  "Value": "0"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料区分",
                  "Remark": "1:標準 2:特別 3:除外 4:割合"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料"
                },
                {
                  "ReturnPropertyName": "R_見積割合"
                }
              ]
            }
          ],
          "Comments": "申込事業者と工事会社が同じなら終了",
          "ID": "d0c14d11-edfe-4b62-a441-28200a88d1fb"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "工事紹介料特別単価",
      "TableValue": {
        "TableName": "m_construction_referral_fee",
        "BindingInfos": [
          {
            "GUID": "170ffc4b-6f43-4225-b720-d85a3bccfa7c",
            "BindingInfo": {
              "TableName": "m_construction_referral_fee",
              "ColumnName": "group_types",
              "GUID": "ee87362b-1910-4c49-ba4d-9879850a1956"
            },
            "ColumnName": "グループ区分s"
          },
          {
            "GUID": "1f30fe8c-334b-43e7-b932-7f7626ce0cef",
            "BindingInfo": {
              "TableName": "m_construction_referral_fee",
              "ColumnName": "group_ids",
              "GUID": "281bd357-4880-47b3-b63f-92e4a3af5c0f"
            },
            "ColumnName": "グループIDs"
          },
          {
            "GUID": "a21961b2-8a8e-409e-99c3-1c75cbc16c8c",
            "BindingInfo": {
              "TableName": "m_construction_referral_fee",
              "ColumnName": "builder_ids",
              "GUID": "3b769a10-4cfe-4aa2-9d45-1878369cc615"
            },
            "ColumnName": "住宅事業者IDs"
          },
          {
            "GUID": "3c8d4d13-494c-4fe7-a1cf-1bbf91bb9f3f",
            "BindingInfo": {
              "TableName": "m_construction_referral_fee",
              "ColumnName": "special_price",
              "GUID": "d5ee14bb-cd2c-471c-b195-5bdf9a5c2867"
            },
            "ColumnName": "特別単価"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
          "SubConditions": [
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_construction_referral_fee",
                "ColumnName": "construction_comp_id",
                "GUID": "a97905fa-98ac-4af3-806a-316ad1e3c467"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_工事会社ID"
              }
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_construction_referral_fee",
                "ColumnName": "apply_type",
                "GUID": "bfe20e0c-0cd9-4e41-8159-107385e5fd0b"
              },
              "Value": "1"
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "CompareType": 5,
              "ColumnBindingInfo": {
                "TableName": "m_construction_referral_fee",
                "ColumnName": "effective_date",
                "GUID": "d2afce47-7261-414d-87f2-8593b7f5e4f0"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=V_見積依頼日"
              }
            }
          ]
        }
      },
      "ID": "54ea6e23c5654b4c85738d1c3d5688f0"
    },
    {
      "$type": "Forguncy.Model.LoopCommand, ServerDesignerCommon",
      "LoopInfo": {
        "$type": "Forguncy.Model.CountLoopInfo, ServerDesignerCommon",
        "LoopCount": {
          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
          "SerializeProperty": "=工事紹介料特別単価"
        },
        "LoopItemParamName": "Item"
      },
      "CommandList": [
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=Item.住宅事業者IDs"
                  }
                },
                "value": "%Null%",
                "compareType": 1
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "住宅事業者特別単価件数",
                  "TableValue": {
                    "TableName": "m_customer",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "SubConditions": [
                        {
                          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                          "CompareType": 8,
                          "ColumnBindingInfo": {
                            "TableName": "m_customer",
                            "ColumnName": "customer_id",
                            "GUID": "22ceeda3-d67f-4bc8-a6d1-81761f736d50"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.住宅事業者IDs"
                          }
                        },
                        {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "m_customer",
                            "ColumnName": "customer_id",
                            "GUID": "205e9dc6-9d79-4d69-99bf-3d568ecb8d0f"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.住宅事業者ID"
                          }
                        }
                      ]
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "9c1055a63bfc4ae8bafcc8a0abcb37e8"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=住宅事業者特別単価件数"
                          }
                        },
                        "value": "0",
                        "compareType": 2
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "0",
                          "CustomReturns": [
                            {
                              "ReturnPropertyName": "R_工事紹介料フラグ",
                              "Value": "1"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料区分",
                              "Value": "2",
                              "Remark": "1:標準 2:特別 3:除外 4:割合"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=Item.特別単価"
                              }
                            },
                            {
                              "ReturnPropertyName": "R_見積割合"
                            }
                          ]
                        }
                      ],
                      "ID": "734790c6-9f23-46cc-8745-24d767acc43e"
                    }
                  ]
                }
              ],
              "ID": "0607def8-9602-4451-9a89-e9a30841e549"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=Item.グループIDs"
                  }
                },
                "value": "%Null%",
                "compareType": 1
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "グループ特別単価件数",
                  "TableValue": {
                    "TableName": "m_group",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "SubConditions": [
                        {
                          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                          "CompareType": 8,
                          "ColumnBindingInfo": {
                            "TableName": "m_group",
                            "ColumnName": "group_id",
                            "GUID": "76267795-0b41-42b7-b18d-9daacac1b631"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.グループIDs"
                          }
                        },
                        {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "m_group",
                            "ColumnName": "group_id",
                            "GUID": "aa2d348d-eb3e-45af-8880-e1c3718a4d9e"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.申込グループID"
                          }
                        }
                      ]
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "b244275a9a44438293a106383fed428e"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=グループ特別単価件数"
                          }
                        },
                        "value": "0",
                        "compareType": 2
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "0",
                          "CustomReturns": [
                            {
                              "ReturnPropertyName": "R_工事紹介料フラグ",
                              "Value": "1"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料区分",
                              "Value": "2",
                              "Remark": "1:標準 2:特別 3:除外 4:割合"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=Item.特別単価"
                              }
                            },
                            {
                              "ReturnPropertyName": "R_見積割合"
                            }
                          ]
                        }
                      ],
                      "ID": "0cc03002-fb28-47f3-9b70-7b636d706077"
                    }
                  ]
                }
              ],
              "ID": "ff20c5ac-37cb-47b1-8ba8-d87f3a549375"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=Item.グループ区分s"
                  }
                },
                "value": "%Null%",
                "compareType": 1
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "グループ区分特別単価件数",
                  "TableValue": {
                    "TableName": "m_group_type",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "SubConditions": [
                        {
                          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                          "CompareType": 8,
                          "ColumnBindingInfo": {
                            "TableName": "m_group_type",
                            "ColumnName": "group_type_id",
                            "GUID": "4ccd5725-1ab4-48c7-b6c4-0a01730bbd6b"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.グループ区分s"
                          }
                        },
                        {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "m_group_type",
                            "ColumnName": "group_type_id",
                            "GUID": "85d31234-5dfc-4510-a2df-c5c1a02cb4a1"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.グループ区分ID"
                          }
                        }
                      ]
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "7976adc8a96047d0aa36e1deea5ded1f"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=グループ区分特別単価件数"
                          }
                        },
                        "value": "0",
                        "compareType": 2
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "0",
                          "CustomReturns": [
                            {
                              "ReturnPropertyName": "R_工事紹介料フラグ",
                              "Value": "1"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料区分",
                              "Value": "2",
                              "Remark": "1:標準 2:特別 3:除外 4:割合"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=Item.特別単価"
                              }
                            },
                            {
                              "ReturnPropertyName": "R_見積割合"
                            }
                          ]
                        }
                      ],
                      "ID": "71654544-aa77-45c9-aac1-4a89295f2901"
                    }
                  ]
                }
              ],
              "ID": "d4f0e6d7-9166-4bd3-96f5-ba90ee1a9430"
            }
          ]
        }
      ]
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "工事紹介料見積割合",
      "TableValue": {
        "TableName": "m_construction_referral_fee",
        "BindingInfos": [
          {
            "GUID": "4a1214c2-45c2-480f-a776-4b944f605623",
            "BindingInfo": {
              "TableName": "m_construction_referral_fee",
              "ColumnName": "group_types",
              "GUID": "320f438c-2b04-485d-8d99-39e046a35520"
            },
            "ColumnName": "グループ区分s"
          },
          {
            "GUID": "8ca85541-7c92-413d-b328-ad1482781741",
            "BindingInfo": {
              "TableName": "m_construction_referral_fee",
              "ColumnName": "group_ids",
              "GUID": "a9bbf435-b639-4dc6-82ed-4a674f70c63d"
            },
            "ColumnName": "グループIDs"
          },
          {
            "GUID": "b6c5da9e-2f84-4898-b82c-aa2ad9807625",
            "BindingInfo": {
              "TableName": "m_construction_referral_fee",
              "ColumnName": "builder_ids",
              "GUID": "f033cd99-3332-4337-963a-d7f2b01d7776"
            },
            "ColumnName": "住宅事業者IDs"
          },
          {
            "GUID": "eb4c5eb9-010b-478c-95f0-4cb9050b145c",
            "BindingInfo": {
              "TableName": "m_construction_referral_fee",
              "ColumnName": "estimated_percentage",
              "GUID": "5ba98f4f-8e01-4e9c-9e48-4f7c5f52fc3d"
            },
            "ColumnName": "見積割合"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
          "SubConditions": [
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_construction_referral_fee",
                "ColumnName": "construction_comp_id",
                "GUID": "29bb4731-c4e7-46dc-8ef8-4a7c5601cff8"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_工事会社ID"
              }
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_construction_referral_fee",
                "ColumnName": "apply_type",
                "GUID": "798e0ecc-4a8f-4f68-8204-f513215b76f2"
              },
              "Value": "3"
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "CompareType": 5,
              "ColumnBindingInfo": {
                "TableName": "m_construction_referral_fee",
                "ColumnName": "effective_date",
                "GUID": "c28c02cc-b0bb-4b24-991d-6d8f398b249e"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=V_見積依頼日"
              }
            }
          ]
        }
      },
      "ID": "9f59dae4279d4ae4a62f25b8896895ca"
    },
    {
      "$type": "Forguncy.Model.LoopCommand, ServerDesignerCommon",
      "LoopInfo": {
        "$type": "Forguncy.Model.CountLoopInfo, ServerDesignerCommon",
        "LoopCount": {
          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
          "SerializeProperty": "=工事紹介料見積割合"
        },
        "LoopItemParamName": "Item"
      },
      "CommandList": [
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=Item.住宅事業者IDs"
                  }
                },
                "value": "%Null%",
                "compareType": 1
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "住宅事業者見積割合件数",
                  "TableValue": {
                    "TableName": "m_customer",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "SubConditions": [
                        {
                          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                          "CompareType": 8,
                          "ColumnBindingInfo": {
                            "TableName": "m_customer",
                            "ColumnName": "customer_id",
                            "GUID": "18871356-d07c-4b9e-b95a-099e13f03312"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.住宅事業者IDs"
                          }
                        },
                        {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "m_customer",
                            "ColumnName": "customer_id",
                            "GUID": "ec64f734-364e-4e8d-9704-75f1b81f91f9"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.住宅事業者ID"
                          }
                        }
                      ]
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "37bb540b1e8a4ad9959d8908d3f044f8"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=住宅事業者見積割合件数"
                          }
                        },
                        "value": "0",
                        "compareType": 2
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "0",
                          "CustomReturns": [
                            {
                              "ReturnPropertyName": "R_工事紹介料フラグ",
                              "Value": "1"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料区分",
                              "Value": "4",
                              "Remark": "1:標準 2:特別 3:除外 4:割合"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料"
                            },
                            {
                              "ReturnPropertyName": "R_見積割合",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=Item.見積割合"
                              }
                            }
                          ]
                        }
                      ],
                      "ID": "3db2c801-0ecd-42bd-84a3-b38293d813a6"
                    }
                  ]
                }
              ],
              "ID": "ea910eba-229a-4c37-bb0b-35383fbda27d"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=Item.グループIDs"
                  }
                },
                "value": "%Null%",
                "compareType": 1
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "グループ見積割合件数",
                  "TableValue": {
                    "TableName": "m_group",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "SubConditions": [
                        {
                          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                          "CompareType": 8,
                          "ColumnBindingInfo": {
                            "TableName": "m_group",
                            "ColumnName": "group_id",
                            "GUID": "76267795-0b41-42b7-b18d-9daacac1b631"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.グループIDs"
                          }
                        },
                        {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "m_group",
                            "ColumnName": "group_id",
                            "GUID": "aa2d348d-eb3e-45af-8880-e1c3718a4d9e"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.申込グループID"
                          }
                        }
                      ]
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "b4406154c1b448f79355ec40abb0df65"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=グループ見積割合件数"
                          }
                        },
                        "value": "0",
                        "compareType": 2
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "0",
                          "CustomReturns": [
                            {
                              "ReturnPropertyName": "R_工事紹介料フラグ",
                              "Value": "1"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料区分",
                              "Value": "4",
                              "Remark": "1:標準 2:特別 3:除外 4:割合"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料"
                            },
                            {
                              "ReturnPropertyName": "R_見積割合",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=Item.見積割合"
                              }
                            }
                          ]
                        }
                      ],
                      "ID": "8f32e56e-597c-4680-9eae-91efcfd004c7"
                    }
                  ]
                }
              ],
              "ID": "f3d9ee29-a71a-40d5-9765-bfde6537d08b"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=Item.グループ区分s"
                  }
                },
                "value": "%Null%",
                "compareType": 1
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "グループ区分見積割合件数",
                  "TableValue": {
                    "TableName": "m_group_type",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "SubConditions": [
                        {
                          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                          "CompareType": 8,
                          "ColumnBindingInfo": {
                            "TableName": "m_group_type",
                            "ColumnName": "group_type_id",
                            "GUID": "4ccd5725-1ab4-48c7-b6c4-0a01730bbd6b"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.グループ区分s"
                          }
                        },
                        {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "m_group_type",
                            "ColumnName": "group_type_id",
                            "GUID": "85d31234-5dfc-4510-a2df-c5c1a02cb4a1"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.グループ区分ID"
                          }
                        }
                      ]
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "1f1ab7927d9845c2a6f3876c2ad698f9"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=グループ区分見積割合件数"
                          }
                        },
                        "value": "0",
                        "compareType": 2
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "0",
                          "CustomReturns": [
                            {
                              "ReturnPropertyName": "R_工事紹介料フラグ",
                              "Value": "1"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料区分",
                              "Value": "4",
                              "Remark": "1:標準 2:特別 3:除外 4:割合"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料"
                            },
                            {
                              "ReturnPropertyName": "R_見積割合",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=Item.見積割合"
                              }
                            }
                          ]
                        }
                      ],
                      "ID": "1b7d9562-f0cc-4fb9-9e6c-87b141a6883c"
                    }
                  ]
                }
              ],
              "ID": "84cd019c-533a-4001-aaf2-af3e70d26372"
            }
          ]
        }
      ]
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "工事紹介料除外",
      "TableValue": {
        "TableName": "m_construction_referral_fee",
        "BindingInfos": [
          {
            "GUID": "495c60c8-b25b-486b-9da4-7f602c064279",
            "BindingInfo": {
              "TableName": "m_construction_referral_fee",
              "ColumnName": "group_types",
              "GUID": "94247960-f2a0-4987-bb39-c56c81e33e8f"
            },
            "ColumnName": "グループ区分s"
          },
          {
            "GUID": "948f0ce5-84c1-4ca3-91f2-8fee483df4ab",
            "BindingInfo": {
              "TableName": "m_construction_referral_fee",
              "ColumnName": "group_ids",
              "GUID": "74295f26-1490-4281-9d6c-49875f0b6e96"
            },
            "ColumnName": "グループIDs"
          },
          {
            "GUID": "1252fe8f-dfee-466c-9b06-b6a8edce8e20",
            "BindingInfo": {
              "TableName": "m_construction_referral_fee",
              "ColumnName": "builder_ids",
              "GUID": "eb4afcee-57ee-406f-ae98-27c10bcf490c"
            },
            "ColumnName": "住宅事業者IDs"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
          "SubConditions": [
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_construction_referral_fee",
                "ColumnName": "construction_comp_id",
                "GUID": "cd5bdc96-5906-4048-b2e6-75a5c86e5b97"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_工事会社ID"
              }
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_construction_referral_fee",
                "ColumnName": "apply_type",
                "GUID": "a8664376-8889-4fa8-b6b1-5489ed7b008e"
              },
              "Value": "2"
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "CompareType": 5,
              "ColumnBindingInfo": {
                "TableName": "m_construction_referral_fee",
                "ColumnName": "effective_date",
                "GUID": "a82f265d-f83c-43e9-9079-49f340f80379"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=V_見積依頼日"
              }
            }
          ]
        }
      },
      "ID": "7848cb33e50f4e9e87afd4146f0e4773"
    },
    {
      "$type": "Forguncy.Model.LoopCommand, ServerDesignerCommon",
      "LoopInfo": {
        "$type": "Forguncy.Model.CountLoopInfo, ServerDesignerCommon",
        "LoopCount": {
          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
          "SerializeProperty": "=工事紹介料除外"
        },
        "LoopItemParamName": "Item"
      },
      "CommandList": [
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=Item.グループ区分s"
                  }
                },
                "value": "%Null%",
                "compareType": 1
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "グループ区分除外件数",
                  "TableValue": {
                    "TableName": "m_group_type",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "SubConditions": [
                        {
                          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                          "CompareType": 8,
                          "ColumnBindingInfo": {
                            "TableName": "m_group_type",
                            "ColumnName": "group_type_id",
                            "GUID": "d5872b9f-4b7f-4152-b264-e4c2d3476072"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.グループ区分s"
                          }
                        },
                        {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "m_group_type",
                            "ColumnName": "group_type_id",
                            "GUID": "75db5ca5-668c-41cf-b942-b41f539a10dd"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.グループ区分ID"
                          }
                        }
                      ]
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "f4ee5e9091824ad0bc732bffb61ff252"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=グループ区分除外件数"
                          }
                        },
                        "value": "0",
                        "compareType": 2
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "0",
                          "CustomReturns": [
                            {
                              "ReturnPropertyName": "R_工事紹介料フラグ",
                              "Value": "1"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料区分",
                              "Value": "3",
                              "Remark": "1:標準 2:特別 3:除外 4:割合"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料"
                            },
                            {
                              "ReturnPropertyName": "R_見積割合"
                            }
                          ]
                        }
                      ],
                      "ID": "40bbb812-b769-4550-aff4-e1958a6e0c49"
                    }
                  ]
                }
              ],
              "ID": "f64804b7-22c3-4e74-9c8e-254c7e7c5eb4"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=Item.グループIDs"
                  }
                },
                "value": "%Null%",
                "compareType": 1
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "グループ除外件数",
                  "TableValue": {
                    "TableName": "m_group",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "SubConditions": [
                        {
                          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                          "CompareType": 8,
                          "ColumnBindingInfo": {
                            "TableName": "m_group",
                            "ColumnName": "group_id",
                            "GUID": "b9864a41-043b-4cde-bff2-eb7d4740b366"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.グループIDs"
                          }
                        },
                        {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "m_group",
                            "ColumnName": "group_id",
                            "GUID": "c1eb8d22-c325-4247-b9ae-5a3b4d28933c"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.申込グループID"
                          }
                        }
                      ]
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "a7d4710647b44b71813fc6e8f43f477f"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=グループ除外件数"
                          }
                        },
                        "value": "0",
                        "compareType": 2
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "0",
                          "CustomReturns": [
                            {
                              "ReturnPropertyName": "R_工事紹介料フラグ",
                              "Value": "1"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料区分",
                              "Value": "3",
                              "Remark": "1:標準 2:特別 3:除外 4:割合"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料"
                            },
                            {
                              "ReturnPropertyName": "R_見積割合"
                            }
                          ]
                        }
                      ],
                      "ID": "2a04db94-cb9c-44aa-9259-af142969d547"
                    }
                  ]
                }
              ],
              "ID": "4f28837a-7a34-4c32-888b-b0876628bc21"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=Item.住宅事業者IDs"
                  }
                },
                "value": "%Null%",
                "compareType": 1
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "住宅事業者除外件数",
                  "TableValue": {
                    "TableName": "m_customer",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "SubConditions": [
                        {
                          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                          "CompareType": 8,
                          "ColumnBindingInfo": {
                            "TableName": "m_customer",
                            "ColumnName": "customer_id",
                            "GUID": "6f6d1882-6c14-411a-8014-75060da8c47c"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.住宅事業者IDs"
                          }
                        },
                        {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "m_customer",
                            "ColumnName": "customer_id",
                            "GUID": "79dc6907-81a8-4f2f-8fe1-06c952942a52"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.住宅事業者ID"
                          }
                        }
                      ]
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "f291397d0fa24472925543ba7566a8e1"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=住宅事業者除外件数"
                          }
                        },
                        "value": "0",
                        "compareType": 2
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": "0",
                          "CustomReturns": [
                            {
                              "ReturnPropertyName": "R_工事紹介料フラグ",
                              "Value": "1"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料区分",
                              "Value": "3",
                              "Remark": "1:標準 2:特別 3:除外 4:割合"
                            },
                            {
                              "ReturnPropertyName": "R_工事紹介料"
                            },
                            {
                              "ReturnPropertyName": "R_見積割合"
                            }
                          ]
                        }
                      ],
                      "ID": "724b377f-3064-47c1-bd26-c5d24753cef3"
                    }
                  ]
                }
              ],
              "ID": "d626aed6-97e3-4c9e-a023-a95aeb049325"
            }
          ]
        }
      ]
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=工事会社既定値.紹介料単価設定フラグ"
              }
            },
            "value": "0"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "CustomReturns": [
                {
                  "ReturnPropertyName": "R_工事紹介料フラグ",
                  "Value": "1"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料区分",
                  "Value": "3",
                  "Remark": "1:標準 2:特別 3:除外 4:割合"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料"
                },
                {
                  "ReturnPropertyName": "R_見積割合"
                }
              ]
            }
          ],
          "ID": "e730cc49-b3e9-4e8d-9335-ecf32507478e"
        },
        {
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "CustomReturns": [
                {
                  "ReturnPropertyName": "R_工事紹介料フラグ",
                  "Value": "1"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料区分",
                  "Value": "1",
                  "Remark": "1:標準 2:特別 3:除外 4:割合"
                },
                {
                  "ReturnPropertyName": "R_工事紹介料",
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=工事会社既定値.紹介料標準単価"
                  }
                },
                {
                  "ReturnPropertyName": "R_見積割合"
                }
              ]
            }
          ],
          "ID": "79a7c78f-7977-4065-9fb3-27d44969ca4c"
        }
      ]
    }
  ],
  "ReturnProperties": [
    {
      "Name": "R_工事紹介料フラグ"
    },
    {
      "Name": "R_工事紹介料区分",
      "Remark": "1:標準 2:特別 3:除外 4:割合"
    },
    {
      "Name": "R_工事紹介料"
    },
    {
      "Name": "R_見積割合"
    }
  ]
}