{
  "Name": "工事見積会社登録",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_申込ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_工事会社IDs",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "CommandList": [
        {
          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
          "ServerCommandName": "登録更新ラベル取得",
          "Parameters": [
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "P_ユーザーID"
            }
          ],
          "ResultErrorCodeTo": {
            "SerializeProperty": "リターンコード"
          },
          "ResultMessageTo": {
            "SerializeProperty": "リターンメッセージ"
          },
          "ReturnPropertiesTo": [
            {
              "ResultPropertyName": "R_ラベル名",
              "ResultTo": {
                "SerializeProperty": "最終更新ラベル"
              }
            },
            {
              "ResultPropertyName": "R_外部ユーザーフラグ"
            }
          ],
          "RefreshAfterFinish": true,
          "CheckDataValidation": true
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "申込情報",
          "TableValue": {
            "TableName": "t_object_order",
            "TableValueType": 1,
            "BindingInfos": [
              {
                "GUID": "9317d453-7899-43c5-b91f-78bf9dbb69ba",
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "group_id",
                  "GUID": "c4cda5f7-732d-4b82-8734-822d376b8f2d",
                  "RelationBinding": {
                    "RelatedTable": "m_group",
                    "RelatedColumn": "group_id",
                    "DisplayColumn": "group_default_priority_flg"
                  }
                },
                "ColumnName": "グループ既定優先フラグ"
              },
              {
                "GUID": "4cb3a8ec-826e-4a2a-b6fe-9a4c9f42fed9",
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "order_customer_id",
                  "GUID": "58147bf4-a38a-4411-a4fc-b44af2816f8a"
                },
                "ColumnName": "申込事業者ID"
              },
              {
                "GUID": "cd858a00-ca72-4bdf-bc2e-6b082f487cb6",
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "builder_id",
                  "GUID": "1829375b-3f36-4326-a7cb-13c99cac10b9"
                },
                "ColumnName": "住宅事業者ID"
              },
              {
                "GUID": "d0201679-0be2-4fc6-a882-4d10c267d259",
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "object_id",
                  "GUID": "ce1eace3-6257-4d95-97e2-a58bedd9547d",
                  "RelationBinding": {
                    "RelatedTable": "t_object",
                    "RelatedColumn": "object_id",
                    "DisplayColumn": "prefectures"
                  }
                },
                "ColumnName": "都道府県名"
              },
              {
                "GUID": "ad707adc-f4f0-41a9-9d9d-91777ec5c375",
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "housing_type",
                  "GUID": "538f339b-7c81-449a-81bb-4054740ac6b4"
                },
                "ColumnName": "住宅タイプ"
              },
              {
                "GUID": "7fa26a58-dab0-475e-b170-4a30c89b8d15",
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "latest_construction_id",
                  "GUID": "e0068892-f4dd-45c4-8a1f-3f108915cd38"
                },
                "ColumnName": "最新工事ID"
              },
              {
                "GUID": "a2f17951-7397-4f3a-9138-ed80b6b45bb3",
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "latest_construction_id",
                  "GUID": "59eb8f22-d1c3-44c7-8913-775b0049da7a",
                  "RelationBinding": {
                    "RelatedTable": "t_object_construction",
                    "RelatedColumn": "construction_id",
                    "DisplayColumn": "construction_status_id",
                    "NextRelationBinding": {
                      "RelatedTable": "m_construction_status",
                      "RelatedColumn": "construction_status_id",
                      "DisplayColumn": "construction_complete_flg"
                    }
                  }
                },
                "ColumnName": "工事完了フラグ"
              },
              {
                "GUID": "403b03b8-1732-4f45-804d-05551f72e705",
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "latest_construction_id",
                  "GUID": "d1f10d59-18a0-4483-ad2b-bb7e8eeddeee",
                  "RelationBinding": {
                    "RelatedTable": "t_object_construction",
                    "RelatedColumn": "construction_id",
                    "DisplayColumn": "estimate_urgent_flg"
                  }
                },
                "ColumnName": "見積至急フラグ"
              },
              {
                "GUID": "1c55bfe4-142d-4db4-8e7c-22cc65113183",
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "group_id",
                  "GUID": "53e605a6-7416-4371-83de-d172cd11a278",
                  "RelationBinding": {
                    "RelatedTable": "m_group",
                    "RelatedColumn": "group_id",
                    "DisplayColumn": "no_estimate_reminder_flg"
                  }
                },
                "ColumnName": "グループ見積リマインド不要フラグ"
              },
              {
                "GUID": "01caf326-19ca-4fa0-b5b6-01b38c8da74c",
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "order_customer_id",
                  "GUID": "60470c67-f19d-4e3e-b178-2f3ce639c12c",
                  "RelationBinding": {
                    "RelatedTable": "m_customer",
                    "RelatedColumn": "customer_id",
                    "DisplayColumn": "customer_id",
                    "NextRelationBinding": {
                      "RelatedTable": "m_customer_default",
                      "RelatedColumn": "customer_id",
                      "DisplayColumn": "no_estimate_reminder_flg"
                    }
                  }
                },
                "ColumnName": "申込事業者見積リマインド不要フラグ"
              },
              {
                "GUID": "f976163b-0e41-4a34-99c6-4a8080d287fb",
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "builder_id",
                  "GUID": "e7ca0fb9-75b9-4aa5-9145-ee321fec12e9",
                  "RelationBinding": {
                    "RelatedTable": "m_customer",
                    "RelatedColumn": "customer_id",
                    "DisplayColumn": "customer_id",
                    "NextRelationBinding": {
                      "RelatedTable": "m_customer_default",
                      "RelatedColumn": "customer_id",
                      "DisplayColumn": "no_estimate_reminder_flg"
                    }
                  }
                },
                "ColumnName": "住宅事業者見積リマインド不要フラグ"
              }
            ],
            "SqlCondition": {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_order",
                "ColumnName": "object_order_id",
                "GUID": "94664d4d-5fac-4800-a51a-2b4f545f37a5"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込ID"
              }
            }
          },
          "ID": "07b0132532414544b02ccad40f8501e5"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "指定会社顧客ID",
          "ParameterValue": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=IF(AND(申込情報.グループ既定優先フラグ=1,申込情報.申込事業者ID<>\"\"),申込情報.申込事業者ID,申込情報.住宅事業者ID)"
          },
          "ID": "da4fce1c69114083afaf1aa4fec85e98"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "指定会社住宅事業者ID",
          "ParameterValue": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=IF(申込情報.グループ既定優先フラグ=1,申込情報.住宅事業者ID,\"\")"
          },
          "ID": "48416f30fb7940a09f44d36371fd59da"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "工事見積ステータスID",
          "TableValue": {
            "TableName": "m_construction_estimate_status",
            "OnlyGetValue": true,
            "TableValueType": 0,
            "BindingInfos": [
              {
                "GUID": "ec3a98e7-904a-4eb0-9c76-5dde541b81a8",
                "BindingInfo": {
                  "TableName": "m_construction_estimate_status",
                  "ColumnName": "construction_estimate_status_id",
                  "GUID": "df70411c-c8ce-4150-9063-959354a5ae11"
                },
                "ColumnName": "construction_estimate_status_id"
              }
            ],
            "SqlCondition": {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_construction_estimate_status",
                "ColumnName": "estimate_arrange_wait_flg",
                "GUID": "f2b79bc4-90ee-4a59-970a-7a5641fdf7cc"
              },
              "Value": "1"
            }
          },
          "ID": "0bce219c97494ab79e40d789079de512"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "工事会社",
          "TableValue": {
            "TableName": "m_customer",
            "BindingInfos": [
              {
                "GUID": "a600b2eb-4ce7-4aa4-8ebb-3235335763e3",
                "BindingInfo": {
                  "TableName": "m_customer",
                  "ColumnName": "customer_id",
                  "GUID": "50b01a5c-36a5-4b8e-b145-4f1d22891c14"
                },
                "ColumnName": "工事会社ID"
              },
              {
                "GUID": "ef0610c0-8aeb-4363-b738-347ad2702304",
                "BindingInfo": {
                  "TableName": "m_customer",
                  "ColumnName": "customer_id",
                  "GUID": "c8a85e1f-3510-4eba-9ff7-b5400c5dea26",
                  "RelationBinding": {
                    "RelatedTable": "m_customer_default",
                    "RelatedColumn": "customer_id",
                    "DisplayColumn": "no_estimate_reminder_flg"
                  }
                },
                "ColumnName": "工事会社見積リマインド不要フラグ"
              }
            ],
            "SqlCondition": {
              "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
              "CompareType": 8,
              "ColumnBindingInfo": {
                "TableName": "m_customer",
                "ColumnName": "customer_id",
                "GUID": "04941e9c-5d91-4864-baa5-0ed8d082f0fd"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_工事会社IDs"
              }
            }
          },
          "ID": "f50e48d95c784a4fb4ffb32b372f8cde"
        },
        {
          "$type": "Forguncy.Model.LoopCommand, ServerDesignerCommon",
          "LoopInfo": {
            "$type": "Forguncy.Model.CountLoopInfo, ServerDesignerCommon",
            "LoopCount": {
              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
              "SerializeProperty": "=工事会社"
            },
            "LoopItemParamName": "Item"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "登録済み件数",
              "TableValue": {
                "TableName": "t_object_construction_estimate",
                "TableValueType": 3,
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                  "SubConditions": [
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "object_order_id",
                        "GUID": "a5573dd6-1bea-45a4-b8c2-aff6a62cb860"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "construction_customer_id",
                        "GUID": "05a79459-3c24-4531-941a-1fa495740c69"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=Item.工事会社ID"
                      }
                    }
                  ]
                }
              },
              "ID": "61e9d4bd84be41419365e1cd2d5d300e"
            },
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": [
                {
                  "Condition": {
                    "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                    "param": {
                      "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                      "ParamObject": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=登録済み件数"
                      }
                    },
                    "value": "0"
                  },
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "指定工事会社登録件数",
                      "TableValue": {
                        "TableName": "m_customer_specify_construction",
                        "TableValueType": 3,
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                          "SubConditions": [
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "m_customer_specify_construction",
                                "ColumnName": "customer_id",
                                "GUID": "18779365-093f-4e7b-bbc8-1b826100e8aa"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=指定会社顧客ID"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                              "SubConditions": [
                                {
                                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                  "ColumnBindingInfo": {
                                    "TableName": "m_customer_specify_construction",
                                    "ColumnName": "builder_id",
                                    "GUID": "890bad17-365c-45c0-a765-4a9d2d05f285"
                                  },
                                  "Value": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=指定会社住宅事業者ID"
                                  },
                                  "LeftBracket": 1
                                },
                                {
                                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                  "ColumnBindingInfo": {
                                    "TableName": "m_customer_specify_construction",
                                    "ColumnName": "builder_id",
                                    "GUID": "827216d7-d910-45b5-bab7-e8c30afc4883"
                                  },
                                  "Value": "%Null%",
                                  "RightBracket": 1
                                }
                              ],
                              "RelationType": 1
                            },
                            {
                              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                              "SubConditions": [
                                {
                                  "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                                  "CompareType": 6,
                                  "ColumnBindingInfo": {
                                    "TableName": "m_customer_specify_construction",
                                    "ColumnName": "prefectures",
                                    "GUID": "9f3d0fbf-d797-4ce4-8aca-60f0d8c918e2"
                                  },
                                  "Value": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=申込情報.都道府県名"
                                  },
                                  "LeftBracket": 1
                                },
                                {
                                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                  "ColumnBindingInfo": {
                                    "TableName": "m_customer_specify_construction",
                                    "ColumnName": "prefectures",
                                    "GUID": "bba8872f-931c-4b18-a02d-67e1d5ea80c8"
                                  },
                                  "Value": "%Null%",
                                  "RightBracket": 1
                                }
                              ],
                              "RelationType": 1
                            },
                            {
                              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                              "SubConditions": [
                                {
                                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                  "ColumnBindingInfo": {
                                    "TableName": "m_customer_specify_construction",
                                    "ColumnName": "housing_type",
                                    "GUID": "fba33a65-56f4-4e8d-a196-de92b50a1c28"
                                  },
                                  "Value": "0",
                                  "LeftBracket": 1
                                },
                                {
                                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                  "ColumnBindingInfo": {
                                    "TableName": "m_customer_specify_construction",
                                    "ColumnName": "housing_type",
                                    "GUID": "7b40797c-2864-41c5-b85d-68db9272cea0"
                                  },
                                  "Value": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=申込情報.住宅タイプ"
                                  },
                                  "RightBracket": 1
                                }
                              ],
                              "RelationType": 1
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "m_customer_specify_construction",
                                "ColumnName": "construction_customer_id",
                                "GUID": "3b086c52-bbd4-4b7b-98c1-6faa955f6494",
                                "RelationBinding": {
                                  "RelatedTable": "m_customer",
                                  "RelatedColumn": "customer_id",
                                  "DisplayColumn": "active_flg"
                                }
                              },
                              "Value": "1"
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "m_customer_specify_construction",
                                "ColumnName": "prohibit_flg",
                                "GUID": "8712c236-7767-425a-8988-f7895db2bd0f"
                              },
                              "Value": "0"
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "m_customer_specify_construction",
                                "ColumnName": "construction_customer_id",
                                "GUID": "f4f9abc4-d7c3-4fbf-8f5a-2a4a1c9f6256"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=Item.工事会社ID"
                              }
                            }
                          ]
                        },
                        "NullFormulaValueQueryPolicy": 0,
                        "OrderBySqlCondition": {
                          "OrderByColumns": [
                            {
                              "ColumnBindingInfo": {
                                "TableName": "m_customer_specify_construction",
                                "ColumnName": "builder_id",
                                "GUID": "dd357ffe-3baa-4325-a098-0f31a59a1bdb"
                              },
                              "Order": 0
                            },
                            {
                              "ColumnBindingInfo": {
                                "TableName": "m_customer_specify_construction",
                                "ColumnName": "sort_no",
                                "GUID": "83945778-92fe-4994-99d5-fb924ad4a30e"
                              },
                              "Order": 0
                            }
                          ]
                        }
                      },
                      "ID": "7ed1b3903428447da4695b8039b00679"
                    },
                    {
                      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                      "ConditionAndCommandPairList": [
                        {
                          "Condition": {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=指定工事会社登録件数"
                              }
                            },
                            "value": "0",
                            "compareType": 2
                          },
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                              "ParameterName": "優先度ID",
                              "ParameterValue": "2",
                              "ID": "3e0de8676352473d8ace5d10d8abd6de"
                            }
                          ],
                          "ID": "cda99b50-0bb4-43fe-a949-8ad199b89f63"
                        },
                        {
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                              "ParameterName": "優先度ID",
                              "ParameterValue": "3",
                              "ID": "7c81cce904624f788bcf83c809597348",
                              "Comments": "指定外"
                            }
                          ],
                          "ID": "c2225088-346b-4be3-95a5-ad814279f801"
                        }
                      ]
                    },
                    {
                      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                      "ConditionAndCommandPairList": [
                        {
                          "Condition": {
                            "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                            "SubConditions": [
                              {
                                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                                "param": {
                                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                                  "ParamObject": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=Item.工事会社見積リマインド不要フラグ"
                                  }
                                },
                                "value": "1"
                              },
                              {
                                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                                "param": {
                                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                                  "ParamObject": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=申込情報.グループ見積リマインド不要フラグ"
                                  }
                                },
                                "value": "1"
                              },
                              {
                                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                                "param": {
                                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                                  "ParamObject": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=申込情報.申込事業者見積リマインド不要フラグ"
                                  }
                                },
                                "value": "1"
                              },
                              {
                                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                                "param": {
                                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                                  "ParamObject": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=申込情報.住宅事業者見積リマインド不要フラグ"
                                  }
                                },
                                "value": "1"
                              }
                            ],
                            "RelationType": 1
                          },
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                              "ParameterName": "V_見積リマインドフラグ",
                              "ParameterValue": "0",
                              "ID": "798bc3c96d184bf58af0b096324b305a"
                            }
                          ],
                          "ID": "343b99fc-0fb5-474b-a131-869bb7efc9aa"
                        },
                        {
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                              "ParameterName": "V_見積リマインドフラグ",
                              "ParameterValue": "1",
                              "ID": "6188c1ac2e2d4264853b6b35bb597669"
                            }
                          ],
                          "ID": "a7b31250-13cc-46fa-8299-22e45a5ad575"
                        }
                      ]
                    },
                    {
                      "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                      "TableName": "t_object_construction_estimate",
                      "UpdateType": "add",
                      "ShowConfirm": false,
                      "UpdateBindingValues": [
                        {
                          "BindingInfo": {
                            "TableName": "t_object_construction_estimate",
                            "ColumnName": "construction_estimate_register_date",
                            "GUID": "ed32e522-4bfd-4c47-8a2f-8a7c52375d1c"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=TODAY()"
                          }
                        },
                        {
                          "BindingInfo": {
                            "TableName": "t_object_construction_estimate",
                            "ColumnName": "estimate_urgent_flg",
                            "GUID": "cbc4ee26-c5bb-407e-92e2-06c1c6892805"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.見積至急フラグ"
                          }
                        },
                        {
                          "BindingInfo": {
                            "TableName": "t_object_construction_estimate",
                            "ColumnName": "object_order_id",
                            "GUID": "a250de20-8b01-4879-96f5-858de1cd5665"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=P_申込ID"
                          }
                        },
                        {
                          "BindingInfo": {
                            "TableName": "t_object_construction_estimate",
                            "ColumnName": "construction_customer_id",
                            "GUID": "34918bc1-827c-479a-9beb-482d4d2fb076"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.工事会社ID"
                          }
                        },
                        {
                          "BindingInfo": {
                            "TableName": "t_object_construction_estimate",
                            "ColumnName": "estimate_reminder_flg",
                            "GUID": "e265c1cb-74ad-4dbe-bdec-dcb01dc8377a"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=V_見積リマインドフラグ"
                          }
                        },
                        {
                          "BindingInfo": {
                            "TableName": "t_object_construction_estimate",
                            "ColumnName": "priority_type_id",
                            "GUID": "41b956df-f76b-465e-b385-44cd31948cf1"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=優先度ID"
                          }
                        },
                        {
                          "BindingInfo": {
                            "TableName": "t_object_construction_estimate",
                            "ColumnName": "construction_estimate_status_id",
                            "GUID": "8e6fab63-d028-4800-bee7-9653aec89dfe"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=工事見積ステータスID"
                          }
                        },
                        {
                          "BindingInfo": {
                            "TableName": "t_object_construction_estimate",
                            "ColumnName": "last_updated_label",
                            "GUID": "f03034e2-9b71-4575-bb48-ccc2c4cec95f"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=最終更新ラベル"
                          }
                        }
                      ],
                      "ParamNameToSaveNewRowValue": "New工事見積"
                    }
                  ],
                  "ID": "9f3ff3e3-aae4-4ece-bc09-0999f2718e03"
                }
              ]
            }
          ]
        },
        {
          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
          "ServerCommandName": "工事見積最大ステータス更新処理",
          "Parameters": [
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "P_申込ID",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込ID"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "P_工事ID",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=申込情報.最新工事ID"
              }
            },
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "P_工事完了フラグ",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=申込情報.工事完了フラグ"
              }
            }
          ],
          "ReturnPropertiesTo": [
            {
              "ResultPropertyName": "R_有効見積業者数"
            }
          ],
          "RefreshAfterFinish": true,
          "CheckDataValidation": true
        }
      ]
    }
  ]
}