{
  "Name": "請求データ更新処理",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_申込ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_物件商品ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売上ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売上日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売掛区分",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売上区分",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求番号",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求先ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求商品ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求商品名",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求備考",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求備考2",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_税抜金額",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_消費税額",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求金額",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_消費税率",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_回収予定日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_専用請求番号",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_発注書必要フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_発注書受領日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求日変更フラグ",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "IsolationLevel": 256,
      "CommandList": [
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_請求日変更フラグ"
                  }
                },
                "value": "1"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_sales",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_sales",
                      "ColumnName": "sales_id",
                      "GUID": "540b235d-9e37-43a0-b138-74c64784fbf3"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_売上ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "delete_flg",
                        "GUID": "8f13ca5b-d0c3-4199-9ce2-d02f5b80d949"
                      },
                      "Value": "1"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
                  "ServerCommandName": "請求データ作成処理",
                  "Parameters": [
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_申込ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_物件商品ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_物件商品ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_売上日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_売掛区分",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売掛区分"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_売上区分",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上区分"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求先ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求商品ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求商品ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求商品名",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求商品名"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求備考",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求備考"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求備考2",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求備考2"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_税抜金額",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_税抜金額"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_消費税額",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税額"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_消費税率",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税率"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_専用請求番号",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_専用請求番号"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_発注書必要フラグ",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書必要フラグ"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_発注書受領日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書受領日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_回収予定日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_回収予定日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_取消売上ID"
                    }
                  ],
                  "ResultErrorCodeTo": {
                    "SerializeProperty": "リターンコード"
                  },
                  "ResultMessageTo": {
                    "SerializeProperty": "リターンメッセージ"
                  },
                  "RefreshAfterFinish": true,
                  "CheckDataValidation": true
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンコード"
                          }
                        },
                        "value": "0",
                        "compareType": 1
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンコード"
                          },
                          "Message": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンメッセージ"
                          }
                        }
                      ],
                      "ID": "42bc451f-b9b1-4840-9b8c-ac71ebfa5c46"
                    }
                  ]
                }
              ],
              "ID": "efde3e8b-af21-445a-aa6e-55835373032f"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "請求先マスタ",
                  "TableValue": {
                    "TableName": "m_customer",
                    "TableValueType": 1,
                    "BindingInfos": [
                      {
                        "GUID": "bb6fe1ad-4d78-4ea6-a071-188556955f91",
                        "BindingInfo": {
                          "TableName": "m_customer",
                          "ColumnName": "請求先名",
                          "GUID": "0299f49a-18aa-4f1a-9d25-6caac27b17f7"
                        },
                        "ColumnName": "請求先名"
                      },
                      {
                        "GUID": "47bf7466-f65f-4aba-992e-66a6f7852b14",
                        "BindingInfo": {
                          "TableName": "m_customer",
                          "ColumnName": "billing_send_way",
                          "GUID": "ee9caf6f-07c2-44b7-9be4-f6c31d7aa5fe"
                        },
                        "ColumnName": "請求書送付方法"
                      },
                      {
                        "GUID": "116270ac-528b-4fc4-9608-888c73863461",
                        "BindingInfo": {
                          "TableName": "m_customer",
                          "ColumnName": "invoice_issue_unit_id",
                          "GUID": "927020d4-f1e1-4707-ac9d-6e0c854b6ae1"
                        },
                        "ColumnName": "請求書発行単位ID"
                      },
                      {
                        "GUID": "5277b04b-b877-4552-b156-160bba8aafdb",
                        "BindingInfo": {
                          "TableName": "m_customer",
                          "ColumnName": "object_user_describe_flg",
                          "GUID": "d4b32f4e-0005-4916-9d7e-5ef198de6e0b"
                        },
                        "ColumnName": "物件担当者記載フラグ"
                      }
                    ],
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "m_customer",
                        "ColumnName": "customer_id",
                        "GUID": "5efec393-9554-4667-9c56-86db21f8676d"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    }
                  },
                  "ID": "8fa3373b45084b2fb25ec46b2bc6c984"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "売上情報",
                  "TableValue": {
                    "TableName": "t_sales",
                    "TableValueType": 1,
                    "BindingInfos": [
                      {
                        "GUID": "a35a2306-060f-44bc-98de-bd639e9e1c8e",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "billing_comp_id",
                          "GUID": "6f8732e0-f011-4058-a975-2c6657cff977"
                        },
                        "ColumnName": "請求先ID"
                      },
                      {
                        "GUID": "27ad5a78-e808-4a73-a2e4-d01a65067b00",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "billing_no",
                          "GUID": "464ef830-d07f-4314-903e-9979244ffc49"
                        },
                        "ColumnName": "請求番号"
                      },
                      {
                        "GUID": "6e0caa0d-22e9-4727-a953-8833988b59c3",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "74f25e7c-a73d-4f9d-a31c-0ae0c82b4a66",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_id"
                          }
                        },
                        "ColumnName": "物件ID"
                      },
                      {
                        "GUID": "9d00561f-5621-4b4a-b411-9f717f967a4a",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "fe4067ed-b3d4-45fa-9c25-e443dbcaabe3",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_user_id"
                          }
                        },
                        "ColumnName": "物件担当者ID"
                      },
                      {
                        "GUID": "c76bcbf2-cf35-4b64-ba2c-78c7a402ddae",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "15488ac1-287d-479d-9e24-298a5cd7eea5",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_user_id",
                            "NextRelationBinding": {
                              "RelatedTable": "m_user",
                              "RelatedColumn": "user_id",
                              "DisplayColumn": "user_name"
                            }
                          }
                        },
                        "ColumnName": "物件担当者名"
                      },
                      {
                        "GUID": "970928c8-b513-4ed0-92db-a6a465e622f2",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "e3db387b-aad8-4aec-9e5c-6f92b6ba29e6",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_id",
                            "NextRelationBinding": {
                              "RelatedTable": "t_object",
                              "RelatedColumn": "object_id",
                              "DisplayColumn": "物件名"
                            }
                          }
                        },
                        "ColumnName": "物件名"
                      },
                      {
                        "GUID": "3da62f74-26d3-4f6b-b069-9de1457816c6",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "b8021038-8581-41ca-b780-979af7d57957",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_id",
                            "NextRelationBinding": {
                              "RelatedTable": "t_object",
                              "RelatedColumn": "object_id",
                              "DisplayColumn": "物件住所"
                            }
                          }
                        },
                        "ColumnName": "物件住所"
                      },
                      {
                        "GUID": "3f3acbca-2c49-49d8-8582-8aab0c1820ea",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "0e3fa8fd-0d18-4f74-ae82-5e52b2891354",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "builder_id"
                          }
                        },
                        "ColumnName": "住宅事業者ID"
                      },
                      {
                        "GUID": "ef795b63-6230-426e-bb4b-e38c3b3f8dfc",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "6555dd70-8246-4e62-934d-e0ab71c6fbd2",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "builder_id",
                            "NextRelationBinding": {
                              "RelatedTable": "m_customer",
                              "RelatedColumn": "customer_id",
                              "DisplayColumn": "customer_abbr"
                            }
                          }
                        },
                        "ColumnName": "住宅事業者名"
                      }
                    ],
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "sales_id",
                        "GUID": "f655d5f2-5967-4097-8abe-32acde75e64a"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上ID"
                      }
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "73228e8892ea4f878a01a1683dfbb11d"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_物件担当者名",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=IF(売上情報.物件担当者名<>\"\",\"担当者：\"&売上情報.物件担当者名&\"様\",\"\")"
                  },
                  "ID": "e1dafbf9ba6b45669f6dada70dea7eaf"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_物件名",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.物件名"
                  },
                  "ID": "0268f23508c1469ba4abe66d08a328b7"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_物件住所",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.物件住所"
                  },
                  "ID": "31318f8257b741378966b667c9702d85"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_住宅事業者ID",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.住宅事業者ID"
                  },
                  "ID": "24accfe1ac124837ad2c85149f91035c"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_住宅事業者名",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.住宅事業者名"
                  },
                  "ID": "9e443ba98cac490c9c3d286e086e2a2c"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_請求番号",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.請求番号"
                  },
                  "ID": "07fed91c5c5f402fb016e42e50a85594"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "請求データカウント",
                  "TableValue": {
                    "TableName": "t_sales",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_no",
                        "GUID": "6dd9211b-47ad-4fa5-b682-3a3b7c326c19"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_請求番号"
                      }
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "dd31afa51b594c47b52c1ff33baa56a7"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                        "SubConditions": [
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求先ID"
                              }
                            },
                            "value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=売上情報.請求先ID"
                            },
                            "compareType": 1
                          },
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=請求データカウント"
                              }
                            },
                            "value": "1",
                            "compareType": 2
                          }
                        ]
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
                          "ServerCommandName": "請求番号取得",
                          "Parameters": [
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_請求先ID",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求先ID"
                              }
                            },
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_物件ID",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=売上情報.物件ID"
                              }
                            },
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_物件担当者ID",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=売上情報.物件担当者ID"
                              }
                            },
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_請求日",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求日"
                              }
                            }
                          ],
                          "ReturnPropertiesTo": [
                            {
                              "ResultPropertyName": "R_請求番号",
                              "ResultTo": {
                                "SerializeProperty": "V_請求番号"
                              }
                            },
                            {
                              "ResultPropertyName": "R_請求連番"
                            }
                          ],
                          "RefreshAfterFinish": true,
                          "CheckDataValidation": true
                        }
                      ],
                      "Comments": "請求先が変更された場合",
                      "ID": "6dd18603-7090-4a14-b807-783f19a4fe91"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_請求備考2",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_請求備考2"
                  },
                  "ID": "3820da38e7684d99955481fb6ae24985"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=請求先マスタ.物件担当者記載フラグ"
                          }
                        },
                        "value": "1"
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "V_請求備考2",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=IF(V_物件担当者名<>\"\",V_物件担当者名,P_請求備考2)"
                          },
                          "ID": "89fad927335c4c848df090cbc2f69d8e"
                        }
                      ],
                      "Comments": "物件担当者記載アリの場合",
                      "ID": "4013d445-c718-437b-affe-d2c4027cbaf0"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_sales",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_sales",
                      "ColumnName": "sales_id",
                      "GUID": "e785ecd6-041b-4f26-9a76-4f6ae71243c5"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_売上ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "sales_date",
                        "GUID": "5405a3e0-2154-4d83-a00a-f51f9760ec1d"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上日"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_no",
                        "GUID": "45a8a145-8177-4333-beab-09cdb3aaf27d"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_請求番号"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "accounts_receivable_type",
                        "GUID": "bf125efd-9a1a-4857-8f71-fa662ce20675"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売掛区分"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_comp_id",
                        "GUID": "536279ef-d0f8-4e39-b4ba-45fef20eb203"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_name",
                        "GUID": "66fbbb18-0d56-4e04-a30c-5f5d7391f2eb"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=請求先マスタ.請求先名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "excluding_tax_amount",
                        "GUID": "f42db7cc-2827-4123-8260-012e90a690f4"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_税抜金額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "tax_amount",
                        "GUID": "13f1a115-2dd3-4704-a26d-558eebcff913"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_amount",
                        "GUID": "ce7dcda8-5baa-4ff0-8241-3e3de96c28b3"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求金額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "receipt_balance",
                        "GUID": "fd3992ad-4b90-4b8c-90c6-8c6e8afd1372"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求金額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "tax_rate",
                        "GUID": "a6023e54-ddcd-4073-bbda-95577a93bbce"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税率"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_remarks",
                        "GUID": "18e54dba-75f6-47ef-b5c3-da97abdeda47"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求備考"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_remarks2",
                        "GUID": "009d5df6-b260-48d0-b870-fc7f32e06b7e"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_請求備考2"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "dedicated_billing_no",
                        "GUID": "75c0bc33-eec3-4511-9578-779acca0c15b"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_専用請求番号"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "purchase_required_flg",
                        "GUID": "4ab87e79-f5c4-4ae2-84ac-c9fa3b9aba06"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書必要フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "purchase_receipt_date",
                        "GUID": "f2d3b5dd-5da1-4ae1-b0ee-a2d43232496f"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書受領日"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "builder_name",
                        "GUID": "3b40b524-c8e9-405e-95b6-c09ec7c2e44a"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_住宅事業者名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "builder_id",
                        "GUID": "210f1797-0ca7-4d4c-a764-16ae12c1918d"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_住宅事業者ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "object_name",
                        "GUID": "fc76df08-0c5b-4e04-b588-69966b89dded"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_物件名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "object_address",
                        "GUID": "4bff2af2-6b37-4314-8403-5ce75d73d1ce"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_物件住所"
                      }
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_sales",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                    "SubConditions": [
                      {
                        "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                        "ColumnBindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "billing_no",
                          "GUID": "2e046d95-ec93-44ee-99ae-9e0b5d16f0de"
                        },
                        "Value": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=V_請求番号"
                        }
                      },
                      {
                        "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                        "SubConditions": [
                          {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "CompareType": 1,
                            "ColumnBindingInfo": {
                              "TableName": "t_sales",
                              "ColumnName": "billing_name",
                              "GUID": "7d250e90-bb36-41b5-8547-9a948f429f26"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=請求先マスタ.請求先名"
                            },
                            "LeftBracket": 1
                          },
                          {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "CompareType": 1,
                            "ColumnBindingInfo": {
                              "TableName": "t_sales",
                              "ColumnName": "billing_send_way",
                              "GUID": "abc80039-ebf2-42b5-b7bd-3b39deede4df"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=請求先マスタ.請求書送付方法"
                            }
                          },
                          {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "CompareType": 1,
                            "ColumnBindingInfo": {
                              "TableName": "t_sales",
                              "ColumnName": "invoice_issue_unit_id",
                              "GUID": "e539a7c6-c421-4ec6-9b32-a99a639ee66a"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=請求先マスタ.請求書発行単位ID"
                            },
                            "RightBracket": 1
                          }
                        ],
                        "RelationType": 1
                      }
                    ]
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_name",
                        "GUID": "0a2f6c6c-0fff-4c8d-af55-1234eaff98b7"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=請求先マスタ.請求先名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_send_way",
                        "GUID": "443d49be-057d-427e-a471-01a6bd551a39"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=請求先マスタ.請求書送付方法"
                      }
                    }
                  ],
                  "Comments": "請求書送付方法を一括更新"
                }
              ],
              "ID": "7bfc025a-09be-4c06-b4a9-9754e0740d8d"
            }
          ]
        }
      ]
    }
  ]
}