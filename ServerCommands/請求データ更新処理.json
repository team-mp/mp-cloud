{
  "Name": "請求データ更新処理",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_申込ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_物件商品ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売上ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売上日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売掛区分",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売上区分",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求番号",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求先ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求商品ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求商品名",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求備考",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求備考2",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_税抜金額",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_消費税額",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求金額",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_消費税率",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_回収予定日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_専用請求番号",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_発注書必要フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_発注書受領日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求日変更フラグ",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "IsolationLevel": 256,
      "CommandList": [
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_請求日変更フラグ"
                  }
                },
                "value": "1"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_sales",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_sales",
                      "ColumnName": "sales_id",
                      "GUID": "540b235d-9e37-43a0-b138-74c64784fbf3"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_売上ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "delete_flg",
                        "GUID": "519a274b-2e5b-44ce-834f-49c6242c1552"
                      },
                      "Value": "1"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
                  "ServerCommandName": "請求データ作成処理",
                  "Parameters": [
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_申込ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_物件商品ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_物件商品ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_売上日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_売掛区分",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売掛区分"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_売上区分",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上区分"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求先ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求商品ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求商品ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求商品名",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求商品名"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求備考",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求備考"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求備考2",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求備考2"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_税抜金額",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_税抜金額"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_消費税額",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税額"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_消費税率",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税率"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_専用請求番号",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_専用請求番号"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_発注書必要フラグ",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書必要フラグ"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_発注書受領日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書受領日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_回収予定日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_回収予定日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_取消売上ID"
                    }
                  ],
                  "ResultErrorCodeTo": {
                    "SerializeProperty": "リターンコード"
                  },
                  "ResultMessageTo": {
                    "SerializeProperty": "リターンメッセージ"
                  },
                  "RefreshAfterFinish": true,
                  "CheckDataValidation": true
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンコード"
                          }
                        },
                        "value": "0",
                        "compareType": 1
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンコード"
                          },
                          "Message": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンメッセージ"
                          }
                        }
                      ],
                      "ID": "284e4fa5-568f-4460-9544-131c1022fb03"
                    }
                  ]
                }
              ],
              "ID": "25aac523-8683-4201-ae6c-968718b2f872"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "請求先マスタ",
                  "TableValue": {
                    "TableName": "m_customer",
                    "TableValueType": 1,
                    "BindingInfos": [
                      {
                        "GUID": "bfdae5c2-553f-4d74-995e-212e3543baa3",
                        "BindingInfo": {
                          "TableName": "m_customer",
                          "ColumnName": "請求先名",
                          "GUID": "0299f49a-18aa-4f1a-9d25-6caac27b17f7"
                        },
                        "ColumnName": "請求先名"
                      },
                      {
                        "GUID": "e23b2da8-0967-4e93-9458-055df23532d6",
                        "BindingInfo": {
                          "TableName": "m_customer",
                          "ColumnName": "billing_send_way",
                          "GUID": "ee9caf6f-07c2-44b7-9be4-f6c31d7aa5fe"
                        },
                        "ColumnName": "請求書送付方法"
                      },
                      {
                        "GUID": "e119bca1-4947-45d2-a2e3-e7af83d25771",
                        "BindingInfo": {
                          "TableName": "m_customer",
                          "ColumnName": "object_user_describe_flg",
                          "GUID": "d4b32f4e-0005-4916-9d7e-5ef198de6e0b"
                        },
                        "ColumnName": "物件担当者記載フラグ"
                      }
                    ],
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "m_customer",
                        "ColumnName": "customer_id",
                        "GUID": "5efec393-9554-4667-9c56-86db21f8676d"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    }
                  },
                  "ID": "decb39260255460381da0a00b556d3db"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "売上情報",
                  "TableValue": {
                    "TableName": "t_sales",
                    "TableValueType": 1,
                    "BindingInfos": [
                      {
                        "GUID": "a35a2306-060f-44bc-98de-bd639e9e1c8e",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "billing_comp_id",
                          "GUID": "6f8732e0-f011-4058-a975-2c6657cff977"
                        },
                        "ColumnName": "請求先ID"
                      },
                      {
                        "GUID": "27ad5a78-e808-4a73-a2e4-d01a65067b00",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "billing_no",
                          "GUID": "464ef830-d07f-4314-903e-9979244ffc49"
                        },
                        "ColumnName": "請求番号"
                      },
                      {
                        "GUID": "6e0caa0d-22e9-4727-a953-8833988b59c3",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "74f25e7c-a73d-4f9d-a31c-0ae0c82b4a66",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_id"
                          }
                        },
                        "ColumnName": "物件ID"
                      },
                      {
                        "GUID": "9d00561f-5621-4b4a-b411-9f717f967a4a",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "fe4067ed-b3d4-45fa-9c25-e443dbcaabe3",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_user_id"
                          }
                        },
                        "ColumnName": "物件担当者ID"
                      },
                      {
                        "GUID": "c76bcbf2-cf35-4b64-ba2c-78c7a402ddae",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "15488ac1-287d-479d-9e24-298a5cd7eea5",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_user_id",
                            "NextRelationBinding": {
                              "RelatedTable": "m_user",
                              "RelatedColumn": "user_id",
                              "DisplayColumn": "user_name"
                            }
                          }
                        },
                        "ColumnName": "物件担当者名"
                      },
                      {
                        "GUID": "970928c8-b513-4ed0-92db-a6a465e622f2",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "e3db387b-aad8-4aec-9e5c-6f92b6ba29e6",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_id",
                            "NextRelationBinding": {
                              "RelatedTable": "t_object",
                              "RelatedColumn": "object_id",
                              "DisplayColumn": "物件名"
                            }
                          }
                        },
                        "ColumnName": "物件名"
                      },
                      {
                        "GUID": "3da62f74-26d3-4f6b-b069-9de1457816c6",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "b8021038-8581-41ca-b780-979af7d57957",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_id",
                            "NextRelationBinding": {
                              "RelatedTable": "t_object",
                              "RelatedColumn": "object_id",
                              "DisplayColumn": "物件住所"
                            }
                          }
                        },
                        "ColumnName": "物件住所"
                      },
                      {
                        "GUID": "3f3acbca-2c49-49d8-8582-8aab0c1820ea",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "0e3fa8fd-0d18-4f74-ae82-5e52b2891354",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "builder_id"
                          }
                        },
                        "ColumnName": "住宅事業者ID"
                      },
                      {
                        "GUID": "ef795b63-6230-426e-bb4b-e38c3b3f8dfc",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "6555dd70-8246-4e62-934d-e0ab71c6fbd2",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "builder_id",
                            "NextRelationBinding": {
                              "RelatedTable": "m_customer",
                              "RelatedColumn": "customer_id",
                              "DisplayColumn": "customer_abbr"
                            }
                          }
                        },
                        "ColumnName": "住宅事業者名"
                      }
                    ],
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "sales_id",
                        "GUID": "f655d5f2-5967-4097-8abe-32acde75e64a"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上ID"
                      }
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "73228e8892ea4f878a01a1683dfbb11d"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_物件担当者名",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=IF(売上情報.物件担当者名<>\"\",\"担当者：\"&売上情報.物件担当者名&\"様\",\"\")"
                  },
                  "ID": "e1dafbf9ba6b45669f6dada70dea7eaf"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_物件名",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.物件名"
                  },
                  "ID": "0268f23508c1469ba4abe66d08a328b7"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_物件住所",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.物件住所"
                  },
                  "ID": "31318f8257b741378966b667c9702d85"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_住宅事業者ID",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.住宅事業者ID"
                  },
                  "ID": "24accfe1ac124837ad2c85149f91035c"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_住宅事業者名",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.住宅事業者名"
                  },
                  "ID": "9e443ba98cac490c9c3d286e086e2a2c"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_請求番号",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.請求番号"
                  },
                  "ID": "07fed91c5c5f402fb016e42e50a85594"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "請求データカウント",
                  "TableValue": {
                    "TableName": "t_sales",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_no",
                        "GUID": "6dd9211b-47ad-4fa5-b682-3a3b7c326c19"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_請求番号"
                      }
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "dd31afa51b594c47b52c1ff33baa56a7"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                        "SubConditions": [
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求先ID"
                              }
                            },
                            "value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=売上情報.請求先ID"
                            },
                            "compareType": 1
                          },
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=請求データカウント"
                              }
                            },
                            "value": "1",
                            "compareType": 2
                          }
                        ]
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
                          "ServerCommandName": "請求番号取得",
                          "Parameters": [
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_請求先ID",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求先ID"
                              }
                            },
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_物件ID",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=売上情報.物件ID"
                              }
                            },
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_物件担当者ID",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=売上情報.物件担当者ID"
                              }
                            },
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_請求日",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求日"
                              }
                            }
                          ],
                          "ReturnPropertiesTo": [
                            {
                              "ResultPropertyName": "R_請求番号",
                              "ResultTo": {
                                "SerializeProperty": "V_請求番号"
                              }
                            },
                            {
                              "ResultPropertyName": "R_請求連番"
                            }
                          ],
                          "RefreshAfterFinish": true,
                          "CheckDataValidation": true
                        }
                      ],
                      "Comments": "請求先が変更された場合",
                      "ID": "fea95a26-26b0-4bf5-903a-f21e87a78e3d"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_請求備考2",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_請求備考2"
                  },
                  "ID": "3820da38e7684d99955481fb6ae24985"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=請求先マスタ.物件担当者記載フラグ"
                          }
                        },
                        "value": "1"
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "V_請求備考2",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=IF(V_物件担当者名<>\"\",V_物件担当者名,P_請求備考2)"
                          },
                          "ID": "89fad927335c4c848df090cbc2f69d8e"
                        }
                      ],
                      "Comments": "物件担当者記載アリの場合",
                      "ID": "32000e09-0817-49b9-aebf-c60bc633a13a"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_sales",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_sales",
                      "ColumnName": "sales_id",
                      "GUID": "e785ecd6-041b-4f26-9a76-4f6ae71243c5"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_売上ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "sales_date",
                        "GUID": "41dbabe1-c744-47a8-8d88-230bcf512a36"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上日"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_no",
                        "GUID": "df124d14-223f-4cf4-8463-6cf08ec52572"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_請求番号"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "accounts_receivable_type",
                        "GUID": "7aed5ed3-1af5-462c-b708-344cd82d94c6"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売掛区分"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_comp_id",
                        "GUID": "2a87d0c7-b76f-4ab6-ae33-01fc648d4cfd"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_name",
                        "GUID": "9e5f2d30-9892-4f03-bcc1-c7e14432932b"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=請求先マスタ.請求先名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "excluding_tax_amount",
                        "GUID": "495ca371-ad1b-4196-acbe-3f1f7ece3a45"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_税抜金額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "tax_amount",
                        "GUID": "8b157459-cdcc-49ef-93c2-5a7cf6c091e0"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_amount",
                        "GUID": "3e37582b-7515-436b-882b-79ff3c73ecef"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求金額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "receipt_balance",
                        "GUID": "72307bd9-56d4-427d-a1a8-6629f6c01932"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求金額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "tax_rate",
                        "GUID": "f28010a4-7063-4e00-be73-2e2e8d39fd48"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税率"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_remarks",
                        "GUID": "dd814fa6-cc09-4f46-b1b7-8658ba84dcd9"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求備考"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_remarks2",
                        "GUID": "d703684b-4099-4d98-afc9-853df7f68839"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_請求備考2"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "dedicated_billing_no",
                        "GUID": "2247a45d-7bb0-4564-810e-bc29e53295d7"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_専用請求番号"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "purchase_required_flg",
                        "GUID": "6ff6bdcb-79cb-4272-be6e-e175f3304b7f"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書必要フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "purchase_receipt_date",
                        "GUID": "fb27c3a3-686a-4a4a-aad7-368da9f47a4a"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書受領日"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "builder_name",
                        "GUID": "e7498a6a-cc5b-454c-b335-16cf2bf2935f"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_住宅事業者名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "builder_id",
                        "GUID": "f1aefffd-a443-43ff-b532-6a77c30e1d93"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_住宅事業者ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "object_name",
                        "GUID": "cf808536-60be-4094-a7ab-72e6b0a3e5c7"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_物件名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "object_address",
                        "GUID": "48c1becf-ebe9-4eb7-a7cf-930ca1569e39"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_物件住所"
                      }
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_sales",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                    "SubConditions": [
                      {
                        "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                        "ColumnBindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "billing_no",
                          "GUID": "2e046d95-ec93-44ee-99ae-9e0b5d16f0de"
                        },
                        "Value": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=V_請求番号"
                        }
                      },
                      {
                        "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                        "SubConditions": [
                          {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "CompareType": 1,
                            "ColumnBindingInfo": {
                              "TableName": "t_sales",
                              "ColumnName": "billing_name",
                              "GUID": "7d250e90-bb36-41b5-8547-9a948f429f26"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=請求先マスタ.請求先名"
                            },
                            "LeftBracket": 1
                          },
                          {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "CompareType": 1,
                            "ColumnBindingInfo": {
                              "TableName": "t_sales",
                              "ColumnName": "billing_send_way",
                              "GUID": "abc80039-ebf2-42b5-b7bd-3b39deede4df"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=請求先マスタ.請求書送付方法"
                            },
                            "RightBracket": 1
                          }
                        ],
                        "RelationType": 1
                      }
                    ]
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_name",
                        "GUID": "13e75739-720a-4937-9384-13f71a13bb91"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=請求先マスタ.請求先名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_send_way",
                        "GUID": "a9f139cf-7f7e-4150-8557-1c36a21cf47b"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=請求先マスタ.請求書送付方法"
                      }
                    }
                  ],
                  "Comments": "請求書送付方法を一括更新"
                }
              ],
              "ID": "dfdfb00f-5b14-4004-9dd2-529b44bc203f"
            }
          ]
        }
      ]
    }
  ]
}