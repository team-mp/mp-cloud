{
  "Name": "請求データ更新処理",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_申込ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_物件商品ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売上ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売上日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売掛区分",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_売上区分",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求番号",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求先ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求商品ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求商品名",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求備考",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求備考2",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_税抜金額",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_消費税額",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求金額",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_消費税率",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_回収予定日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_専用請求番号",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_発注書必要フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_発注書受領日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求日変更フラグ",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "CommandList": [
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_請求日変更フラグ"
                  }
                },
                "value": "1"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_sales",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_sales",
                      "ColumnName": "sales_id",
                      "GUID": "540b235d-9e37-43a0-b138-74c64784fbf3"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_売上ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "delete_flg",
                        "GUID": "5f521cd2-4400-4606-a95c-b3b18a215a42"
                      },
                      "Value": "1"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
                  "ServerCommandName": "請求データ作成処理",
                  "Parameters": [
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_申込ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_物件商品ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_物件商品ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_売上日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_売掛区分",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売掛区分"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_売上区分",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上区分"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求先ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求商品ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求商品ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求商品名",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求商品名"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求備考",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求備考"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求備考2",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求備考2"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_税抜金額",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_税抜金額"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_消費税額",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税額"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_消費税率",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税率"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_専用請求番号",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_専用請求番号"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_発注書必要フラグ",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書必要フラグ"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_発注書受領日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書受領日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_請求日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_回収予定日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_回収予定日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_取消売上ID"
                    }
                  ],
                  "ResultErrorCodeTo": {
                    "SerializeProperty": "リターンコード"
                  },
                  "ResultMessageTo": {
                    "SerializeProperty": "リターンメッセージ"
                  },
                  "RefreshAfterFinish": true,
                  "CheckDataValidation": true
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンコード"
                          }
                        },
                        "value": "0",
                        "compareType": 1
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンコード"
                          },
                          "Message": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンメッセージ"
                          }
                        }
                      ],
                      "ID": "ff85cc93-377d-401b-b8b7-064ae2ff281d"
                    }
                  ]
                }
              ],
              "ID": "0e9e011c-635a-4683-8775-aa06f48bf7e0"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "請求先マスタ",
                  "TableValue": {
                    "TableName": "m_customer",
                    "TableValueType": 1,
                    "BindingInfos": [
                      {
                        "GUID": "bb6fe1ad-4d78-4ea6-a071-188556955f91",
                        "BindingInfo": {
                          "TableName": "m_customer",
                          "ColumnName": "請求先名",
                          "GUID": "0299f49a-18aa-4f1a-9d25-6caac27b17f7"
                        },
                        "ColumnName": "請求先名"
                      },
                      {
                        "GUID": "47bf7466-f65f-4aba-992e-66a6f7852b14",
                        "BindingInfo": {
                          "TableName": "m_customer",
                          "ColumnName": "billing_send_way",
                          "GUID": "ee9caf6f-07c2-44b7-9be4-f6c31d7aa5fe"
                        },
                        "ColumnName": "請求書送付方法"
                      },
                      {
                        "GUID": "116270ac-528b-4fc4-9608-888c73863461",
                        "BindingInfo": {
                          "TableName": "m_customer",
                          "ColumnName": "invoice_issue_unit_id",
                          "GUID": "927020d4-f1e1-4707-ac9d-6e0c854b6ae1"
                        },
                        "ColumnName": "請求書発行単位ID"
                      },
                      {
                        "GUID": "5277b04b-b877-4552-b156-160bba8aafdb",
                        "BindingInfo": {
                          "TableName": "m_customer",
                          "ColumnName": "object_user_describe_flg",
                          "GUID": "d4b32f4e-0005-4916-9d7e-5ef198de6e0b"
                        },
                        "ColumnName": "物件担当者記載フラグ"
                      }
                    ],
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "m_customer",
                        "ColumnName": "customer_id",
                        "GUID": "5efec393-9554-4667-9c56-86db21f8676d"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    }
                  },
                  "ID": "8fa3373b45084b2fb25ec46b2bc6c984"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "売上情報",
                  "TableValue": {
                    "TableName": "t_sales",
                    "TableValueType": 1,
                    "BindingInfos": [
                      {
                        "GUID": "9c61fa52-538d-4028-9eb9-bde081d41d16",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "billing_comp_id",
                          "GUID": "6f8732e0-f011-4058-a975-2c6657cff977"
                        },
                        "ColumnName": "請求先ID"
                      },
                      {
                        "GUID": "001fcaef-681e-44e3-aa27-38bfd2e99a79",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "billing_no",
                          "GUID": "464ef830-d07f-4314-903e-9979244ffc49"
                        },
                        "ColumnName": "請求番号"
                      },
                      {
                        "GUID": "a6de79eb-9111-45b7-92e1-b7550d89c696",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "74f25e7c-a73d-4f9d-a31c-0ae0c82b4a66",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_id"
                          }
                        },
                        "ColumnName": "物件ID"
                      },
                      {
                        "GUID": "f496fb32-4b02-4dd3-ae3e-c6de6de9ef00",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "fe4067ed-b3d4-45fa-9c25-e443dbcaabe3",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_user_id"
                          }
                        },
                        "ColumnName": "物件担当者ID"
                      },
                      {
                        "GUID": "e95297ed-68dd-4fc1-8baf-1daa44534894",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "15488ac1-287d-479d-9e24-298a5cd7eea5",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_user_id",
                            "NextRelationBinding": {
                              "RelatedTable": "m_user",
                              "RelatedColumn": "user_id",
                              "DisplayColumn": "user_name"
                            }
                          }
                        },
                        "ColumnName": "物件担当者名"
                      },
                      {
                        "GUID": "4b17cdb2-4cd7-4d88-923f-0513079447bb",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "e3db387b-aad8-4aec-9e5c-6f92b6ba29e6",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_id",
                            "NextRelationBinding": {
                              "RelatedTable": "t_object",
                              "RelatedColumn": "object_id",
                              "DisplayColumn": "物件名"
                            }
                          }
                        },
                        "ColumnName": "物件名"
                      },
                      {
                        "GUID": "76885838-5b67-4dde-a1ae-3ba21cbb01dc",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "b8021038-8581-41ca-b780-979af7d57957",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_id",
                            "NextRelationBinding": {
                              "RelatedTable": "t_object",
                              "RelatedColumn": "object_id",
                              "DisplayColumn": "物件住所"
                            }
                          }
                        },
                        "ColumnName": "物件住所"
                      },
                      {
                        "GUID": "a600f58b-4f5b-4a57-911a-4200874db9d0",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "0e3fa8fd-0d18-4f74-ae82-5e52b2891354",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "builder_id"
                          }
                        },
                        "ColumnName": "住宅事業者ID"
                      },
                      {
                        "GUID": "847b72a2-191c-400b-a659-b5ddba98f0cb",
                        "BindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "GUID": "6555dd70-8246-4e62-934d-e0ab71c6fbd2",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "builder_id",
                            "NextRelationBinding": {
                              "RelatedTable": "m_customer",
                              "RelatedColumn": "customer_id",
                              "DisplayColumn": "customer_abbr"
                            }
                          }
                        },
                        "ColumnName": "住宅事業者名"
                      }
                    ],
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "sales_id",
                        "GUID": "f655d5f2-5967-4097-8abe-32acde75e64a"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上ID"
                      }
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "76e50d69899f443bb7f4df6f443da59e"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_物件担当者名",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=IF(売上情報.物件担当者名<>\"\",\"担当者：\"&売上情報.物件担当者名&\"様\",\"\")"
                  },
                  "ID": "e1dafbf9ba6b45669f6dada70dea7eaf"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_物件名",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.物件名"
                  },
                  "ID": "0268f23508c1469ba4abe66d08a328b7"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_物件住所",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.物件住所"
                  },
                  "ID": "31318f8257b741378966b667c9702d85"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_住宅事業者ID",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.住宅事業者ID"
                  },
                  "ID": "24accfe1ac124837ad2c85149f91035c"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_住宅事業者名",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.住宅事業者名"
                  },
                  "ID": "9e443ba98cac490c9c3d286e086e2a2c"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_請求番号",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=売上情報.請求番号"
                  },
                  "ID": "07fed91c5c5f402fb016e42e50a85594"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "請求データカウント",
                  "TableValue": {
                    "TableName": "t_sales",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_no",
                        "GUID": "6dd9211b-47ad-4fa5-b682-3a3b7c326c19"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_請求番号"
                      }
                    },
                    "NullFormulaValueQueryPolicy": 0
                  },
                  "ID": "dd31afa51b594c47b52c1ff33baa56a7"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                        "SubConditions": [
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求先ID"
                              }
                            },
                            "value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=売上情報.請求先ID"
                            },
                            "compareType": 1
                          },
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=請求データカウント"
                              }
                            },
                            "value": "1",
                            "compareType": 2
                          }
                        ]
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
                          "ServerCommandName": "請求番号取得",
                          "Parameters": [
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_請求先ID",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求先ID"
                              }
                            },
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_物件ID",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=売上情報.物件ID"
                              }
                            },
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_物件担当者ID",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=売上情報.物件担当者ID"
                              }
                            },
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_請求日",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求日"
                              }
                            }
                          ],
                          "ReturnPropertiesTo": [
                            {
                              "ResultPropertyName": "R_請求番号",
                              "ResultTo": {
                                "SerializeProperty": "V_請求番号"
                              }
                            },
                            {
                              "ResultPropertyName": "R_請求連番"
                            }
                          ],
                          "RefreshAfterFinish": true,
                          "CheckDataValidation": true
                        }
                      ],
                      "Comments": "請求先が変更された場合",
                      "ID": "dcfc967d-8580-47af-b7e9-40688c5765f1"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_請求備考2",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_請求備考2"
                  },
                  "ID": "3820da38e7684d99955481fb6ae24985"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=請求先マスタ.物件担当者記載フラグ"
                          }
                        },
                        "value": "1"
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "V_請求備考2",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=IF(V_物件担当者名<>\"\",V_物件担当者名,P_請求備考2)"
                          },
                          "ID": "de1fa42027f140979798018c0adbf243"
                        }
                      ],
                      "Comments": "物件担当者記載アリの場合",
                      "ID": "27aae47e-db1a-4cc8-a288-21b49ca0971b"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "V_売上年月",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=TEXT(P_売上日,\"yyyymm\")"
                  },
                  "ID": "37594df50cdb493089b396f07eaf20c2"
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_sales",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_sales",
                      "ColumnName": "sales_id",
                      "GUID": "e785ecd6-041b-4f26-9a76-4f6ae71243c5"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_売上ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "sales_date",
                        "GUID": "e249600e-c630-44c2-8418-1acf924b93e8"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上日"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "sales_yyyymm",
                        "GUID": "94309e3d-b5ac-4280-be3c-eccb9df386e0"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_売上年月"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_no",
                        "GUID": "df521ebe-3b9f-4253-bbb7-aedee2c12483"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_請求番号"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "accounts_receivable_type",
                        "GUID": "da282c6c-bd2a-403a-bc2b-ed76fcb5da1f"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売掛区分"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_comp_id",
                        "GUID": "d484503e-7930-4183-b56f-6ed80c980184"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_name",
                        "GUID": "8d186395-3277-4df2-9ec9-a344db7a042f"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=請求先マスタ.請求先名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "excluding_tax_amount",
                        "GUID": "0616c944-d14a-4764-8721-3a9a5d9f7382"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_税抜金額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "tax_amount",
                        "GUID": "03feba8b-ed6b-48dd-a7c3-970afa732dae"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_amount",
                        "GUID": "3655cfa5-c03c-4250-b708-ad77ff86e7a5"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求金額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "receipt_balance",
                        "GUID": "aded6bae-4dd2-49c5-95a3-d39912b59ad1"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求金額"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "tax_rate",
                        "GUID": "80d4213b-2e9b-42e7-b9cf-2797e0a6e5a4"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_消費税率"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_remarks",
                        "GUID": "51672d14-bc2f-4edb-ae19-c28c13e87b29"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求備考"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_remarks2",
                        "GUID": "b4ba529d-c699-474b-abc3-eb03b85eb347"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_請求備考2"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "dedicated_billing_no",
                        "GUID": "b87869f4-aaa9-467b-b068-3216c3708243"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_専用請求番号"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "purchase_required_flg",
                        "GUID": "29a3bfb7-3ae3-428e-be11-ceeb04ab7fc8"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書必要フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "purchase_receipt_date",
                        "GUID": "c822e696-6a92-4fe7-b84e-8e01acf117f2"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_発注書受領日"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "builder_name",
                        "GUID": "20830402-c89a-40c1-bccb-cb1b3e697f79"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_住宅事業者名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "builder_id",
                        "GUID": "bd36b1b5-1724-4f8e-beb7-60965f1ba1c7"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_住宅事業者ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "object_name",
                        "GUID": "acacf968-6c5e-496e-823d-4248a498261c"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_物件名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "object_address",
                        "GUID": "e26f4033-f139-4162-8cf6-bef538fc2677"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_物件住所"
                      }
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_sales",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                    "SubConditions": [
                      {
                        "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                        "ColumnBindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "billing_no",
                          "GUID": "2e046d95-ec93-44ee-99ae-9e0b5d16f0de"
                        },
                        "Value": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=V_請求番号"
                        }
                      },
                      {
                        "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                        "SubConditions": [
                          {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "CompareType": 1,
                            "ColumnBindingInfo": {
                              "TableName": "t_sales",
                              "ColumnName": "billing_name",
                              "GUID": "7d250e90-bb36-41b5-8547-9a948f429f26"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=請求先マスタ.請求先名"
                            },
                            "LeftBracket": 1
                          },
                          {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "CompareType": 1,
                            "ColumnBindingInfo": {
                              "TableName": "t_sales",
                              "ColumnName": "billing_send_way",
                              "GUID": "abc80039-ebf2-42b5-b7bd-3b39deede4df"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=請求先マスタ.請求書送付方法"
                            }
                          },
                          {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "CompareType": 1,
                            "ColumnBindingInfo": {
                              "TableName": "t_sales",
                              "ColumnName": "invoice_issue_unit_id",
                              "GUID": "e539a7c6-c421-4ec6-9b32-a99a639ee66a"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=請求先マスタ.請求書発行単位ID"
                            },
                            "RightBracket": 1
                          }
                        ],
                        "RelationType": 1
                      }
                    ]
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_name",
                        "GUID": "692cf3c6-4f8e-43a3-b2ab-8f9b13c4e0bb"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=請求先マスタ.請求先名"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_send_way",
                        "GUID": "4ef07021-56da-46e2-ba06-a589a7a7173f"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=請求先マスタ.請求書送付方法"
                      }
                    }
                  ],
                  "Comments": "請求書送付方法を一括更新"
                }
              ],
              "ID": "2611f63b-d293-4b4d-b529-08f326325f34"
            }
          ]
        }
      ]
    }
  ]
}