{
  "Name": "請求データ取消処理",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_売上ID",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "元売上",
      "TableValue": {
        "TableName": "t_sales",
        "TableValueType": 1,
        "BindingInfos": [
          {
            "GUID": "83d869d8-9583-4677-842f-e7a115fd297e",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "object_order_id",
              "GUID": "db90b137-7c59-4408-bb04-2f766332e3c7"
            },
            "ColumnName": "申込ID"
          },
          {
            "GUID": "6d694cd8-78f2-4f4e-84d0-e5612a823661",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "object_product_id",
              "GUID": "e480de7d-e221-4bb7-8417-c82e4f37fce5"
            },
            "ColumnName": "物件商品ID"
          },
          {
            "GUID": "f73aea86-71e0-499f-93ad-900ea7270f37",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "billing_comp_id",
              "GUID": "2a943345-655e-4972-815e-d7a62d58a1de"
            },
            "ColumnName": "請求先ID"
          },
          {
            "GUID": "b5eafe4f-5705-4776-a8d4-5d40668d99c9",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "builder_id",
              "GUID": "e2ed33b8-1845-4786-8d98-5e23fea22d35"
            },
            "ColumnName": "住宅事業者ID"
          },
          {
            "GUID": "9f566b05-d719-4421-bc7c-c61c2fc64c01",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "builder_name",
              "GUID": "6f315b1d-3525-47ce-a13f-1f9e8160d5f3"
            },
            "ColumnName": "住宅事業者名"
          },
          {
            "GUID": "cbbddd18-0ddf-45ed-ae79-e59bd93b5559",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "object_name",
              "GUID": "8c88611e-9b64-4fe3-ba22-b7d2fb5c17b7"
            },
            "ColumnName": "物件名"
          },
          {
            "GUID": "5b2c70c7-f3df-477c-9cc8-c551c1852c71",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "object_address",
              "GUID": "572b60bc-8228-4c6a-9daf-54d02fbcec95"
            },
            "ColumnName": "物件住所"
          },
          {
            "GUID": "7f81cb2f-5d3b-42ef-8973-4bcb010503df",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "billing_product_id",
              "GUID": "2f07b49e-f045-4583-9fba-757b2e2b3f5a"
            },
            "ColumnName": "請求商品ID"
          },
          {
            "GUID": "0dff2a4b-6d18-4805-9ae0-aca47bc624f7",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "billing_product_name",
              "GUID": "327e0f5e-3311-4925-b987-f9c492830597"
            },
            "ColumnName": "請求品名"
          },
          {
            "GUID": "0b9a33b9-ee7e-455f-ad60-b916a5ab3f3b",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "billing_remarks",
              "GUID": "f450d3b3-f923-4e0a-a1a7-99fa6bb2e235"
            },
            "ColumnName": "請求備考"
          },
          {
            "GUID": "9f383bc5-e05c-4f56-8c68-453ccb67f6b4",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "billing_remarks2",
              "GUID": "21ff5a7a-6a60-44b5-9fe4-0e4cbf245b1b"
            },
            "ColumnName": "請求備考2"
          },
          {
            "GUID": "2a23f4c0-ff30-4f42-8ed3-6b5ffa9b5a42",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "excluding_tax_amount",
              "GUID": "357f32c9-d8c5-4b18-8646-c21a98cca19c"
            },
            "ColumnName": "税抜金額"
          },
          {
            "GUID": "da4173e2-1bf8-45d8-be94-7dcf45397bcb",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "tax_amount",
              "GUID": "c1778063-177f-461b-8276-2713a5f56810"
            },
            "ColumnName": "消費税額"
          },
          {
            "GUID": "8f0d967e-44ed-47fc-aee8-72d6c0997515",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "tax_rate",
              "GUID": "315ae9ce-d11c-47ec-8edf-0cbf935af90a"
            },
            "ColumnName": "消費税率"
          },
          {
            "GUID": "948f56fa-4722-4493-8c37-c197b1c37cad",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "dedicated_billing_no",
              "GUID": "0bd754d3-16aa-45df-80c4-da982f2f2bd7"
            },
            "ColumnName": "専用請求番号"
          },
          {
            "GUID": "6a1fa924-737a-4887-8469-d6838b81d3a8",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "purchase_required_flg",
              "GUID": "34fa4de6-ce28-48a4-ad09-d5e962669dad"
            },
            "ColumnName": "発注書必要フラグ"
          },
          {
            "GUID": "874eb178-b2ba-41bf-b3af-3e1fdb1ff39b",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "purchase_receipt_date",
              "GUID": "938351c8-4c80-4b0e-85d5-4f900e82f33a"
            },
            "ColumnName": "発注書受領日"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
          "ColumnBindingInfo": {
            "TableName": "t_sales",
            "ColumnName": "sales_id",
            "GUID": "988cfe6d-a0c3-4f23-8651-67313b350a64"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_売上ID"
          }
        }
      },
      "ID": "d3a5e516fae94494b60c51961d004b35"
    },
    {
      "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
      "ServerCommandName": "請求データ作成処理",
      "Parameters": [
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_申込ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.申込ID"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_物件商品ID"
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_売上日",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=TODAY()"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_売掛区分"
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_売上区分",
          "Value": "2"
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求先ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.請求先ID"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求商品ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.請求商品ID"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求商品名",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.請求品名"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求備考",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.請求備考"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求備考2",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.請求備考2"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_税抜金額",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.税抜金額"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_消費税額",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.消費税額"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_消費税率",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.消費税率"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_専用請求番号",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.専用請求番号"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_発注書必要フラグ",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.発注書必要フラグ"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_発注書受領日",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.発注書受領日"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求日"
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_回収予定日"
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_取消売上ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_売上ID"
          }
        }
      ],
      "ResultErrorCodeTo": {
        "SerializeProperty": "リターンコード"
      },
      "ResultMessageTo": {
        "SerializeProperty": "リターンメッセージ"
      },
      "RefreshAfterFinish": true,
      "CheckDataValidation": true
    }
  ]
}