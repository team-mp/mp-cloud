{
  "Name": "請求データ取消処理",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_売上ID",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "元売上",
      "TableValue": {
        "TableName": "t_sales",
        "TableValueType": 1,
        "BindingInfos": [
          {
            "GUID": "b89ea913-1a33-4ad2-b1b3-9319d3dadeea",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "object_order_id",
              "GUID": "db90b137-7c59-4408-bb04-2f766332e3c7"
            },
            "ColumnName": "申込ID"
          },
          {
            "GUID": "a46da67f-ab42-49bd-901d-bc7641db7dcd",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "accounts_receivable_type",
              "GUID": "bcdc3076-4740-4ae8-ba6c-18d8b94b4588"
            },
            "ColumnName": "売掛区分"
          },
          {
            "GUID": "34b4557e-b1f1-4f53-ac13-b725a18b3d8b",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "object_product_id",
              "GUID": "e480de7d-e221-4bb7-8417-c82e4f37fce5"
            },
            "ColumnName": "物件商品ID"
          },
          {
            "GUID": "dec6a242-4858-46b6-b1ac-fcb95af37362",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "billing_comp_id",
              "GUID": "2a943345-655e-4972-815e-d7a62d58a1de"
            },
            "ColumnName": "請求先ID"
          },
          {
            "GUID": "f1c90d2b-d273-43a8-ac5a-32c27f7f62f9",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "builder_id",
              "GUID": "e2ed33b8-1845-4786-8d98-5e23fea22d35"
            },
            "ColumnName": "住宅事業者ID"
          },
          {
            "GUID": "e88ca548-8ba1-4a87-8829-7e4f87c6014b",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "builder_name",
              "GUID": "6f315b1d-3525-47ce-a13f-1f9e8160d5f3"
            },
            "ColumnName": "住宅事業者名"
          },
          {
            "GUID": "668b14d6-1d6b-4ce7-845d-e81d39e20fbf",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "object_name",
              "GUID": "8c88611e-9b64-4fe3-ba22-b7d2fb5c17b7"
            },
            "ColumnName": "物件名"
          },
          {
            "GUID": "eeb15cdf-dadc-484e-b5a3-ee5c6339c0d2",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "object_address",
              "GUID": "572b60bc-8228-4c6a-9daf-54d02fbcec95"
            },
            "ColumnName": "物件住所"
          },
          {
            "GUID": "4d7f48b3-35ce-4eba-968b-bd52931eee6a",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "billing_product_id",
              "GUID": "2f07b49e-f045-4583-9fba-757b2e2b3f5a"
            },
            "ColumnName": "請求商品ID"
          },
          {
            "GUID": "23fd4194-ee72-4142-b7c9-e98ba41605b0",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "billing_product_name",
              "GUID": "327e0f5e-3311-4925-b987-f9c492830597"
            },
            "ColumnName": "請求品名"
          },
          {
            "GUID": "4663ec1c-87db-4614-8f7e-6bbe7bda0d53",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "billing_remarks",
              "GUID": "f450d3b3-f923-4e0a-a1a7-99fa6bb2e235"
            },
            "ColumnName": "請求備考"
          },
          {
            "GUID": "1052ca91-4ac8-4602-b6e9-2a153e772164",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "billing_remarks2",
              "GUID": "21ff5a7a-6a60-44b5-9fe4-0e4cbf245b1b"
            },
            "ColumnName": "請求備考2"
          },
          {
            "GUID": "0f979342-a519-4872-aec1-6cc348b2a671",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "excluding_tax_amount",
              "GUID": "357f32c9-d8c5-4b18-8646-c21a98cca19c"
            },
            "ColumnName": "税抜金額"
          },
          {
            "GUID": "d8392563-31a4-4c9a-b67c-7515c03863d3",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "tax_amount",
              "GUID": "c1778063-177f-461b-8276-2713a5f56810"
            },
            "ColumnName": "消費税額"
          },
          {
            "GUID": "4aca3dd1-8a9a-4045-b24d-d806289d5b23",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "tax_rate",
              "GUID": "315ae9ce-d11c-47ec-8edf-0cbf935af90a"
            },
            "ColumnName": "消費税率"
          },
          {
            "GUID": "5f6e56c8-5456-446b-935b-5bf029206d8c",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "dedicated_billing_no",
              "GUID": "0bd754d3-16aa-45df-80c4-da982f2f2bd7"
            },
            "ColumnName": "専用請求番号"
          },
          {
            "GUID": "09087cc7-168f-4442-8730-07362db62c2f",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "purchase_required_flg",
              "GUID": "34fa4de6-ce28-48a4-ad09-d5e962669dad"
            },
            "ColumnName": "発注書必要フラグ"
          },
          {
            "GUID": "16e4f1ce-6862-4b42-9c04-59a3e14e880e",
            "BindingInfo": {
              "TableName": "t_sales",
              "ColumnName": "purchase_receipt_date",
              "GUID": "938351c8-4c80-4b0e-85d5-4f900e82f33a"
            },
            "ColumnName": "発注書受領日"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
          "ColumnBindingInfo": {
            "TableName": "t_sales",
            "ColumnName": "sales_id",
            "GUID": "988cfe6d-a0c3-4f23-8651-67313b350a64"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_売上ID"
          }
        }
      },
      "ID": "d03c54b933d94d5fac4312fac76a74e9"
    },
    {
      "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
      "ServerCommandName": "請求データ作成処理",
      "Parameters": [
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_申込ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.申込ID"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_物件商品ID"
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_売上日",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=TODAY()"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_売掛区分",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.売掛区分"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_売上区分",
          "Value": "2"
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求先ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.請求先ID"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求商品ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.請求商品ID"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求商品名",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.請求品名"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求備考",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.請求備考"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求備考2",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.請求備考2"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_税抜金額",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.税抜金額"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_消費税額",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.消費税額"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_消費税率",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.消費税率"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_専用請求番号",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.専用請求番号"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_発注書必要フラグ",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.発注書必要フラグ"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_発注書受領日",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=元売上.発注書受領日"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_請求日"
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_回収予定日"
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_取消売上ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_売上ID"
          }
        }
      ],
      "ResultErrorCodeTo": {
        "SerializeProperty": "リターンコード"
      },
      "ResultMessageTo": {
        "SerializeProperty": "リターンメッセージ"
      },
      "RefreshAfterFinish": true,
      "CheckDataValidation": true
    }
  ]
}