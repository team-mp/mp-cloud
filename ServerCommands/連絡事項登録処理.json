{
  "Name": "連絡事項登録処理",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_連絡ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_申込ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_元連絡ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_連絡グループID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_タブID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_内容",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_リッチテキスト",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_公開フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_メール通知フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_通知先ユーザーIDs",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_タスク設定フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_タスクID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_処理済フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_期限日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_作業ユーザーID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_ユーザーグループKEYs",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_リマインド設定フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_本社公開フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_連棟適用フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_申込KEYs",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_問合せID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_再解析依頼ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_保証依頼ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_依頼タイプ",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "CommandList": [
        {
          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
          "ServerCommandName": "登録更新ラベル取得",
          "Parameters": [
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "P_ユーザーID"
            }
          ],
          "ResultErrorCodeTo": {
            "SerializeProperty": "リターンコード"
          },
          "ResultMessageTo": {
            "SerializeProperty": "リターンメッセージ"
          },
          "ReturnPropertiesTo": [
            {
              "ResultPropertyName": "R_ラベル名",
              "ResultTo": {
                "SerializeProperty": "最終更新ラベル"
              }
            },
            {
              "ResultPropertyName": "R_外部ユーザーフラグ"
            }
          ],
          "RefreshAfterFinish": true,
          "CheckDataValidation": true
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "表示タイプ",
          "ParameterValue": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=IF(P_内容<>\"\",1,2)"
          },
          "ID": "58e3e42a2dc5462186dae4a0ca6d8378"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "V_依頼日時",
          "ID": "e7b3b5e6682f4bb3adc6a5c07d588889"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "V_依頼者ラベル",
          "ParameterValue": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=最終更新ラベル"
          },
          "ID": "1d0944b0d56341bd81893ce0f1bbb67d"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "V_完了予定日",
          "ID": "84fccb9f485646a2aa52ba6c3aa7d095"
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_連絡ID"
                  }
                },
                "value": "%Null%"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "登録件数",
                  "TableValue": {
                    "TableName": "t_object_notice",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "object_order_id",
                        "GUID": "4e4f350b-abc1-4dcc-afd4-335871cb51b7"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    }
                  },
                  "ID": "f58a61d8ac134360ae7ec24e8b4b682c"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=登録件数"
                          }
                        },
                        "value": "0"
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "申込連番",
                          "ParameterValue": "1",
                          "ID": "c9180fe7c5804934965b568d96e16a00"
                        }
                      ],
                      "ID": "4ca7b2ec-43d7-4ce5-affc-60a5c67a6844"
                    },
                    {
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "最大申込連番",
                          "TableValue": {
                            "TableName": "t_object_notice",
                            "OnlyGetValue": true,
                            "TableValueType": 0,
                            "BindingInfos": [
                              {
                                "GUID": "29aca2a1-e5a4-439c-9423-c956fb2b5a69",
                                "BindingInfo": {
                                  "TableName": "t_object_notice",
                                  "ColumnName": "application_serial_number",
                                  "GUID": "06738826-2f0d-432e-8df9-73dfc373ee9b"
                                },
                                "ColumnName": "application_serial_number"
                              }
                            ],
                            "SqlCondition": {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object_notice",
                                "ColumnName": "object_order_id",
                                "GUID": "c86a81e4-6946-4ae2-af63-326a4298bd2e"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_申込ID"
                              }
                            },
                            "TopCount": "1",
                            "OrderBySqlCondition": {
                              "OrderByColumns": [
                                {
                                  "ColumnBindingInfo": {
                                    "TableName": "t_object_notice",
                                    "ColumnName": "application_serial_number",
                                    "GUID": "56f76716-557c-4582-bf90-591d1cef4802"
                                  },
                                  "Order": 1
                                }
                              ]
                            }
                          },
                          "ID": "1e7f171d86b545cd8fc92ab093c10f86"
                        },
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "申込連番",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=最大申込連番+1"
                          },
                          "ID": "630ecb24481d4cbf87b0fdca8bff1908"
                        }
                      ],
                      "ID": "3b29e020-29c9-4f07-8a49-baaa2ed7e8ff"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=P_依頼タイプ"
                          }
                        },
                        "value": "%Null%",
                        "compareType": 1
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "V_依頼日時",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=NOW()"
                          },
                          "ID": "5fa47f8456b44f1cb757904641594014"
                        },
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "V_依頼者ラベル",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=最終更新ラベル"
                          },
                          "ID": "0216378403f24352a2b517765cffec61"
                        },
                        {
                          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
                          "ServerCommandName": "営業日取得",
                          "Parameters": [
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_指定日",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=TODAY()"
                              }
                            },
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_日数",
                              "Value": "1"
                            }
                          ],
                          "ReturnPropertiesTo": [
                            {
                              "ResultPropertyName": "R_営業日",
                              "ResultTo": {
                                "SerializeProperty": "V_完了予定日"
                              },
                              "Remark": "営業日計算後の日付が返却される"
                            }
                          ],
                          "RefreshAfterFinish": true,
                          "CheckDataValidation": true,
                          "Comments": "翌営業日を完了予定日とする"
                        }
                      ],
                      "Comments": "依頼タイプが設定されている場合",
                      "ID": "5f154f72-d5ee-4da9-9a8a-661d8a90bf15"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_object_notice",
                  "UpdateType": "add",
                  "ShowConfirm": false,
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "object_order_id",
                        "GUID": "3da7f0fb-ec99-4761-810f-e78ecc1cea8c"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "application_serial_number",
                        "GUID": "13e9839d-05fa-4800-ac03-80d6a245a60e"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=申込連番"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "tab_id",
                        "GUID": "9f6e3d17-ffc4-4c2c-a44b-f3455f057af3"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タブID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "source_notice_id",
                        "GUID": "4e61ef7e-2fb8-489f-9625-0ff0a5fd3dc3"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_元連絡ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "display_type",
                        "GUID": "3a171f18-c922-4a99-9e1f-48f5e06cb661"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=表示タイプ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "content",
                        "GUID": "e02ca23d-f27d-44a1-b80a-0dee85eb3170"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=TRIM(P_内容)"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "ritch_text",
                        "GUID": "816f950a-102e-4ac6-882b-2ff774915221"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=IF(表示タイプ=2,P_リッチテキスト,\"\")"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "release_public_flg",
                        "GUID": "161c2dbc-5455-49e6-a0cf-363212112a7c"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_公開フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "mail_notification_flg",
                        "GUID": "1761dc66-8e7f-41fc-b74d-c7ea4f2e9b28"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_メール通知フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "notification_userid_list",
                        "GUID": "d15367f0-9d2a-4129-b1fd-24dac6a888a2"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_通知先ユーザーIDs"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "task_set_flg",
                        "GUID": "3303fdf0-d546-4e80-8ba2-9948e2114c47"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タスク設定フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "created_user_id",
                        "GUID": "45fc54bc-d0ce-40dd-9ae3-4b80c1e95e89"
                      },
                      "Value": "%CurrentUser.user_id%"
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "release_host_flg",
                        "GUID": "4ee50c3f-fd75-4eb5-99a9-0eb6858b42b0"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_本社公開フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "multiple_buildings_flg",
                        "GUID": "640c6729-0527-4abb-96e7-54322f21ad38"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_連棟適用フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "object_order_keys",
                        "GUID": "40d21a37-7d4d-4cc4-9cff-67cafba31ad3"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=IF(P_連棟適用フラグ=1,P_申込KEYs,\"\")"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "inquiry_id",
                        "GUID": "9a0b19bf-910e-45d1-b65f-8ed6efdedd43"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_問合せID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "re_analysis_request_id",
                        "GUID": "371916b6-303b-4389-a376-599bbc0fa4c8"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_再解析依頼ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "warranty_request_id",
                        "GUID": "db432590-c2af-4f72-a949-6add45a3a9ee"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証依頼ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "request_type",
                        "GUID": "61bc4737-500c-4018-9182-4e64ad373427"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_依頼タイプ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "request_datetime",
                        "GUID": "68e6e29d-27de-4159-b450-5524d6113d3e"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_依頼日時"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "request_user_label",
                        "GUID": "16f9581f-a335-4858-b80f-d4d22cda55d3"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_依頼者ラベル"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "completion_date",
                        "GUID": "36fc4f61-e69d-462f-9b1a-951e3d8c1f31"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_完了予定日"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "updated_date",
                        "GUID": "562c819c-5c46-49b8-86c9-de959aaa36be"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=NOW()"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "last_updated_label",
                        "GUID": "041b698d-1209-41cf-9396-78b581599b65"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=最終更新ラベル"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New連絡事項"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "連絡グループID",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=IF(P_連絡グループID<>\"\",P_連絡グループID,New連絡事項.連絡ID)"
                  },
                  "ID": "3cb1107ee9714a3d8b4aef5900f46843"
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_object_notice",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_object_notice",
                      "ColumnName": "notice_id",
                      "GUID": "cd4f6a8f-8604-4a32-b495-9e451467695c"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=New連絡事項.連絡ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "notice_group_id",
                        "GUID": "94f0caa2-fa61-44bc-8062-3f4fb67b1f96"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=連絡グループID"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New連絡事項",
                  "Comments": "連絡グループIDをセット"
                }
              ],
              "ID": "30c22bb9-4469-4cd9-9a5b-f6347032ea18"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "連絡事項",
                  "TableValue": {
                    "TableName": "t_object_notice",
                    "TableValueType": 1,
                    "BindingInfos": [
                      {
                        "GUID": "edf495b7-c0ac-4bd8-a11d-73c293c1afcf",
                        "BindingInfo": {
                          "TableName": "t_object_notice",
                          "ColumnName": "task_id",
                          "GUID": "0af321bb-e9b4-4a3d-8b16-6baced00a0df",
                          "RelationBinding": {
                            "RelatedTable": "t_task",
                            "RelatedColumn": "task_id",
                            "DisplayColumn": "remaind_flg"
                          }
                        },
                        "ColumnName": "リマインド設定フラグ"
                      },
                      {
                        "GUID": "7b9795a9-4e4d-4969-935a-a4cd064e213e",
                        "BindingInfo": {
                          "TableName": "t_object_notice",
                          "ColumnName": "task_id",
                          "GUID": "9b6ccab4-1128-4d11-bd66-0ef6252dad64",
                          "RelationBinding": {
                            "RelatedTable": "t_task",
                            "RelatedColumn": "task_id",
                            "DisplayColumn": "schedule_mail_id"
                          }
                        },
                        "ColumnName": "スケジュールメールID"
                      }
                    ],
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "notice_id",
                        "GUID": "eb170ab7-a4b6-499e-990c-4e2bddd3047e"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_連絡ID"
                      }
                    }
                  },
                  "ID": "83bd615777684fa39fc70bba36cb7430"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                        "SubConditions": [
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=連絡事項.リマインド設定フラグ"
                              }
                            },
                            "value": "1"
                          },
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_リマインド設定フラグ"
                              }
                            },
                            "value": "0"
                          }
                        ]
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_schedule_mail",
                          "UpdateType": "delete",
                          "ShowConfirm": true,
                          "ConfirmText": "本当に削除してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_schedule_mail",
                              "ColumnName": "schedule_mail_id",
                              "GUID": "d46a9742-3dae-4150-a14c-81c846ac9a5b"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=連絡事項.スケジュールメールID"
                            }
                          }
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_task",
                          "ShowConfirm": false,
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_task",
                              "ColumnName": "task_id",
                              "GUID": "05dbc474-de79-4e0d-be3c-53fc8abf8744"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=P_タスクID"
                            }
                          },
                          "UpdateBindingValues": [
                            {
                              "BindingInfo": {
                                "TableName": "t_task",
                                "ColumnName": "schedule_mail_id",
                                "GUID": "04869916-8d3e-4c20-b5bc-f3e732bfc368"
                              }
                            }
                          ]
                        }
                      ],
                      "ID": "2a1c0016-f3b5-4012-a280-f039115b8ff8"
                    }
                  ],
                  "Comments": "リマインド設定がOffの場合、スケジュールメールを削除"
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_object_notice",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_object_notice",
                      "ColumnName": "notice_id",
                      "GUID": "ebc9f319-bf47-43ff-a776-c1cce0aa90ef"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_連絡ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "tab_id",
                        "GUID": "38d3a8ca-62a4-4be7-9f81-ae220a93d313"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タブID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "display_type",
                        "GUID": "d7ac099e-c5b6-462a-801c-f35eecfd462a"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=表示タイプ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "content",
                        "GUID": "d5bdd2c4-4569-4977-8c34-04c53bb1d38c"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=TRIM(P_内容)"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "ritch_text",
                        "GUID": "63a80d76-1b46-4b71-b289-c82169bbeed0"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=IF(表示タイプ=2,P_リッチテキスト,\"\")"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "release_public_flg",
                        "GUID": "c678491c-53b7-48a5-9161-63ed3b8f09dd"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_公開フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "mail_notification_flg",
                        "GUID": "f60cb7ed-2394-4dc2-b3c2-c2307cb772b7"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_メール通知フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "notification_userid_list",
                        "GUID": "ba846d09-253f-4ec5-855a-f23397bf5d81"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_通知先ユーザーIDs"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "task_set_flg",
                        "GUID": "b4888034-42a7-4212-b461-263184b5ac78"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タスク設定フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "task_id",
                        "GUID": "2ebbec03-3298-4762-a1a9-73e356cd4282"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タスクID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "created_user_id",
                        "GUID": "0c1be09a-36e4-4790-9350-0e295dd76b31"
                      },
                      "Value": "%CurrentUser.user_id%"
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "release_host_flg",
                        "GUID": "6fe85218-d12e-4ac4-bfe9-eae065055b1d"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_本社公開フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "multiple_buildings_flg",
                        "GUID": "03ebf0da-cabe-4822-8f9b-e74e2200d018"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_連棟適用フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "object_order_keys",
                        "GUID": "4c2eb31c-ec48-4381-8386-a80893f1e847"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=IF(P_連棟適用フラグ=1,P_申込KEYs,\"\")"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "updated_date",
                        "GUID": "c49658e3-82f1-4af4-a0bc-ae60f00fbc4f"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=NOW()"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "last_updated_label",
                        "GUID": "a5158110-d7b7-4826-b656-f8c9b3144489"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=最終更新ラベル"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New連絡事項"
                }
              ],
              "ID": "94fb569d-4b83-4598-b11b-e459b6dd5b48"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "連絡ID",
          "ParameterValue": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=IF(P_連絡ID<>\"\",P_連絡ID,New連絡事項.連絡ID)"
          },
          "ID": "4f10a787f38246d59fbc7e88e7215215"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "タスクID",
          "ID": "16a922463b5e436cbb28d9690de46053"
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_タスク設定フラグ"
                  }
                },
                "value": "1"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
                  "ServerCommandName": "タスク登録処理",
                  "Parameters": [
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_タスクID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タスクID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_申込ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_タスク区分",
                      "Value": "1"
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_ユーザーグループKEYs",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_ユーザーグループKEYs"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_作業ユーザーID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_作業ユーザーID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_タスク内容",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_内容"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_期限日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_期限日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_リマインド設定フラグ",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_リマインド設定フラグ"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_処理済フラグ",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_処理済フラグ"
                      }
                    }
                  ],
                  "ResultErrorCodeTo": {
                    "SerializeProperty": "リターンコード"
                  },
                  "ResultMessageTo": {
                    "SerializeProperty": "リターンメッセージ"
                  },
                  "ReturnPropertiesTo": [
                    {
                      "ResultPropertyName": "R_タスクID",
                      "ResultTo": {
                        "SerializeProperty": "タスクID"
                      }
                    }
                  ],
                  "RefreshAfterFinish": true,
                  "CheckDataValidation": true
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンコード"
                          }
                        },
                        "value": "0",
                        "compareType": 1
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンコード"
                          },
                          "Message": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンメッセージ"
                          },
                          "CustomReturns": [
                            {
                              "ReturnPropertyName": "R_連絡ID"
                            },
                            {
                              "ReturnPropertyName": "R_タスクID"
                            }
                          ]
                        }
                      ],
                      "ID": "95d141e9-12b9-4004-a361-8c85c4b01d3a"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_object_notice",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_object_notice",
                      "ColumnName": "notice_id",
                      "GUID": "80bf0537-8cd1-4570-b728-fb299d8e4810"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=連絡ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "task_id",
                        "GUID": "d52b647e-2b0f-4109-b9c4-8127f0e9a4cb"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=タスクID"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New連絡事項",
                  "Comments": "タスクIDをセット"
                }
              ],
              "ID": "ca69d99a-9912-4d0e-a474-22d2186838bb"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=P_タスクID"
                          }
                        },
                        "value": "%Null%",
                        "compareType": 1
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_task",
                          "UpdateType": "delete",
                          "ShowConfirm": true,
                          "ConfirmText": "本当に削除してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_task",
                              "ColumnName": "task_id",
                              "GUID": "7e930042-ff68-48aa-8004-d06e5f5dabea"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=P_タスクID"
                            }
                          },
                          "Comments": "タスクを削除"
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_object_notice",
                          "ShowConfirm": false,
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_object_notice",
                              "ColumnName": "notice_id",
                              "GUID": "112a3e5b-86a3-456b-aab7-fa23a24f807f"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=連絡ID"
                            }
                          },
                          "UpdateBindingValues": [
                            {
                              "BindingInfo": {
                                "TableName": "t_object_notice",
                                "ColumnName": "task_id",
                                "GUID": "9f9e15b7-26a5-4082-8ffe-94fc7d1638b8"
                              }
                            }
                          ],
                          "ParamNameToSaveNewRowValue": "New連絡事項",
                          "Comments": "タスクIDをクリア"
                        }
                      ],
                      "ID": "c5a21705-1987-44e8-9e71-f27af82ebdc4"
                    }
                  ]
                }
              ],
              "ID": "c1fe49a7-c1cb-42ae-8a57-c7c2819b7108"
            }
          ],
          "Comments": "タスク登録する"
        },
        {
          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
          "ErrorCode": "0",
          "CustomReturns": [
            {
              "ReturnPropertyName": "R_連絡ID",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=連絡ID"
              }
            },
            {
              "ReturnPropertyName": "R_タスクID",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=タスクID"
              }
            }
          ]
        }
      ]
    }
  ],
  "ReturnProperties": [
    {
      "Name": "R_連絡ID"
    },
    {
      "Name": "R_タスクID"
    }
  ]
}