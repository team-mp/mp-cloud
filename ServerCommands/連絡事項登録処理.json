{
  "Name": "連絡事項登録処理",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_連絡ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_申込ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_元連絡ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_連絡グループID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_タブID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_内容",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_リッチテキスト",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_公開フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_メール通知フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_通知先ユーザーIDs",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_タスク設定フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_タスクID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_処理済フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_期限日",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_作業ユーザーID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_ユーザーグループKEYs",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_リマインド設定フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_本社公開フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_連棟適用フラグ",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_申込KEYs",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_問合せID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_再解析依頼ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_依頼タイプ",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "CommandList": [
        {
          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
          "ServerCommandName": "登録更新ラベル取得",
          "Parameters": [
            {
              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
              "ParamName": "P_ユーザーID"
            }
          ],
          "ResultErrorCodeTo": {
            "SerializeProperty": "リターンコード"
          },
          "ResultMessageTo": {
            "SerializeProperty": "リターンメッセージ"
          },
          "ReturnPropertiesTo": [
            {
              "ResultPropertyName": "R_ラベル名",
              "ResultTo": {
                "SerializeProperty": "最終更新ラベル"
              }
            },
            {
              "ResultPropertyName": "R_外部ユーザーフラグ"
            }
          ],
          "RefreshAfterFinish": true,
          "CheckDataValidation": true
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "表示タイプ",
          "ParameterValue": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=IF(P_内容<>\"\",1,2)"
          },
          "ID": "58e3e42a2dc5462186dae4a0ca6d8378"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "V_依頼日時",
          "ID": "e7b3b5e6682f4bb3adc6a5c07d588889"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "V_依頼者ラベル",
          "ParameterValue": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=最終更新ラベル"
          },
          "ID": "1d0944b0d56341bd81893ce0f1bbb67d"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "V_完了予定日",
          "ID": "84fccb9f485646a2aa52ba6c3aa7d095"
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_連絡ID"
                  }
                },
                "value": "%Null%"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "登録件数",
                  "TableValue": {
                    "TableName": "t_object_notice",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "object_order_id",
                        "GUID": "4e4f350b-abc1-4dcc-afd4-335871cb51b7"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    }
                  },
                  "ID": "f58a61d8ac134360ae7ec24e8b4b682c"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=登録件数"
                          }
                        },
                        "value": "0"
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "申込連番",
                          "ParameterValue": "1",
                          "ID": "c9180fe7c5804934965b568d96e16a00"
                        }
                      ],
                      "ID": "5b7488b8-596f-4798-a9e2-c5e656399801"
                    },
                    {
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "最大申込連番",
                          "TableValue": {
                            "TableName": "t_object_notice",
                            "OnlyGetValue": true,
                            "TableValueType": 0,
                            "BindingInfos": [
                              {
                                "GUID": "29aca2a1-e5a4-439c-9423-c956fb2b5a69",
                                "BindingInfo": {
                                  "TableName": "t_object_notice",
                                  "ColumnName": "application_serial_number",
                                  "GUID": "06738826-2f0d-432e-8df9-73dfc373ee9b"
                                },
                                "ColumnName": "application_serial_number"
                              }
                            ],
                            "SqlCondition": {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object_notice",
                                "ColumnName": "object_order_id",
                                "GUID": "c86a81e4-6946-4ae2-af63-326a4298bd2e"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_申込ID"
                              }
                            },
                            "TopCount": "1",
                            "OrderBySqlCondition": {
                              "OrderByColumns": [
                                {
                                  "ColumnBindingInfo": {
                                    "TableName": "t_object_notice",
                                    "ColumnName": "application_serial_number",
                                    "GUID": "56f76716-557c-4582-bf90-591d1cef4802"
                                  },
                                  "Order": 1
                                }
                              ]
                            }
                          },
                          "ID": "1e7f171d86b545cd8fc92ab093c10f86"
                        },
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "申込連番",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=最大申込連番+1"
                          },
                          "ID": "630ecb24481d4cbf87b0fdca8bff1908"
                        }
                      ],
                      "ID": "b0072175-6246-437b-bc5e-e00c485890fc"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=P_依頼タイプ"
                          }
                        },
                        "value": "%Null%",
                        "compareType": 1
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "V_依頼日時",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=NOW()"
                          },
                          "ID": "a121b7b3a28b427e950eaf00ea8ab5c7"
                        },
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "V_依頼者ラベル",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=最終更新ラベル"
                          },
                          "ID": "78b1d841d90e453abd506f7fc76d10be"
                        },
                        {
                          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
                          "ServerCommandName": "営業日取得",
                          "Parameters": [
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_指定日",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=TODAY()"
                              }
                            },
                            {
                              "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                              "ParamName": "P_日数",
                              "Value": "1"
                            }
                          ],
                          "ReturnPropertiesTo": [
                            {
                              "ResultPropertyName": "R_営業日",
                              "ResultTo": {
                                "SerializeProperty": "V_完了予定日"
                              },
                              "Remark": "営業日計算後の日付が返却される"
                            }
                          ],
                          "RefreshAfterFinish": true,
                          "CheckDataValidation": true,
                          "Comments": "翌営業日を完了予定日とする"
                        }
                      ],
                      "Comments": "依頼タイプが設定されている場合",
                      "ID": "9a98d1ae-f2dd-4c2d-8513-7419d6c175d9"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_object_notice",
                  "UpdateType": "add",
                  "ShowConfirm": false,
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "object_order_id",
                        "GUID": "7092fd92-5947-4527-89fd-4bbeb122454d"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "application_serial_number",
                        "GUID": "ada7a54f-852f-4f9a-abb2-27507d3c49f8"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=申込連番"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "tab_id",
                        "GUID": "0509b9cb-ef26-48d2-b667-4aeb109465e2"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タブID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "source_notice_id",
                        "GUID": "2b760284-5006-4b56-97f8-d91272c26e73"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_元連絡ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "display_type",
                        "GUID": "b70d31b8-bac2-4a68-a6ab-afae001ad1ad"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=表示タイプ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "content",
                        "GUID": "81627d12-e714-4635-a5ab-9b0f6ea5bf93"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=TRIM(P_内容)"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "ritch_text",
                        "GUID": "ae8095c7-1b41-484b-9e7c-2e8e8103a5af"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=IF(表示タイプ=2,P_リッチテキスト,\"\")"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "release_public_flg",
                        "GUID": "60f0dbbd-ee39-440c-8f34-4573c11a617b"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_公開フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "mail_notification_flg",
                        "GUID": "cad2332f-576c-428d-aeeb-3f77e1b4a570"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_メール通知フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "notification_userid_list",
                        "GUID": "6bfe03ad-cabb-4da3-8173-e1ec263412c8"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_通知先ユーザーIDs"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "task_set_flg",
                        "GUID": "3032fe04-e2de-4513-9ca8-8cd2649416ed"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タスク設定フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "created_user_id",
                        "GUID": "79487f81-63e3-40a9-83d1-042d4fee52ef"
                      },
                      "Value": "%CurrentUser.user_id%"
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "release_host_flg",
                        "GUID": "a8733c8c-8d88-4c75-98a9-79a36b6f328c"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_本社公開フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "multiple_buildings_flg",
                        "GUID": "9d9ae420-bede-4636-a04c-fefbae1d9072"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_連棟適用フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "object_order_keys",
                        "GUID": "6fcfa26b-a3d8-4fcf-8413-1baf0211e26d"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=IF(P_連棟適用フラグ=1,P_申込KEYs,\"\")"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "inquiry_id",
                        "GUID": "98defb71-0a48-4dc8-bf37-0d7cd69b4e09"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_問合せID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "re_analysis_request_id",
                        "GUID": "eea98cfe-d0a7-4de9-b6f2-7ea35dc3dca3"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_再解析依頼ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "request_type",
                        "GUID": "f42223bc-4a53-488d-bcb2-dde4e1d12bd5"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_依頼タイプ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "request_datetime",
                        "GUID": "2d4b5a5d-4792-4047-81ef-f126198f79de"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_依頼日時"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "request_user_label",
                        "GUID": "cf429f58-e769-44c9-9f71-b370f2cf2afc"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_依頼者ラベル"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "completion_date",
                        "GUID": "7b279b1a-6ed2-422c-b90d-614a8b7ca23a"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_完了予定日"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "updated_date",
                        "GUID": "3b36112b-ebc0-4ed0-951b-f4c6b7dbd7e1"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=NOW()"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "last_updated_label",
                        "GUID": "a673c709-c9e5-494c-9583-442b234042c9"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=最終更新ラベル"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New連絡事項"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "連絡グループID",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=IF(P_連絡グループID<>\"\",P_連絡グループID,New連絡事項.連絡ID)"
                  },
                  "ID": "b429e03a9eb447269ecc7c05b4c3d863"
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_object_notice",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_object_notice",
                      "ColumnName": "notice_id",
                      "GUID": "cd4f6a8f-8604-4a32-b495-9e451467695c"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=New連絡事項.連絡ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "notice_group_id",
                        "GUID": "94f0caa2-fa61-44bc-8062-3f4fb67b1f96"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=連絡グループID"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New連絡事項",
                  "Comments": "連絡グループIDをセット"
                }
              ],
              "ID": "3b65f2b8-afbe-4405-bf38-345309a8dbdb"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "連絡事項",
                  "TableValue": {
                    "TableName": "t_object_notice",
                    "TableValueType": 1,
                    "BindingInfos": [
                      {
                        "GUID": "edf495b7-c0ac-4bd8-a11d-73c293c1afcf",
                        "BindingInfo": {
                          "TableName": "t_object_notice",
                          "ColumnName": "task_id",
                          "GUID": "0af321bb-e9b4-4a3d-8b16-6baced00a0df",
                          "RelationBinding": {
                            "RelatedTable": "t_task",
                            "RelatedColumn": "task_id",
                            "DisplayColumn": "remaind_flg"
                          }
                        },
                        "ColumnName": "リマインド設定フラグ"
                      },
                      {
                        "GUID": "7b9795a9-4e4d-4969-935a-a4cd064e213e",
                        "BindingInfo": {
                          "TableName": "t_object_notice",
                          "ColumnName": "task_id",
                          "GUID": "9b6ccab4-1128-4d11-bd66-0ef6252dad64",
                          "RelationBinding": {
                            "RelatedTable": "t_task",
                            "RelatedColumn": "task_id",
                            "DisplayColumn": "schedule_mail_id"
                          }
                        },
                        "ColumnName": "スケジュールメールID"
                      }
                    ],
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "notice_id",
                        "GUID": "eb170ab7-a4b6-499e-990c-4e2bddd3047e"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_連絡ID"
                      }
                    }
                  },
                  "ID": "83bd615777684fa39fc70bba36cb7430"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                        "SubConditions": [
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=連絡事項.リマインド設定フラグ"
                              }
                            },
                            "value": "1"
                          },
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_リマインド設定フラグ"
                              }
                            },
                            "value": "0"
                          }
                        ]
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_schedule_mail",
                          "UpdateType": "delete",
                          "ShowConfirm": true,
                          "ConfirmText": "本当に削除してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_schedule_mail",
                              "ColumnName": "schedule_mail_id",
                              "GUID": "d46a9742-3dae-4150-a14c-81c846ac9a5b"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=連絡事項.スケジュールメールID"
                            }
                          }
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_task",
                          "ShowConfirm": false,
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_task",
                              "ColumnName": "task_id",
                              "GUID": "05dbc474-de79-4e0d-be3c-53fc8abf8744"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=P_タスクID"
                            }
                          },
                          "UpdateBindingValues": [
                            {
                              "BindingInfo": {
                                "TableName": "t_task",
                                "ColumnName": "schedule_mail_id",
                                "GUID": "04869916-8d3e-4c20-b5bc-f3e732bfc368"
                              }
                            }
                          ]
                        }
                      ],
                      "ID": "13c7caa4-ab5a-4ceb-a65f-d7f96b1b9b2c"
                    }
                  ],
                  "Comments": "リマインド設定がOffの場合、スケジュールメールを削除"
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_object_notice",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_object_notice",
                      "ColumnName": "notice_id",
                      "GUID": "ebc9f319-bf47-43ff-a776-c1cce0aa90ef"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_連絡ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "tab_id",
                        "GUID": "e2c55878-a654-4bf9-ab9d-ee6544effac6"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タブID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "display_type",
                        "GUID": "2f855f1c-905a-4a87-8e9f-347b871f9528"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=表示タイプ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "content",
                        "GUID": "a7de4937-e777-433d-ac6d-9e164e2eb9a6"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=TRIM(P_内容)"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "ritch_text",
                        "GUID": "1ae2e40b-1fb4-459f-bfe3-0809aa95d158"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=IF(表示タイプ=2,P_リッチテキスト,\"\")"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "release_public_flg",
                        "GUID": "ffee2129-9c14-442f-ba6a-160337657ba4"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_公開フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "mail_notification_flg",
                        "GUID": "3cba8172-2b58-4389-a97a-5c4eab250954"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_メール通知フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "notification_userid_list",
                        "GUID": "b33976a8-09f1-4888-9c6d-6b6760a5789f"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_通知先ユーザーIDs"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "task_set_flg",
                        "GUID": "57055adb-d9b7-4e8e-b6a8-48c1706d60fc"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タスク設定フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "task_id",
                        "GUID": "43e22006-52b0-4bc9-a71b-4e2831658875"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タスクID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "created_user_id",
                        "GUID": "0ecee952-9688-4ff5-877d-3322bcd08c86"
                      },
                      "Value": "%CurrentUser.user_id%"
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "release_host_flg",
                        "GUID": "724611eb-1150-4809-af0e-b1d69e7c32a5"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_本社公開フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "multiple_buildings_flg",
                        "GUID": "a7d88008-1c09-4fa4-b2d3-a4126157e79e"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_連棟適用フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "object_order_keys",
                        "GUID": "abb4479d-f149-4b08-83f4-a5e594fc52a4"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=IF(P_連棟適用フラグ=1,P_申込KEYs,\"\")"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "updated_date",
                        "GUID": "97192dac-fb09-44d6-8005-c9a0ce123bab"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=NOW()"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "last_updated_label",
                        "GUID": "be3d7de4-132b-413f-841c-1a9c1f24cb8a"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=最終更新ラベル"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New連絡事項"
                }
              ],
              "ID": "f86a0e9c-171d-4173-b504-7821c8964266"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "連絡ID",
          "ParameterValue": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=IF(P_連絡ID<>\"\",P_連絡ID,New連絡事項.連絡ID)"
          },
          "ID": "69edd32cc5d449a4906554d14d3382b0"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "タスクID",
          "ID": "0262d6cff21a4c7bb378c251b4e1e6ee"
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_タスク設定フラグ"
                  }
                },
                "value": "1"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
                  "ServerCommandName": "タスク登録処理",
                  "Parameters": [
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_タスクID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_タスクID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_申込ID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_タスク区分",
                      "Value": "1"
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_ユーザーグループKEYs",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_ユーザーグループKEYs"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_作業ユーザーID",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_作業ユーザーID"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_タスク内容",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_内容"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_期限日",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_期限日"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_リマインド設定フラグ",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_リマインド設定フラグ"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
                      "ParamName": "P_処理済フラグ",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_処理済フラグ"
                      }
                    }
                  ],
                  "ResultErrorCodeTo": {
                    "SerializeProperty": "リターンコード"
                  },
                  "ResultMessageTo": {
                    "SerializeProperty": "リターンメッセージ"
                  },
                  "ReturnPropertiesTo": [
                    {
                      "ResultPropertyName": "R_タスクID",
                      "ResultTo": {
                        "SerializeProperty": "タスクID"
                      }
                    }
                  ],
                  "RefreshAfterFinish": true,
                  "CheckDataValidation": true
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンコード"
                          }
                        },
                        "value": "0",
                        "compareType": 1
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                          "ErrorCode": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンコード"
                          },
                          "Message": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=リターンメッセージ"
                          },
                          "CustomReturns": [
                            {
                              "ReturnPropertyName": "R_連絡ID"
                            },
                            {
                              "ReturnPropertyName": "R_タスクID"
                            }
                          ]
                        }
                      ],
                      "ID": "d6e080f7-cb12-40d2-946d-581858e411d4"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_object_notice",
                  "ShowConfirm": false,
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_object_notice",
                      "ColumnName": "notice_id",
                      "GUID": "80bf0537-8cd1-4570-b728-fb299d8e4810"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=連絡ID"
                    }
                  },
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_object_notice",
                        "ColumnName": "task_id",
                        "GUID": "d52b647e-2b0f-4109-b9c4-8127f0e9a4cb"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=タスクID"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New連絡事項",
                  "Comments": "タスクIDをセット"
                }
              ],
              "ID": "bcd541b2-933a-41d4-8474-68685ee29ad5"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=P_タスクID"
                          }
                        },
                        "value": "%Null%",
                        "compareType": 1
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_task",
                          "UpdateType": "delete",
                          "ShowConfirm": true,
                          "ConfirmText": "本当に削除してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_task",
                              "ColumnName": "task_id",
                              "GUID": "7e930042-ff68-48aa-8004-d06e5f5dabea"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=P_タスクID"
                            }
                          },
                          "Comments": "タスクを削除"
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_object_notice",
                          "ShowConfirm": false,
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_object_notice",
                              "ColumnName": "notice_id",
                              "GUID": "112a3e5b-86a3-456b-aab7-fa23a24f807f"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=連絡ID"
                            }
                          },
                          "UpdateBindingValues": [
                            {
                              "BindingInfo": {
                                "TableName": "t_object_notice",
                                "ColumnName": "task_id",
                                "GUID": "9f9e15b7-26a5-4082-8ffe-94fc7d1638b8"
                              }
                            }
                          ],
                          "ParamNameToSaveNewRowValue": "New連絡事項",
                          "Comments": "タスクIDをクリア"
                        }
                      ],
                      "ID": "565e497f-2ea3-46bf-ad21-b876e2c48f8c"
                    }
                  ]
                }
              ],
              "ID": "aad14bbb-f146-48f2-b14c-c8bc2832f0a6"
            }
          ],
          "Comments": "タスク登録する"
        },
        {
          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
          "ErrorCode": "0",
          "CustomReturns": [
            {
              "ReturnPropertyName": "R_連絡ID",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=連絡ID"
              }
            },
            {
              "ReturnPropertyName": "R_タスクID",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=タスクID"
              }
            }
          ]
        }
      ]
    }
  ],
  "ReturnProperties": [
    {
      "Name": "R_連絡ID"
    },
    {
      "Name": "R_タスクID"
    }
  ]
}