{
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.ServerCommands.Models.PostRequestTrigger, ServerDesignerCommon",
      "Permission": {
        "AllowRoles": [
          "FGC_LoginUser"
        ]
      },
      "Parameters": [
        {
          "Name": "P_物件申込タイプID"
        },
        {
          "Name": "P_申込日"
        },
        {
          "Name": "P_申込グループID"
        },
        {
          "Name": "P_申込事業者ID"
        },
        {
          "Name": "P_申込担当者ID"
        },
        {
          "Name": "P_申込追加担当者1ID"
        },
        {
          "Name": "P_申込追加担当者2ID"
        },
        {
          "Name": "P_申込追加担当者3ID"
        },
        {
          "Name": "P_申込追加担当者4ID"
        },
        {
          "Name": "P_申込追加担当者5ID"
        },
        {
          "Name": "P_申込追加担当者6ID"
        },
        {
          "Name": "P_住宅事業者ID"
        },
        {
          "Name": "P_住宅事業者通知フラグ"
        },
        {
          "Name": "P_物件担当者ID"
        },
        {
          "Name": "P_営業担当者ID"
        },
        {
          "Name": "P_設計担当者ID"
        },
        {
          "Name": "P_工務担当者ID"
        },
        {
          "Name": "P_物件追加担当者1ID"
        },
        {
          "Name": "P_物件追加担当者2ID"
        },
        {
          "Name": "P_物件追加担当者3ID"
        },
        {
          "Name": "P_物件追加担当者4ID"
        },
        {
          "Name": "P_物件追加担当者5ID"
        },
        {
          "Name": "P_物件追加担当者6ID"
        },
        {
          "Name": "P_物件名"
        },
        {
          "Name": "P_物件名カナ"
        },
        {
          "Name": "P_敬称付与フラグ"
        },
        {
          "Name": "P_都道府県名"
        },
        {
          "Name": "P_市区郡名"
        },
        {
          "Name": "P_町名番地"
        },
        {
          "Name": "P_お客様管理番号"
        },
        {
          "Name": "P_建物構造ID"
        },
        {
          "Name": "P_基礎形状ID"
        },
        {
          "Name": "P_設計接地圧"
        },
        {
          "Name": "P_敷地面積不明フラグ"
        },
        {
          "Name": "P_敷地面積"
        },
        {
          "Name": "P_敷地高低差確認区分"
        },
        {
          "Name": "P_敷地高低差"
        },
        {
          "Name": "P_既存建物確認区分"
        },
        {
          "Name": "P_既存建物棟数"
        },
        {
          "Name": "P_解体予定日"
        },
        {
          "Name": "P_前面道路幅確認区分"
        },
        {
          "Name": "P_調査高低差確認区分"
        },
        {
          "Name": "P_調査高低差"
        },
        {
          "Name": "P_道路規制確認区分"
        },
        {
          "Name": "P_スロープ確認区分"
        },
        {
          "Name": "P_スロープ幅"
        },
        {
          "Name": "P_申込ステータスID"
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "CommandList": [
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "物件ID",
          "TableValue": {
            "TableName": "t_object_order_type",
            "OnlyGetValue": true,
            "TableValueType": 0,
            "BindingInfos": [
              {
                "BindingInfo": {
                  "TableName": "t_object_order_type",
                  "ColumnName": "object_id"
                },
                "ColumnName": "object_id"
              }
            ],
            "SqlCondition": {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_order_type",
                "ColumnName": "object_order_id"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件申込タイプID"
              }
            }
          },
          "ID": "49b5cbe0395a45c8a3fdd3c28ee7d5d0"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "依頼品目文字列",
          "ID": "a29cfac86db54659a3e487e21f449025"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "受付商品",
          "TableValue": {
            "TableName": "t_object_order_product",
            "BindingInfos": [
              {
                "BindingInfo": {
                  "TableName": "t_object_order_product",
                  "ColumnName": "product_name"
                },
                "ColumnName": "商品名"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_order_product",
                  "ColumnName": "product_id",
                  "RelationBinding": {
                    "RelatedTable": "m_product",
                    "RelatedColumn": "product_id",
                    "DisplayColumn": "request_name"
                  }
                },
                "ColumnName": "依頼品名"
              }
            ],
            "SqlCondition": {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_order_product",
                "ColumnName": "object_order_id"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件申込タイプID"
              }
            },
            "OrderBySqlCondition": {
              "OrderByColumns": [
                {
                  "ColumnBindingInfo": {
                    "TableName": "t_object_order_product",
                    "ColumnName": "product_order_type"
                  },
                  "Order": 0
                }
              ]
            }
          },
          "ID": "5fbcbc5ecfce4885a308561a0c2fdc59"
        },
        {
          "$type": "Forguncy.Model.LoopCommand, ServerDesignerCommon",
          "LoopInfo": {
            "$type": "Forguncy.Model.CountLoopInfo, ServerDesignerCommon",
            "LoopCount": {
              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
              "SerializeProperty": "=受付商品"
            },
            "LoopIndexParamName": "カウンター",
            "LoopItemParamName": "Item"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": [
                {
                  "Condition": {
                    "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                    "param": {
                      "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                      "ParamObject": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=カウンター"
                      }
                    },
                    "value": "1"
                  },
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "依頼品目文字列",
                      "ParameterValue": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=\"・\"&IF(Item.依頼品名<>\"\",Item.依頼品名,Item.商品名)"
                      },
                      "ID": "81ba624eb48e4e7696987b6ccfda7f27"
                    }
                  ],
                  "ID": "adcd2006-789b-432d-9e8f-b04fdeff0d28"
                },
                {
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "依頼品目文字列",
                      "ParameterValue": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=依頼品目文字列&CHAR(10)&\"・\"&IF(Item.依頼品名<>\"\",Item.依頼品名,Item.商品名)"
                      },
                      "ID": "76515b6823bd492fbb991de70c0e3925"
                    }
                  ],
                  "ID": "c328eca2-a46c-4cf5-b07e-0a7d66cce3de"
                }
              ]
            }
          ]
        },
        {
          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
          "TableName": "t_object_order_type",
          "ShowConfirm": false,
          "ConfirmText": "本当に更新してもよろしいですか？",
          "RowsToUpdate": 1,
          "RowsToUpdateCondition": {
            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
            "ColumnBindingInfo": {
              "TableName": "t_object_order_type",
              "ColumnName": "object_order_id"
            },
            "Value": {
              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
              "SerializeProperty": "=P_物件申込タイプID"
            }
          },
          "UpdateValues": [
            {
              "ColumnName": "order_date",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込日"
              }
            },
            {
              "ColumnName": "group_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込グループID"
              }
            },
            {
              "ColumnName": "order_customer_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込事業者ID"
              }
            },
            {
              "ColumnName": "order_user_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込担当者ID"
              }
            },
            {
              "ColumnName": "order_adduser1_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込追加担当者1ID"
              }
            },
            {
              "ColumnName": "order_adduser2_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込追加担当者2ID"
              }
            },
            {
              "ColumnName": "order_adduser3_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込追加担当者3ID"
              }
            },
            {
              "ColumnName": "order_adduser4_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込追加担当者4ID"
              }
            },
            {
              "ColumnName": "order_adduser5_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込追加担当者5ID"
              }
            },
            {
              "ColumnName": "order_adduser6_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込追加担当者6ID"
              }
            },
            {
              "ColumnName": "builder_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_住宅事業者ID"
              }
            },
            {
              "ColumnName": "builder_notice_flg",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_住宅事業者通知フラグ"
              }
            },
            {
              "ColumnName": "object_user_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件担当者ID"
              }
            },
            {
              "ColumnName": "sales_user_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_営業担当者ID"
              }
            },
            {
              "ColumnName": "design_user_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_設計担当者ID"
              }
            },
            {
              "ColumnName": "engineering_user_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_工務担当者ID"
              }
            },
            {
              "ColumnName": "builder_adduser1_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件追加担当者1ID"
              }
            },
            {
              "ColumnName": "builder_adduser2_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件追加担当者2ID"
              }
            },
            {
              "ColumnName": "builder_adduser3_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件追加担当者3ID"
              }
            },
            {
              "ColumnName": "builder_adduser4_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件追加担当者4ID"
              }
            },
            {
              "ColumnName": "builder_adduser5_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込追加担当者5ID"
              }
            },
            {
              "ColumnName": "builder_adduser6_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件追加担当者6ID"
              }
            },
            {
              "ColumnName": "customer_number",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_お客様管理番号"
              }
            },
            {
              "ColumnName": "site_area_unknown_flg",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_敷地面積不明フラグ"
              }
            },
            {
              "ColumnName": "site_area",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_敷地面積"
              }
            },
            {
              "ColumnName": "site_difference_height_confirm_type",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_敷地高低差確認区分"
              }
            },
            {
              "ColumnName": "site_difference_height",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_敷地高低差"
              }
            },
            {
              "ColumnName": "existing_object_confirm_type",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_既存建物確認区分"
              }
            },
            {
              "ColumnName": "existing_object_number",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_既存建物棟数"
              }
            },
            {
              "ColumnName": "dismantling_schedule_date",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_解体予定日"
              }
            },
            {
              "ColumnName": "survey_difference_height_confirm_type",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_調査高低差確認区分"
              }
            },
            {
              "ColumnName": "survey_difference_height",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_調査高低差"
              }
            },
            {
              "ColumnName": "road_width_type",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_前面道路幅確認区分"
              }
            },
            {
              "ColumnName": "road_regulation_confirm_type",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_道路規制確認区分"
              }
            },
            {
              "ColumnName": "sloap_confirm_type",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_スロープ確認区分"
              }
            },
            {
              "ColumnName": "sloap_width",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_スロープ幅"
              }
            },
            {
              "ColumnName": "order_year_month",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=TEXT(P_申込日,\"yyyymm\")"
              }
            },
            {
              "ColumnName": "order_status_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込ステータスID"
              }
            },
            {
              "ColumnName": "request_product_string",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=依頼品目文字列"
              }
            }
          ]
        },
        {
          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
          "TableName": "t_object",
          "ShowConfirm": false,
          "ConfirmText": "本当に更新してもよろしいですか？",
          "RowsToUpdate": 1,
          "RowsToUpdateCondition": {
            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
            "ColumnBindingInfo": {
              "TableName": "t_object",
              "ColumnName": "object_id"
            },
            "Value": {
              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
              "SerializeProperty": "=物件ID"
            }
          },
          "UpdateValues": [
            {
              "ColumnName": "object_name",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件名"
              }
            },
            {
              "ColumnName": "object_kana",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件名カナ"
              }
            },
            {
              "ColumnName": "respect_need_flg",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_敬称付与フラグ"
              }
            },
            {
              "ColumnName": "prefectures",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_都道府県名"
              }
            },
            {
              "ColumnName": "city",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_市区郡名"
              }
            },
            {
              "ColumnName": "street_bunch",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_町名番地"
              }
            },
            {
              "ColumnName": "structure_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_建物構造ID"
              }
            },
            {
              "ColumnName": "foundastion_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_基礎形状ID"
              }
            },
            {
              "ColumnName": "ground_pressure",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_設計接地圧"
              }
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
          "ErrorCode": "0",
          "CustomReturns": []
        }
      ]
    }
  ],
  "Name": "申込データ更新処理"
}