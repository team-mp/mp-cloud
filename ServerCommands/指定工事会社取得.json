{
  "Name": "指定工事会社取得",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_申込ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_見積手配保留フラグ",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
      "ServerCommandName": "登録更新ラベル取得",
      "Parameters": [
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_ユーザーID"
        }
      ],
      "ResultErrorCodeTo": {
        "SerializeProperty": "リターンコード"
      },
      "ResultMessageTo": {
        "SerializeProperty": "リターンメッセージ"
      },
      "ReturnPropertiesTo": [
        {
          "ResultPropertyName": "R_ラベル名",
          "ResultTo": {
            "SerializeProperty": "最終更新ラベル"
          }
        },
        {
          "ResultPropertyName": "R_外部ユーザーフラグ"
        }
      ],
      "RefreshAfterFinish": true,
      "CheckDataValidation": true
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "申込情報",
      "TableValue": {
        "TableName": "t_object_order",
        "TableValueType": 1,
        "BindingInfos": [
          {
            "GUID": "0262f6e5-cf94-47fa-ade7-dd8d5de7b3ac",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "group_id",
              "GUID": "16182a76-fe46-413d-95e7-40da5b0294cb",
              "RelationBinding": {
                "RelatedTable": "m_group",
                "RelatedColumn": "group_id",
                "DisplayColumn": "group_default_priority_flg"
              }
            },
            "ColumnName": "グループ既定優先フラグ"
          },
          {
            "GUID": "26de5ae9-942b-4e5c-bb51-98800a54bf94",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "order_customer_id",
              "GUID": "81d05e00-4992-4e38-9385-c840a9f525f6"
            },
            "ColumnName": "申込事業者ID"
          },
          {
            "GUID": "495ae084-3138-425e-bcad-aa2ea3567ae5",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "builder_id",
              "GUID": "b1375855-3aee-417d-904b-4ee4c334b885"
            },
            "ColumnName": "住宅事業者ID"
          },
          {
            "GUID": "89ad5b14-2e25-4f9a-9be2-b81d991fa92e",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "object_id",
              "GUID": "13ff0652-b75b-4677-b636-ef775dff74c4",
              "RelationBinding": {
                "RelatedTable": "t_object",
                "RelatedColumn": "object_id",
                "DisplayColumn": "prefectures"
              }
            },
            "ColumnName": "都道府県名"
          },
          {
            "GUID": "81939a7a-64e3-4b0d-be07-ebf9af82a95c",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "housing_type",
              "GUID": "490c66fe-1ce7-47c4-bf14-dd5f800b5d35"
            },
            "ColumnName": "住宅タイプ"
          },
          {
            "GUID": "05214ab8-e9de-45e1-abee-9aee8a34e8a9",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_construction_id",
              "GUID": "2ff4e32e-8dda-4b03-a416-eef60620ad78"
            },
            "ColumnName": "最新工事ID"
          },
          {
            "GUID": "5a702bd9-3678-4996-adf8-e594e7fb53ed",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_construction_id",
              "GUID": "a49a2d71-9161-4755-92f5-f4518aa241f9",
              "RelationBinding": {
                "RelatedTable": "t_object_construction",
                "RelatedColumn": "construction_id",
                "DisplayColumn": "construction_status_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_construction_status",
                  "RelatedColumn": "construction_status_id",
                  "DisplayColumn": "construction_complete_flg"
                }
              }
            },
            "ColumnName": "工事完了フラグ"
          },
          {
            "GUID": "99e4b622-4aa2-4647-a289-9a01cca31446",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_construction_id",
              "GUID": "cf2279ea-0aff-4490-bd78-134facc1b127",
              "RelationBinding": {
                "RelatedTable": "t_object_construction",
                "RelatedColumn": "construction_id",
                "DisplayColumn": "estimate_urgent_flg"
              }
            },
            "ColumnName": "見積至急フラグ"
          },
          {
            "GUID": "76d523f5-1a2f-4e71-8f46-b90ede56ae2a",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "group_id",
              "GUID": "8932c8e6-541c-492c-bf19-3b06ea41f550",
              "RelationBinding": {
                "RelatedTable": "m_group",
                "RelatedColumn": "group_id",
                "DisplayColumn": "no_estimate_reminder_flg"
              }
            },
            "ColumnName": "グループ見積リマインド不要フラグ"
          },
          {
            "GUID": "e9da01ed-c52b-402d-909f-91a139021f55",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "order_customer_id",
              "GUID": "fa28f939-8f54-41a3-b9ea-379a69e6855c",
              "RelationBinding": {
                "RelatedTable": "m_customer",
                "RelatedColumn": "customer_id",
                "DisplayColumn": "customer_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_customer_default",
                  "RelatedColumn": "customer_id",
                  "DisplayColumn": "no_estimate_reminder_flg"
                }
              }
            },
            "ColumnName": "申込事業者見積リマインド不要フラグ"
          },
          {
            "GUID": "7a7da305-9473-4727-ad66-7fbd1bc1eee9",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "builder_id",
              "GUID": "339a43e6-ce09-4187-8109-bf79f2845b06",
              "RelationBinding": {
                "RelatedTable": "m_customer",
                "RelatedColumn": "customer_id",
                "DisplayColumn": "customer_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_customer_default",
                  "RelatedColumn": "customer_id",
                  "DisplayColumn": "no_estimate_reminder_flg"
                }
              }
            },
            "ColumnName": "住宅事業者見積リマインド不要フラグ"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
          "ColumnBindingInfo": {
            "TableName": "t_object_order",
            "ColumnName": "object_order_id",
            "GUID": "99a4b257-2382-42ac-983a-53239ebe7d6d"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_申込ID"
          }
        },
        "NullFormulaValueQueryPolicy": 0
      },
      "ID": "1a4f6b8ff570429582a4a9e3da975fa0"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "指定会社顧客ID",
      "ParameterValue": {
        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
        "SerializeProperty": "=IF(AND(申込情報.グループ既定優先フラグ=1,申込情報.申込事業者ID<>\"\"),申込情報.申込事業者ID,申込情報.住宅事業者ID)"
      },
      "ID": "07cdfff2a9544dcdb431279cc7959765"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "指定会社住宅事業者ID",
      "ParameterValue": {
        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
        "SerializeProperty": "=IF(申込情報.グループ既定優先フラグ=1,申込情報.住宅事業者ID,\"\")"
      },
      "ID": "48a22f577f71402e99dbc20cd6a6c2cc"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "指定工事会社",
      "TableValue": {
        "TableName": "m_customer_specify_construction",
        "BindingInfos": [
          {
            "GUID": "06894cc1-df13-4bc6-93d1-edd4eee0e6f5",
            "BindingInfo": {
              "TableName": "m_customer_specify_construction",
              "ColumnName": "construction_customer_id",
              "GUID": "8a07c59b-1c51-4cf6-839a-49858b92fef9"
            },
            "ColumnName": "工事会社ID"
          },
          {
            "GUID": "98d80282-d90c-4419-8db7-6b1b564ec6f4",
            "BindingInfo": {
              "TableName": "m_customer_specify_construction",
              "ColumnName": "construction_customer_id",
              "GUID": "4952cf94-ac3b-43bd-90de-20c34c97e442",
              "RelationBinding": {
                "RelatedTable": "m_customer",
                "RelatedColumn": "customer_id",
                "DisplayColumn": "内部顧客名"
              }
            },
            "ColumnName": "工事会社名"
          },
          {
            "GUID": "7edc825f-b448-4a88-a975-4bd2149b2fed",
            "BindingInfo": {
              "TableName": "m_customer_specify_construction",
              "ColumnName": "construction_customer_id",
              "GUID": "b774442e-08d3-4af6-a68c-b1193af9d116",
              "RelationBinding": {
                "RelatedTable": "m_customer",
                "RelatedColumn": "customer_id",
                "DisplayColumn": "customer_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_customer_default",
                  "RelatedColumn": "customer_id",
                  "DisplayColumn": "no_estimate_reminder_flg"
                }
              }
            },
            "ColumnName": "工事会社見積リマインド不要フラグ"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
          "SubConditions": [
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_customer_specify_construction",
                "ColumnName": "customer_id",
                "GUID": "e54de039-da9a-47c4-9c72-6ad4f59a4d6d"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=指定会社顧客ID"
              }
            },
            {
              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
              "SubConditions": [
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "builder_id",
                    "GUID": "1b14ae5a-3ebb-4ac2-8385-775852c8e2c3"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=指定会社住宅事業者ID"
                  },
                  "LeftBracket": 1
                },
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "builder_id",
                    "GUID": "8b888de0-cd4b-4bf2-af01-223c32d62fc5"
                  },
                  "Value": "%Null%",
                  "RightBracket": 1
                }
              ],
              "RelationType": 1
            },
            {
              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
              "SubConditions": [
                {
                  "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                  "CompareType": 6,
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "prefectures",
                    "GUID": "81dee2a9-fff4-4c8c-b2e1-d54e1f803743"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.都道府県名"
                  },
                  "LeftBracket": 1
                },
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "prefectures",
                    "GUID": "e328856f-b2d6-4332-b557-72268c638e3c"
                  },
                  "Value": "%Null%",
                  "RightBracket": 1
                }
              ],
              "RelationType": 1
            },
            {
              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
              "SubConditions": [
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "housing_type",
                    "GUID": "d52414e7-1627-4146-ba63-256fd12a6923"
                  },
                  "Value": "0",
                  "LeftBracket": 1
                },
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "housing_type",
                    "GUID": "b3c46d40-6700-4526-9c60-f14f526500c0"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.住宅タイプ"
                  },
                  "RightBracket": 1
                }
              ],
              "RelationType": 1
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_customer_specify_construction",
                "ColumnName": "construction_customer_id",
                "GUID": "722bdcc1-3555-45aa-8ac8-a2d412c3ed3d",
                "RelationBinding": {
                  "RelatedTable": "m_customer",
                  "RelatedColumn": "customer_id",
                  "DisplayColumn": "active_flg"
                }
              },
              "Value": "1"
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_customer_specify_construction",
                "ColumnName": "prohibit_flg",
                "GUID": "bd8744ae-d77c-4ecd-a310-41e58613b957"
              },
              "Value": "0"
            }
          ]
        },
        "NullFormulaValueQueryPolicy": 0,
        "OrderBySqlCondition": {
          "OrderByColumns": [
            {
              "ColumnBindingInfo": {
                "TableName": "m_customer_specify_construction",
                "ColumnName": "builder_id",
                "GUID": "2cf25a32-e646-4aad-91db-f420bd015c14"
              },
              "Order": 0
            },
            {
              "ColumnBindingInfo": {
                "TableName": "m_customer_specify_construction",
                "ColumnName": "sort_no",
                "GUID": "90d2fbb7-5bf3-47f5-b48a-71cc00865ddc"
              },
              "Order": 0
            }
          ]
        }
      },
      "ID": "1569787a94bb493682cac8baea103ad5"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "エラー工事会社名",
      "ID": "da17fcb290644fea814517f8ca6a871e"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_見積手配保留フラグ"
              }
            },
            "value": "1"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "V_工事見積ステータスID",
              "TableValue": {
                "TableName": "m_construction_estimate_status",
                "OnlyGetValue": true,
                "TableValueType": 0,
                "BindingInfos": [
                  {
                    "GUID": "fdc8fd85-a8c0-416e-994f-e31d71b2bce2",
                    "BindingInfo": {
                      "TableName": "m_construction_estimate_status",
                      "ColumnName": "construction_estimate_status_id",
                      "GUID": "f4b831b0-756a-47d3-a586-53faaed59878"
                    },
                    "ColumnName": "construction_estimate_status_id"
                  }
                ],
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_construction_estimate_status",
                    "ColumnName": "estimate_arrange_pending_flg",
                    "GUID": "179154db-c0ce-4b6a-8ce5-d40cdaea836a"
                  },
                  "Value": "1"
                }
              },
              "ID": "5203fb66268040149c570a1b1eadc721",
              "Comments": "見積手配保留"
            }
          ],
          "ID": "dc84e154-0cfb-42c3-be91-4e3145963a22"
        },
        {
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "V_工事見積ステータスID",
              "TableValue": {
                "TableName": "m_construction_estimate_status",
                "OnlyGetValue": true,
                "TableValueType": 0,
                "BindingInfos": [
                  {
                    "GUID": "75772fbb-44df-4bad-b33f-b5d633eaeefb",
                    "BindingInfo": {
                      "TableName": "m_construction_estimate_status",
                      "ColumnName": "construction_estimate_status_id",
                      "GUID": "b93ba875-910b-442c-af51-82b782447067"
                    },
                    "ColumnName": "construction_estimate_status_id"
                  }
                ],
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_construction_estimate_status",
                    "ColumnName": "estimate_arrange_wait_flg",
                    "GUID": "8af3dc93-d2c6-4772-a1b8-b3f58413c95b"
                  },
                  "Value": "1"
                }
              },
              "ID": "e6cb291212d74c6192099e31c9fafad0",
              "Comments": "見積手配待ち"
            }
          ],
          "ID": "54366c93-65d9-41a5-a1d6-f2dbf60ac0e3"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.LoopCommand, ServerDesignerCommon",
      "LoopInfo": {
        "$type": "Forguncy.Model.CountLoopInfo, ServerDesignerCommon",
        "LoopCount": {
          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
          "SerializeProperty": "=指定工事会社"
        },
        "LoopItemParamName": "Item"
      },
      "CommandList": [
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "登録済み数",
          "TableValue": {
            "TableName": "t_object_construction_estimate",
            "TableValueType": 3,
            "SqlCondition": {
              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
              "SubConditions": [
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "t_object_construction_estimate",
                    "ColumnName": "object_order_id",
                    "GUID": "f2278be5-1451-4b83-b781-c27df51e4ce3"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_申込ID"
                  }
                },
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "t_object_construction_estimate",
                    "ColumnName": "construction_customer_id",
                    "GUID": "5273d6a2-4025-4704-9eba-34595124bd48"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=Item.工事会社ID"
                  }
                }
              ]
            }
          },
          "ID": "521f1306ef2d459fba62b858143198ce"
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=登録済み数"
                  }
                },
                "value": "0",
                "compareType": 2
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=エラー工事会社名"
                          }
                        },
                        "value": "%Null%"
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "エラー工事会社名",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.工事会社名"
                          },
                          "ID": "9a9fcb20a11441d3815dbde8b6360bfd"
                        }
                      ],
                      "ID": "24f99b5b-74e7-4af8-afae-01bd32631431"
                    },
                    {
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "エラー工事会社名",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=エラー工事会社名&CHAR(10)&Item.工事会社名"
                          },
                          "ID": "e5e8f5482fc74560b6774a8ae0e0e67c"
                        }
                      ],
                      "ID": "9864eb10-9c08-44d7-96ba-58b09d6e6d57"
                    }
                  ]
                }
              ],
              "ID": "ad50dbf7-ab96-4e71-b2ad-7480bd8280d6"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                        "SubConditions": [
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=Item.工事会社見積リマインド不要フラグ"
                              }
                            },
                            "value": "1"
                          },
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=申込情報.グループ見積リマインド不要フラグ"
                              }
                            },
                            "value": "1"
                          },
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=申込情報.申込事業者見積リマインド不要フラグ"
                              }
                            },
                            "value": "1"
                          },
                          {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=申込情報.住宅事業者見積リマインド不要フラグ"
                              }
                            },
                            "value": "1"
                          }
                        ],
                        "RelationType": 1
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "V_見積リマインドフラグ",
                          "ParameterValue": "0",
                          "ID": "9ce1eee2eca54967b67aa64a68ff7ece"
                        }
                      ],
                      "ID": "fe24941f-e858-44d8-a166-cb6678531ccf"
                    },
                    {
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "V_見積リマインドフラグ",
                          "ParameterValue": "1",
                          "ID": "9929d40a075b47dc98f8c97008d19570"
                        }
                      ],
                      "ID": "1bb7fde0-c1ef-4258-a998-201ad32c64d6"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_object_construction_estimate",
                  "UpdateType": "add",
                  "ShowConfirm": false,
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "object_order_id",
                        "GUID": "f247f545-437b-4470-89e8-cb6dd5a1df41"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "construction_estimate_register_date",
                        "GUID": "61311cb1-53aa-42e5-84f7-806b93ebff2e"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=TODAY()"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "estimate_urgent_flg",
                        "GUID": "62573646-756d-4f38-8440-3c9450236d0e"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=申込情報.見積至急フラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "construction_customer_id",
                        "GUID": "3a3e7904-b3a7-48a9-9978-aa895955fcb9"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=Item.工事会社ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "priority_type_id",
                        "GUID": "e95285c8-055c-43f6-bd64-ac610c4219d6"
                      },
                      "Value": "2"
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "construction_estimate_status_id",
                        "GUID": "2f055f28-0556-4dd1-abeb-4376d7cd10a6"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_工事見積ステータスID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "estimate_reminder_flg",
                        "GUID": "a6b7eae5-f22f-4354-8595-3f353d336c6e"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_見積リマインドフラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "last_updated_label",
                        "GUID": "e45f06dd-57fc-4112-baf4-be3b53cea885"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=最終更新ラベル"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New工事見積情報"
                }
              ],
              "ID": "b90cdfa6-a576-419f-ba6e-9ec228d4e439"
            }
          ]
        }
      ]
    },
    {
      "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
      "ServerCommandName": "工事見積最大ステータス更新処理",
      "Parameters": [
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_申込ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_申込ID"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_工事ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=申込情報.最新工事ID"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_工事完了フラグ",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=申込情報.工事完了フラグ"
          }
        }
      ],
      "ReturnPropertiesTo": [
        {
          "ResultPropertyName": "R_有効見積業者数"
        }
      ],
      "RefreshAfterFinish": true,
      "CheckDataValidation": true
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=エラー工事会社名"
              }
            },
            "value": "%Null%",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "CustomReturns": [
                {
                  "ReturnPropertyName": "R_登録済みメッセージ",
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=エラー工事会社名&CHAR(10)&\"この指定工事会社は既に見積データに登録済みです\""
                  }
                }
              ]
            }
          ],
          "ID": "ad5e3679-fe1c-45f6-971f-ebadb2473970"
        }
      ]
    }
  ],
  "ReturnProperties": [
    {
      "Name": "R_登録済みメッセージ"
    }
  ]
}