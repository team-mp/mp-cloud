{
  "Name": "指定工事会社取得",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_申込ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_見積手配保留フラグ",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
      "ServerCommandName": "登録更新ラベル取得",
      "ResultErrorCodeTo": {
        "SerializeProperty": "リターンコード"
      },
      "ResultMessageTo": {
        "SerializeProperty": "リターンメッセージ"
      },
      "ReturnPropertiesTo": [
        {
          "ResultPropertyName": "R_ラベル名",
          "ResultTo": {
            "SerializeProperty": "最終更新ラベル"
          }
        },
        {
          "ResultPropertyName": "R_外部ユーザーフラグ"
        }
      ],
      "RefreshAfterFinish": true,
      "CheckDataValidation": true
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "申込情報",
      "TableValue": {
        "TableName": "t_object_order",
        "TableValueType": 1,
        "BindingInfos": [
          {
            "GUID": "f738beb6-7af2-4ab2-a727-58210a2fbcf8",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "group_id",
              "GUID": "16182a76-fe46-413d-95e7-40da5b0294cb",
              "RelationBinding": {
                "RelatedTable": "m_group",
                "RelatedColumn": "group_id",
                "DisplayColumn": "group_default_priority_flg"
              }
            },
            "ColumnName": "グループ既定優先フラグ"
          },
          {
            "GUID": "423daa24-1f6c-4d3b-87c9-179ce2d8c1d2",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "order_customer_id",
              "GUID": "81d05e00-4992-4e38-9385-c840a9f525f6"
            },
            "ColumnName": "申込事業者ID"
          },
          {
            "GUID": "bbb91b68-c501-42d3-9573-2c1133f1c22a",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "builder_id",
              "GUID": "b1375855-3aee-417d-904b-4ee4c334b885"
            },
            "ColumnName": "住宅事業者ID"
          },
          {
            "GUID": "3cbc59a5-b6e9-4896-afe2-6956988f2814",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "object_id",
              "GUID": "13ff0652-b75b-4677-b636-ef775dff74c4",
              "RelationBinding": {
                "RelatedTable": "t_object",
                "RelatedColumn": "object_id",
                "DisplayColumn": "prefectures"
              }
            },
            "ColumnName": "都道府県名"
          },
          {
            "GUID": "983ff012-84da-41a6-8642-31cb9440300c",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "housing_type",
              "GUID": "490c66fe-1ce7-47c4-bf14-dd5f800b5d35"
            },
            "ColumnName": "住宅タイプ"
          },
          {
            "GUID": "ffdda4a5-9242-4458-b967-48ced9a9e394",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_construction_id",
              "GUID": "2ff4e32e-8dda-4b03-a416-eef60620ad78"
            },
            "ColumnName": "最新工事ID"
          },
          {
            "GUID": "44602c0e-8efe-46ce-b4de-a1cd0e38fe49",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_construction_id",
              "GUID": "a49a2d71-9161-4755-92f5-f4518aa241f9",
              "RelationBinding": {
                "RelatedTable": "t_object_construction",
                "RelatedColumn": "construction_id",
                "DisplayColumn": "construction_status_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_construction_status",
                  "RelatedColumn": "construction_status_id",
                  "DisplayColumn": "construction_complete_flg"
                }
              }
            },
            "ColumnName": "工事完了フラグ"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
          "ColumnBindingInfo": {
            "TableName": "t_object_order",
            "ColumnName": "object_order_id",
            "GUID": "99a4b257-2382-42ac-983a-53239ebe7d6d"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_申込ID"
          }
        },
        "NullFormulaValueQueryPolicy": 0
      },
      "ID": "0a76b3f8b3764e35890c341ffac3a48b"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "指定会社顧客ID",
      "ParameterValue": {
        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
        "SerializeProperty": "=IF(AND(申込情報.グループ既定優先フラグ=1,申込情報.申込事業者ID<>\"\"),申込情報.申込事業者ID,申込情報.住宅事業者ID)"
      },
      "ID": "1bcc9c6f693749c3b89fa21c1f5ea232"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "指定会社住宅事業者ID",
      "ParameterValue": {
        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
        "SerializeProperty": "=IF(申込情報.グループ既定優先フラグ=1,申込情報.住宅事業者ID,\"\")"
      },
      "ID": "48a22f577f71402e99dbc20cd6a6c2cc"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "指定工事会社",
      "TableValue": {
        "TableName": "m_customer_specify_construction",
        "BindingInfos": [
          {
            "GUID": "f06701d9-18e1-4371-8c4f-67d1f651b072",
            "BindingInfo": {
              "TableName": "m_customer_specify_construction",
              "ColumnName": "construction_customer_id",
              "GUID": "8a07c59b-1c51-4cf6-839a-49858b92fef9"
            },
            "ColumnName": "工事会社ID"
          },
          {
            "GUID": "4642fc17-348f-4594-950b-613a67776e8b",
            "BindingInfo": {
              "TableName": "m_customer_specify_construction",
              "ColumnName": "construction_customer_id",
              "GUID": "4952cf94-ac3b-43bd-90de-20c34c97e442",
              "RelationBinding": {
                "RelatedTable": "m_customer",
                "RelatedColumn": "customer_id",
                "DisplayColumn": "内部顧客名"
              }
            },
            "ColumnName": "工事会社名"
          },
          {
            "GUID": "0837c693-1b76-4231-b884-419c05119d18",
            "BindingInfo": {
              "TableName": "m_customer_specify_construction",
              "ColumnName": "construction_customer_id",
              "GUID": "b774442e-08d3-4af6-a68c-b1193af9d116",
              "RelationBinding": {
                "RelatedTable": "m_customer",
                "RelatedColumn": "customer_id",
                "DisplayColumn": "customer_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_customer_default",
                  "RelatedColumn": "customer_id",
                  "DisplayColumn": "no_estimate_reminder_flg"
                }
              }
            },
            "ColumnName": "見積リマインド不要フラグ"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
          "SubConditions": [
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_customer_specify_construction",
                "ColumnName": "customer_id",
                "GUID": "e54de039-da9a-47c4-9c72-6ad4f59a4d6d"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=指定会社顧客ID"
              }
            },
            {
              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
              "SubConditions": [
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "builder_id",
                    "GUID": "1b14ae5a-3ebb-4ac2-8385-775852c8e2c3"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=指定会社住宅事業者ID"
                  },
                  "LeftBracket": 1
                },
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "builder_id",
                    "GUID": "8b888de0-cd4b-4bf2-af01-223c32d62fc5"
                  },
                  "Value": "%Null%",
                  "RightBracket": 1
                }
              ],
              "RelationType": 1
            },
            {
              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
              "SubConditions": [
                {
                  "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                  "CompareType": 6,
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "prefectures",
                    "GUID": "81dee2a9-fff4-4c8c-b2e1-d54e1f803743"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.都道府県名"
                  },
                  "LeftBracket": 1
                },
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "prefectures",
                    "GUID": "e328856f-b2d6-4332-b557-72268c638e3c"
                  },
                  "Value": "%Null%",
                  "RightBracket": 1
                }
              ],
              "RelationType": 1
            },
            {
              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
              "SubConditions": [
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "housing_type",
                    "GUID": "d52414e7-1627-4146-ba63-256fd12a6923"
                  },
                  "Value": "0",
                  "LeftBracket": 1
                },
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_customer_specify_construction",
                    "ColumnName": "housing_type",
                    "GUID": "b3c46d40-6700-4526-9c60-f14f526500c0"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.住宅タイプ"
                  },
                  "RightBracket": 1
                }
              ],
              "RelationType": 1
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_customer_specify_construction",
                "ColumnName": "construction_customer_id",
                "GUID": "722bdcc1-3555-45aa-8ac8-a2d412c3ed3d",
                "RelationBinding": {
                  "RelatedTable": "m_customer",
                  "RelatedColumn": "customer_id",
                  "DisplayColumn": "active_flg"
                }
              },
              "Value": "1"
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_customer_specify_construction",
                "ColumnName": "prohibit_flg",
                "GUID": "bd8744ae-d77c-4ecd-a310-41e58613b957"
              },
              "Value": "0"
            }
          ]
        },
        "NullFormulaValueQueryPolicy": 0,
        "OrderBySqlCondition": {
          "OrderByColumns": [
            {
              "ColumnBindingInfo": {
                "TableName": "m_customer_specify_construction",
                "ColumnName": "builder_id",
                "GUID": "2cf25a32-e646-4aad-91db-f420bd015c14"
              },
              "Order": 0
            },
            {
              "ColumnBindingInfo": {
                "TableName": "m_customer_specify_construction",
                "ColumnName": "sort_no",
                "GUID": "90d2fbb7-5bf3-47f5-b48a-71cc00865ddc"
              },
              "Order": 0
            }
          ]
        }
      },
      "ID": "ea25c904d38c475ab1535fd56c719daf"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "エラー工事会社名",
      "ID": "da17fcb290644fea814517f8ca6a871e"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_見積手配保留フラグ"
              }
            },
            "value": "1"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "V_工事見積ステータスID",
              "TableValue": {
                "TableName": "m_construction_estimate_status",
                "OnlyGetValue": true,
                "TableValueType": 0,
                "BindingInfos": [
                  {
                    "GUID": "fdc8fd85-a8c0-416e-994f-e31d71b2bce2",
                    "BindingInfo": {
                      "TableName": "m_construction_estimate_status",
                      "ColumnName": "construction_estimate_status_id",
                      "GUID": "f4b831b0-756a-47d3-a586-53faaed59878"
                    },
                    "ColumnName": "construction_estimate_status_id"
                  }
                ],
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_construction_estimate_status",
                    "ColumnName": "estimate_arrange_pending_flg",
                    "GUID": "179154db-c0ce-4b6a-8ce5-d40cdaea836a"
                  },
                  "Value": "1"
                }
              },
              "ID": "5203fb66268040149c570a1b1eadc721",
              "Comments": "見積手配保留"
            }
          ],
          "ID": "762d63c4-cc92-4db2-bf29-8061fe875795"
        },
        {
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "V_工事見積ステータスID",
              "TableValue": {
                "TableName": "m_construction_estimate_status",
                "OnlyGetValue": true,
                "TableValueType": 0,
                "BindingInfos": [
                  {
                    "GUID": "75772fbb-44df-4bad-b33f-b5d633eaeefb",
                    "BindingInfo": {
                      "TableName": "m_construction_estimate_status",
                      "ColumnName": "construction_estimate_status_id",
                      "GUID": "b93ba875-910b-442c-af51-82b782447067"
                    },
                    "ColumnName": "construction_estimate_status_id"
                  }
                ],
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "m_construction_estimate_status",
                    "ColumnName": "estimate_arrange_wait_flg",
                    "GUID": "8af3dc93-d2c6-4772-a1b8-b3f58413c95b"
                  },
                  "Value": "1"
                }
              },
              "ID": "e6cb291212d74c6192099e31c9fafad0",
              "Comments": "見積手配待ち"
            }
          ],
          "ID": "8c996144-4432-482d-af0d-5da5e2cd090e"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.LoopCommand, ServerDesignerCommon",
      "LoopInfo": {
        "$type": "Forguncy.Model.CountLoopInfo, ServerDesignerCommon",
        "LoopCount": {
          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
          "SerializeProperty": "=指定工事会社"
        },
        "LoopItemParamName": "Item"
      },
      "CommandList": [
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "登録済み数",
          "TableValue": {
            "TableName": "t_object_construction_estimate",
            "TableValueType": 3,
            "SqlCondition": {
              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
              "SubConditions": [
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "t_object_construction_estimate",
                    "ColumnName": "object_order_id",
                    "GUID": "f2278be5-1451-4b83-b781-c27df51e4ce3"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_申込ID"
                  }
                },
                {
                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                  "ColumnBindingInfo": {
                    "TableName": "t_object_construction_estimate",
                    "ColumnName": "construction_customer_id",
                    "GUID": "5273d6a2-4025-4704-9eba-34595124bd48"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=Item.工事会社ID"
                  }
                }
              ]
            }
          },
          "ID": "521f1306ef2d459fba62b858143198ce"
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=登録済み数"
                  }
                },
                "value": "0",
                "compareType": 2
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=エラー工事会社名"
                          }
                        },
                        "value": "%Null%"
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "エラー工事会社名",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.工事会社名"
                          },
                          "ID": "9a9fcb20a11441d3815dbde8b6360bfd"
                        }
                      ],
                      "ID": "40cb682c-6b11-4368-9be0-be5cd6e7612f"
                    },
                    {
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "エラー工事会社名",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=エラー工事会社名&CHAR(10)&Item.工事会社名"
                          },
                          "ID": "e5e8f5482fc74560b6774a8ae0e0e67c"
                        }
                      ],
                      "ID": "69ec36a8-3dd9-4146-aacf-251eda523482"
                    }
                  ]
                }
              ],
              "ID": "c1394f5d-c3a4-41e3-a4a9-7dc690c9f53b"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=Item.見積リマインド不要フラグ"
                          }
                        },
                        "value": "1"
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "V_見積リマインドフラグ",
                          "ParameterValue": "0",
                          "ID": "ed67e6b6d6124bae98dd0cc949bf3765"
                        }
                      ],
                      "ID": "63e349a9-4be6-4bc2-900d-0043699c95e7"
                    },
                    {
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "V_見積リマインドフラグ",
                          "ParameterValue": "1",
                          "ID": "9929d40a075b47dc98f8c97008d19570"
                        }
                      ],
                      "ID": "d0d0a653-fc33-4bc2-bb2d-61e281c3152e"
                    }
                  ]
                },
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_object_construction_estimate",
                  "UpdateType": "add",
                  "ShowConfirm": false,
                  "UpdateBindingValues": [
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "object_order_id",
                        "GUID": "e9f0d9de-4001-405a-ae1f-50fa9ca4bbfe"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "construction_estimate_register_date",
                        "GUID": "33da7b97-320f-4c15-bffb-447117326b68"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=TODAY()"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "construction_customer_id",
                        "GUID": "083ea291-80f2-466d-a6c0-2ebdb085490c"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=Item.工事会社ID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "priority_type_id",
                        "GUID": "a2642b7d-61fb-4dc0-8793-53e250dd8995"
                      },
                      "Value": "2"
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "construction_estimate_status_id",
                        "GUID": "b9bf8c63-1ea6-402c-b3c1-9f480f525d76"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_工事見積ステータスID"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "estimate_reminder_flg",
                        "GUID": "a2ef9d3e-e3be-43f6-943b-8ac6c1b65ca9"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=V_見積リマインドフラグ"
                      }
                    },
                    {
                      "BindingInfo": {
                        "TableName": "t_object_construction_estimate",
                        "ColumnName": "last_updated_label",
                        "GUID": "e138128c-ba5d-4365-a633-8d9d955fa1c1"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=最終更新ラベル"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New工事見積情報"
                }
              ],
              "ID": "041641dc-2156-4bed-8502-1bbcc4fd4917"
            }
          ]
        }
      ]
    },
    {
      "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
      "ServerCommandName": "工事見積最大ステータス更新処理",
      "Parameters": [
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_申込ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_申込ID"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_工事ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=申込情報.最新工事ID"
          }
        },
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_工事完了フラグ",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=申込情報.工事完了フラグ"
          }
        }
      ],
      "RefreshAfterFinish": true,
      "CheckDataValidation": true
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=エラー工事会社名"
              }
            },
            "value": "%Null%",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": "0",
              "CustomReturns": [
                {
                  "ReturnPropertyName": "R_登録済みメッセージ",
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=エラー工事会社名&CHAR(10)&\"この指定工事会社は既に見積データに登録済みです\""
                  }
                }
              ]
            }
          ],
          "ID": "0038eae6-b137-447f-8bc1-a4c117552875"
        }
      ]
    }
  ],
  "ReturnProperties": [
    {
      "Name": "R_登録済みメッセージ"
    }
  ]
}