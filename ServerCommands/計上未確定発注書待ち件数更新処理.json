{
  "Name": "計上未確定発注書待ち件数更新処理",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_申込ID",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "V_計上未確定件数",
      "TableValue": {
        "TableName": "t_object_product",
        "TableValueType": 3,
        "SqlCondition": {
          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
          "SubConditions": [
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_product",
                "ColumnName": "object_order_id",
                "GUID": "8b53b721-3df1-4438-ba2d-d754689e7fb7"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込ID"
              }
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_product",
                "ColumnName": "account_complete_flg",
                "GUID": "48109469-b777-46c9-b2bc-477c7a1e4117"
              },
              "Value": "0"
            }
          ]
        }
      },
      "ID": "016e962453b24dae82320b4b37f75722"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "V_発注書待ち件数",
      "TableValue": {
        "TableName": "t_object_product",
        "TableValueType": 3,
        "SqlCondition": {
          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
          "SubConditions": [
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_product",
                "ColumnName": "object_order_id",
                "GUID": "01900995-0921-4dde-8bca-40f1802e2c5e"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込ID"
              }
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_product",
                "ColumnName": "purchase_required_flg",
                "GUID": "7e941f17-cf3c-4801-b973-2593d902b376"
              },
              "Value": "1"
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_product",
                "ColumnName": "purchase_receipt_date",
                "GUID": "4db3f216-52c5-4314-9aee-bf87583fb1d7"
              },
              "Value": "%Null%"
            }
          ]
        }
      },
      "ID": "07f2cea8dec04fadb54cd5b8aaa8b164"
    },
    {
      "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
      "TableName": "t_object_order",
      "ShowConfirm": false,
      "RowsToUpdate": 1,
      "RowsToUpdateCondition": {
        "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
        "SubConditions": [
          {
            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
            "ColumnBindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "object_order_id",
              "GUID": "666330b7-df85-4e16-98ae-5ab744a8d958"
            },
            "Value": {
              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
              "SerializeProperty": "=P_申込ID"
            }
          },
          {
            "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
            "SubConditions": [
              {
                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                "CompareType": 1,
                "ColumnBindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "account_not_confirmed_count",
                  "GUID": "2096eec3-adff-475e-ab9b-17f2d5522ac5"
                },
                "Value": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=V_計上未確定件数"
                },
                "LeftBracket": 1
              },
              {
                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                "CompareType": 1,
                "ColumnBindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "purchase_not_arraived_count",
                  "GUID": "987dd895-eac6-48bb-ab6f-8684080bb6ba"
                },
                "Value": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=V_発注書待ち件数"
                },
                "RightBracket": 1
              }
            ],
            "RelationType": 1
          }
        ]
      },
      "UpdateBindingValues": [
        {
          "BindingInfo": {
            "TableName": "t_object_order",
            "ColumnName": "account_not_confirmed_count",
            "GUID": "7669c282-24cf-481c-8e3f-709a241603b6"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=V_計上未確定件数"
          }
        },
        {
          "BindingInfo": {
            "TableName": "t_object_order",
            "ColumnName": "purchase_not_arraived_count",
            "GUID": "df7f525a-fcad-4505-948e-dd79035d5029"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=V_発注書待ち件数"
          }
        }
      ]
    }
  ]
}