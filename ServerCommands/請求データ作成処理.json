{
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.ServerCommands.Models.PostRequestTrigger, ServerDesignerCommon",
      "Permission": {
        "AllowRoles": [
          "FGC_LoginUser"
        ]
      },
      "Parameters": [
        {
          "Name": "P_申込ID"
        },
        {
          "Name": "P_物件商品ID"
        },
        {
          "Name": "P_売上日"
        },
        {
          "Name": "P_売上区分"
        },
        {
          "Name": "P_請求先ID"
        },
        {
          "Name": "P_請求商品ID"
        },
        {
          "Name": "P_請求商品名"
        },
        {
          "Name": "P_請求備考"
        },
        {
          "Name": "P_請求税抜金額"
        },
        {
          "Name": "P_消費税額"
        },
        {
          "Name": "P_消費税率"
        },
        {
          "Name": "P_発注書必要フラグ"
        },
        {
          "Name": "P_発注書受領日"
        },
        {
          "Name": "P_取消売上ID"
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "CommandList": [
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                "Condition1": {
                  "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                  "param": {
                    "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                    "ParamObject": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_発注書必要フラグ"
                    }
                  },
                  "value": "1"
                },
                "Condition2": {
                  "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                  "param": {
                    "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                    "ParamObject": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_発注書受領日"
                    }
                  },
                  "value": "%Null%"
                }
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
                  "ErrorCode": "100",
                  "Message": "発注書が未受領のため請求データを作成できません",
                  "CustomReturns": []
                }
              ],
              "ID": "c1c746e1-abf1-4975-a0ef-244338f4dfed"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "請求先マスタ",
          "TableValue": {
            "TableName": "m_customer",
            "TableValueType": 1,
            "BindingInfos": [
              {
                "BindingInfo": {
                  "TableName": "m_customer",
                  "ColumnName": "billing_issue_unit"
                },
                "ColumnName": "請求書発行単位"
              },
              {
                "BindingInfo": {
                  "TableName": "m_customer",
                  "ColumnName": "purchase_required_flg"
                },
                "ColumnName": "発注書必要フラグ"
              },
              {
                "BindingInfo": {
                  "TableName": "m_customer",
                  "ColumnName": "closing_date"
                },
                "ColumnName": "請求締日"
              },
              {
                "BindingInfo": {
                  "TableName": "m_customer",
                  "ColumnName": "deposit_month"
                },
                "ColumnName": "入金月"
              },
              {
                "BindingInfo": {
                  "TableName": "m_customer",
                  "ColumnName": "deposit_day"
                },
                "ColumnName": "入金日"
              },
              {
                "BindingInfo": {
                  "TableName": "m_customer",
                  "ColumnName": "deposit_business_day"
                },
                "ColumnName": "入金営業日"
              }
            ],
            "SqlCondition": {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_customer",
                "ColumnName": "customer_id"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_請求先ID"
              }
            }
          },
          "ID": "a2420eab3aff450aad68ca4b4d154fc2"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "物件申込",
          "TableValue": {
            "TableName": "t_object_order",
            "TableValueType": 1,
            "BindingInfos": [
              {
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "object_id"
                },
                "ColumnName": "物件ID"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "object_id",
                  "RelationBinding": {
                    "RelatedTable": "t_object",
                    "RelatedColumn": "object_id",
                    "DisplayColumn": "物件名"
                  }
                },
                "ColumnName": "物件名"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "object_id",
                  "RelationBinding": {
                    "RelatedTable": "t_object",
                    "RelatedColumn": "object_id",
                    "DisplayColumn": "物件住所"
                  }
                },
                "ColumnName": "物件住所"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "builder_id"
                },
                "ColumnName": "住宅事業者ID"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "builder_id",
                  "RelationBinding": {
                    "RelatedTable": "m_customer",
                    "RelatedColumn": "customer_id",
                    "DisplayColumn": "customer_name"
                  }
                },
                "ColumnName": "住宅事業者名"
              }
            ],
            "SqlCondition": {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_order",
                "ColumnName": "object_order_id"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込ID"
              }
            }
          },
          "ID": "66549c1fd94c4cbf9f22081757077935"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "請求番号",
          "ID": "cb86b2ff331f4cbf90bc57325948c215"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "売上日",
          "ID": "7782ddc364c048a4a93a4690f83d88aa"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "請求日",
          "ID": "9cc46d5e990046858240fc3cd3e7480c"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "回収予定日",
          "ID": "de7275cd059a4c48a7d0a81c8462d350"
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                "Condition1": {
                  "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                  "param": {
                    "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                    "ParamObject": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_発注書必要フラグ"
                    }
                  },
                  "value": "1"
                },
                "Condition2": {
                  "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                  "param": {
                    "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                    "ParamObject": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_発注書受領日"
                    }
                  },
                  "value": "%Null%",
                  "compareType": 1
                }
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "売上日",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_発注書受領日"
                  },
                  "ID": "e400e18d663a4d1796a85f403eadb761"
                }
              ],
              "ID": "074b727f-cf53-4d07-805f-1ad322b12a9d"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "売上日",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_売上日"
                  },
                  "ID": "07b9f98fceac451581bc8cb53278496d"
                }
              ],
              "ID": "2af52bf1-9d82-43b7-8dd1-922251deac9e"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_売上区分"
                  }
                },
                "value": "1"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "最新税率",
                  "TableValue": {
                    "TableName": "m_tax_rate",
                    "OnlyGetValue": true,
                    "TableValueType": 0,
                    "BindingInfos": [
                      {
                        "BindingInfo": {
                          "TableName": "m_tax_rate",
                          "ColumnName": "tax_rate"
                        },
                        "ColumnName": "tax_rate"
                      }
                    ],
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "CompareType": 5,
                      "ColumnBindingInfo": {
                        "TableName": "m_tax_rate",
                        "ColumnName": "revision_date"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=売上日"
                      }
                    },
                    "TopCount": "1",
                    "OrderBySqlCondition": {
                      "OrderByColumns": [
                        {
                          "ColumnBindingInfo": {
                            "TableName": "m_tax_rate",
                            "ColumnName": "revision_date"
                          },
                          "Order": 1
                        }
                      ]
                    }
                  },
                  "ID": "1d91e35ccdb149039a42fd4c13b45de1"
                }
              ],
              "ID": "532ac7b2-c24e-4525-a542-2c19173a303a"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "最新税率",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_消費税率"
                  },
                  "ID": "8fa7e62ad6464e34b35c74b0bbab362e"
                }
              ],
              "ID": "7a778ed5-ac27-4db3-a174-3991396d5373"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=請求先マスタ.請求締日"
                  }
                },
                "value": "29,30,31",
                "compareType": 12
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "請求日",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=EOMONTH(売上日,0)"
                  },
                  "ID": "e185d5d155a848d39d43995da7a5b280"
                }
              ],
              "Comments": "月末締めの場合",
              "ID": "cec5ed1a-bba6-40ad-bd8f-a8bef0eda779"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "当月請求日",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=DATE(YEAR(売上日),MONTH(売上日),請求先マスタ.請求締日)"
                  },
                  "ID": "edc5f407bd224ff6b6b9006ecd65fbd6"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=売上日"
                          }
                        },
                        "value": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=当月請求日"
                        },
                        "compareType": 5
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "請求日",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=当月請求日"
                          },
                          "ID": "b44d452c09364245a324becb94c81a10"
                        }
                      ],
                      "ID": "32a358bb-2d69-4255-8c6b-0bdc06ead017"
                    },
                    {
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "請求日",
                          "ParameterValue": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=EDATE(当月請求日,1)"
                          },
                          "ID": "ad4816fd67c64e76b752c4b5eba320c2"
                        }
                      ],
                      "ID": "2a8d4560-59b4-4a7d-8049-6e574b06416c"
                    }
                  ]
                }
              ],
              "ID": "4bb022d5-e708-4766-9ff7-0f4905582609"
            }
          ],
          "Comments": "請求日取得"
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=請求先マスタ.入金日"
                  }
                },
                "value": "29,30,31",
                "compareType": 12
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "基準回収予定日",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=EOMONTH(EDATE(請求日,請求先マスタ.入金月),0)"
                  },
                  "ID": "5d499f14dbe84d5fb00050c52ba3cdf1"
                }
              ],
              "ID": "526f31dc-4ea9-4a86-8f98-c9b04730b152"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "基準回収予定日",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=DATE(YEAR(EDATE(請求日,請求先マスタ.入金月)),MONTH(EDATE(請求日,請求先マスタ.入金月)),請求先マスタ.入金日)"
                  },
                  "ID": "8ba7ba15a0b34c2f89981db55f9195b1"
                }
              ],
              "ID": "e437dcac-1b54-4c35-bce6-55b2afed4658"
            }
          ],
          "Comments": "回収予定日取得"
        },
        {
          "$type": "Forguncy.Model.LoopCommand, ServerDesignerCommon",
          "LoopInfo": {
            "$type": "Forguncy.Model.CountLoopInfo, ServerDesignerCommon",
            "LoopCount": "99",
            "LoopItemParamName": "Item"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "回収予定日曜日",
              "ParameterValue": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=WEEKDAY(基準回収予定日)"
              },
              "ID": "4967b6b47d924f549a152e4861964fd2"
            },
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": [
                {
                  "Condition": {
                    "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                    "param": {
                      "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                      "ParamObject": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=回収予定日曜日"
                      }
                    },
                    "value": "1,7",
                    "compareType": 12
                  },
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                      "ConditionAndCommandPairList": [
                        {
                          "Condition": {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=請求先マスタ.入金営業日"
                              }
                            },
                            "value": "1"
                          },
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                              "ParameterName": "基準回収予定日",
                              "ParameterValue": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=基準回収予定日-1"
                              },
                              "ID": "fb17e37dc4cf44778cbb7c8b13ba9ae1",
                              "Comments": "前営業日"
                            }
                          ],
                          "ID": "156bd329-c075-405a-b31c-587fcb53e773"
                        },
                        {
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                              "ParameterName": "基準回収予定日",
                              "ParameterValue": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=基準回収予定日+1"
                              },
                              "ID": "dfefbc10064c40259694f5eef594d3d3",
                              "Comments": "後営業日"
                            }
                          ],
                          "ID": "e7587ce3-f2a7-424d-a1dc-7c6156526069"
                        }
                      ]
                    }
                  ],
                  "Comments": "土、日以外",
                  "ID": "0fcd381d-66dd-488e-9e55-4d8d1799494c"
                },
                {
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "銀行休業日件数",
                      "TableValue": {
                        "TableName": "m_bank_holiday",
                        "TableValueType": 3,
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "m_bank_holiday",
                            "ColumnName": "holiday"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=基準回収予定日"
                          }
                        }
                      },
                      "ID": "7f24dc0a999844b68dd2abb37246cbe5"
                    },
                    {
                      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                      "ConditionAndCommandPairList": [
                        {
                          "Condition": {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=銀行休業日件数"
                              }
                            },
                            "value": "0",
                            "compareType": 2
                          },
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                              "ConditionAndCommandPairList": [
                                {
                                  "Condition": {
                                    "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                                    "param": {
                                      "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                                      "ParamObject": {
                                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                        "SerializeProperty": "=請求先マスタ.入金営業日"
                                      }
                                    },
                                    "value": "1"
                                  },
                                  "CommandList": [
                                    {
                                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                                      "ParameterName": "基準回収予定日",
                                      "ParameterValue": {
                                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                        "SerializeProperty": "=基準回収予定日-1"
                                      },
                                      "ID": "e223d85b394846f8a4a720c437a173c0",
                                      "Comments": "前営業日"
                                    }
                                  ],
                                  "ID": "3356ee3f-0cf6-4167-b200-352ecd2a2703"
                                },
                                {
                                  "CommandList": [
                                    {
                                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                                      "ParameterName": "基準回収予定日",
                                      "ParameterValue": {
                                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                        "SerializeProperty": "=基準回収予定日+1"
                                      },
                                      "ID": "8d47f9fa2c0f4353a69bf3860e7ecaa9",
                                      "Comments": "後営業日"
                                    }
                                  ],
                                  "ID": "d97aa322-36b0-4ae2-b075-7126905ee9e2"
                                }
                              ]
                            }
                          ],
                          "ID": "4ad391cb-4bf7-4755-bd4a-8842d15bf7c2"
                        },
                        {
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                              "ParameterName": "回収予定日",
                              "ParameterValue": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=基準回収予定日"
                              },
                              "ID": "7a84cd2c26ae4245bd3c9352d0e3472c",
                              "Comments": "回収予定日をセットして繰り返しを終了"
                            },
                            {
                              "$type": "Forguncy.Model.EndLoopCommand, ServerDesignerCommon"
                            }
                          ],
                          "ID": "4f38aeb5-1211-4f22-aa00-4bd7f59cd28f"
                        }
                      ]
                    }
                  ],
                  "ID": "2c24262b-e567-4135-8ab0-a362856e7c80"
                }
              ]
            }
          ],
          "Comments": "回収予定日取得"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "請求年月",
          "ParameterValue": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=TEXT(請求日,\"yyyymm\")"
          },
          "ID": "6a09099adc9449f19eb0418e507e3833"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "最終請求連番",
          "ParameterValue": "0",
          "ID": "66cf1a37427a420f8b098d338b55706f"
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=請求先マスタ.請求書発行単位"
                  }
                },
                "value": "1"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "同一請求件数",
                  "TableValue": {
                    "TableName": "t_sales",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "Condition1": {
                        "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                        "ColumnBindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "billing_comp_id"
                        },
                        "Value": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=P_請求先ID"
                        }
                      },
                      "Condition2": {
                        "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                        "ColumnBindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "billing_date"
                        },
                        "Value": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=請求日"
                        }
                      }
                    }
                  },
                  "ID": "72b2b6a8faaf41b4b5162432c4819f86"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=同一請求件数"
                          }
                        },
                        "value": "0",
                        "compareType": 2
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "請求番号",
                          "TableValue": {
                            "TableName": "t_sales",
                            "OnlyGetValue": true,
                            "TableValueType": 0,
                            "BindingInfos": [
                              {
                                "BindingInfo": {
                                  "TableName": "t_sales",
                                  "ColumnName": "billing_no"
                                },
                                "ColumnName": "billing_no"
                              }
                            ],
                            "SqlCondition": {
                              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                              "Condition1": {
                                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                "ColumnBindingInfo": {
                                  "TableName": "t_sales",
                                  "ColumnName": "billing_comp_id"
                                },
                                "Value": {
                                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                  "SerializeProperty": "=P_請求先ID"
                                }
                              },
                              "Condition2": {
                                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                "ColumnBindingInfo": {
                                  "TableName": "t_sales",
                                  "ColumnName": "billing_date"
                                },
                                "Value": {
                                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                  "SerializeProperty": "=請求日"
                                }
                              }
                            },
                            "TopCount": "1"
                          },
                          "ID": "b7b28bc50b554498b374c376e425f156"
                        }
                      ],
                      "ID": "a3925729-7f92-47e7-9a99-7cd395ccbec0"
                    },
                    {
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "請求連番件数",
                          "TableValue": {
                            "TableName": "t_sales",
                            "TableValueType": 3,
                            "SqlCondition": {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_sales",
                                "ColumnName": "billing_yyyymm"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=請求年月"
                              }
                            }
                          },
                          "ID": "fc229944b6b54421b6e9ca5f3a8715f7"
                        },
                        {
                          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                          "ConditionAndCommandPairList": [
                            {
                              "Condition": {
                                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                                "param": {
                                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                                  "ParamObject": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=請求連番件数"
                                  }
                                },
                                "value": "0",
                                "compareType": 2
                              },
                              "CommandList": [
                                {
                                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                                  "ParameterName": "最終請求連番",
                                  "TableValue": {
                                    "TableName": "t_sales",
                                    "OnlyGetValue": true,
                                    "TableValueType": 0,
                                    "BindingInfos": [
                                      {
                                        "BindingInfo": {
                                          "TableName": "t_sales",
                                          "ColumnName": "billing_serial_number"
                                        },
                                        "ColumnName": "billing_serial_number"
                                      }
                                    ],
                                    "SqlCondition": {
                                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                      "ColumnBindingInfo": {
                                        "TableName": "t_sales",
                                        "ColumnName": "billing_yyyymm"
                                      },
                                      "Value": {
                                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                        "SerializeProperty": "=請求年月"
                                      }
                                    },
                                    "TopCount": "1",
                                    "OrderBySqlCondition": {
                                      "OrderByColumns": [
                                        {
                                          "ColumnBindingInfo": {
                                            "TableName": "t_sales",
                                            "ColumnName": "billing_serial_number"
                                          },
                                          "Order": 1
                                        }
                                      ]
                                    }
                                  },
                                  "ID": "6ae830dff0bb469696c2c79c74a960cf"
                                }
                              ],
                              "ID": "fd1d2385-28f1-464f-9bbd-f13b55387519"
                            }
                          ]
                        }
                      ],
                      "ID": "8171d59c-1414-42b4-9a92-132c035c5114"
                    }
                  ]
                }
              ],
              "ID": "e63c7c89-7210-4690-be83-40c6dff1ee10"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "同一請求件数",
                  "TableValue": {
                    "TableName": "t_sales",
                    "TableValueType": 3,
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "Condition1": {
                        "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                        "Condition1": {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "t_sales",
                            "ColumnName": "billing_comp_id"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=P_請求先ID"
                          }
                        },
                        "Condition2": {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "t_sales",
                            "ColumnName": "billing_date"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=請求日"
                          }
                        }
                      },
                      "Condition2": {
                        "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                        "ColumnBindingInfo": {
                          "TableName": "t_sales",
                          "ColumnName": "object_order_id",
                          "RelationBinding": {
                            "RelatedTable": "t_object_order",
                            "RelatedColumn": "object_order_id",
                            "DisplayColumn": "object_id"
                          }
                        },
                        "Value": {
                          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                          "SerializeProperty": "=物件申込.物件ID"
                        }
                      }
                    }
                  },
                  "ID": "2e0f0b1983744551b19e369c0aa3682e"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "最終請求連番",
                  "ParameterValue": "0",
                  "ID": "8c85f788d3134249bdfebb3582665f87"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=同一請求件数"
                          }
                        },
                        "value": "0",
                        "compareType": 2
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "請求番号",
                          "TableValue": {
                            "TableName": "t_sales",
                            "OnlyGetValue": true,
                            "TableValueType": 0,
                            "BindingInfos": [
                              {
                                "BindingInfo": {
                                  "TableName": "t_sales",
                                  "ColumnName": "billing_no"
                                },
                                "ColumnName": "billing_no"
                              }
                            ],
                            "SqlCondition": {
                              "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                              "Condition1": {
                                "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                                "Condition1": {
                                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                  "ColumnBindingInfo": {
                                    "TableName": "t_sales",
                                    "ColumnName": "billing_comp_id"
                                  },
                                  "Value": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=P_請求先ID"
                                  }
                                },
                                "Condition2": {
                                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                  "ColumnBindingInfo": {
                                    "TableName": "t_sales",
                                    "ColumnName": "billing_date"
                                  },
                                  "Value": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=請求日"
                                  }
                                }
                              },
                              "Condition2": {
                                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                "ColumnBindingInfo": {
                                  "TableName": "t_sales",
                                  "ColumnName": "object_order_id",
                                  "RelationBinding": {
                                    "RelatedTable": "t_object_order",
                                    "RelatedColumn": "object_order_id",
                                    "DisplayColumn": "object_id"
                                  }
                                },
                                "Value": {
                                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                  "SerializeProperty": "=物件申込.物件ID"
                                }
                              }
                            },
                            "TopCount": "1"
                          },
                          "ID": "b31bd3face6b458581188399bb91c71f"
                        }
                      ],
                      "ID": "98d71be7-eef6-45a9-a2f1-059059d12434"
                    },
                    {
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "請求連番件数",
                          "TableValue": {
                            "TableName": "t_sales",
                            "TableValueType": 3,
                            "SqlCondition": {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_sales",
                                "ColumnName": "billing_yyyymm"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=請求年月"
                              }
                            }
                          },
                          "ID": "49e0ad89cd984aae81b35d8ecdc9926a"
                        },
                        {
                          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                          "ConditionAndCommandPairList": [
                            {
                              "Condition": {
                                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                                "param": {
                                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                                  "ParamObject": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=請求連番件数"
                                  }
                                },
                                "value": "0",
                                "compareType": 2
                              },
                              "CommandList": [
                                {
                                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                                  "ParameterName": "最終請求連番",
                                  "TableValue": {
                                    "TableName": "t_sales",
                                    "OnlyGetValue": true,
                                    "TableValueType": 0,
                                    "BindingInfos": [
                                      {
                                        "BindingInfo": {
                                          "TableName": "t_sales",
                                          "ColumnName": "billing_serial_number"
                                        },
                                        "ColumnName": "billing_serial_number"
                                      }
                                    ],
                                    "SqlCondition": {
                                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                      "ColumnBindingInfo": {
                                        "TableName": "t_sales",
                                        "ColumnName": "billing_yyyymm"
                                      },
                                      "Value": {
                                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                        "SerializeProperty": "=請求年月"
                                      }
                                    },
                                    "TopCount": "1",
                                    "OrderBySqlCondition": {
                                      "OrderByColumns": [
                                        {
                                          "ColumnBindingInfo": {
                                            "TableName": "t_sales",
                                            "ColumnName": "billing_serial_number"
                                          },
                                          "Order": 1
                                        }
                                      ]
                                    }
                                  },
                                  "ID": "958b5751663f4beba4557f1ef2d6a1f1"
                                }
                              ],
                              "ID": "c8da3c8b-cb95-437a-8030-557904b251ce"
                            }
                          ]
                        }
                      ],
                      "ID": "9ff53e0d-852a-4625-a5d7-6d57b1793c65"
                    }
                  ]
                }
              ],
              "ID": "ee3c82fa-3b57-4fce-9b43-e0d33e60d1b5"
            }
          ],
          "Comments": "請求番号取得"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "新規請求連番",
          "ParameterValue": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=最終請求連番+1"
          },
          "ID": "d003c2fd214e49ce87633abcc59af59e"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "請求番号",
          "ParameterValue": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=\"MP\"&請求年月&TEXT(新規請求連番,\"000\")"
          },
          "ID": "815baa17d95c42618865782d1dda4644"
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_売上区分"
                  }
                },
                "value": "1"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "税抜金額",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_請求税抜金額"
                  },
                  "ID": "88c92d9372b34a1ba14ce5be88532522"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "消費税額",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=ROUNDDOWN(P_請求税抜金額*最新税率,0)"
                  },
                  "ID": "b994cabe4a324779b160ea5de606a6ae"
                }
              ],
              "ID": "0507815a-c301-4285-99ab-3acd96c6befc"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "税抜金額",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_請求税抜金額*-1"
                  },
                  "ID": "599413ab3b8b4e24a6cfa645cc21921b"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "消費税額",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_消費税額*-1"
                  },
                  "ID": "cc33388905b54a0f80a2a3652c8ab302"
                }
              ],
              "ID": "15e80de6-1fa3-4142-9174-4479013d6d67"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
          "TableName": "t_sales",
          "UpdateType": "add",
          "ShowConfirm": false,
          "ConfirmText": "本当に追加してもよろしいですか？",
          "UpdateValues": [
            {
              "ColumnName": "object_order_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込ID"
              }
            },
            {
              "ColumnName": "object_product_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件商品ID"
              }
            },
            {
              "ColumnName": "sales_date",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=売上日"
              }
            },
            {
              "ColumnName": "sales_type",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_売上区分"
              }
            },
            {
              "ColumnName": "billing_no",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=請求番号"
              }
            },
            {
              "ColumnName": "billing_comp_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_請求先ID"
              }
            },
            {
              "ColumnName": "billing_date",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=請求日"
              }
            },
            {
              "ColumnName": "billing_yyyymm",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=請求年月"
              }
            },
            {
              "ColumnName": "billing_serial_number",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=新規請求連番"
              }
            },
            {
              "ColumnName": "builder_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=物件申込.住宅事業者ID"
              }
            },
            {
              "ColumnName": "builder_name",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=物件申込.住宅事業者名"
              }
            },
            {
              "ColumnName": "object_name",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=物件申込.物件名"
              }
            },
            {
              "ColumnName": "object_address",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=物件申込.物件住所"
              }
            },
            {
              "ColumnName": "billing_product_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_請求商品ID"
              }
            },
            {
              "ColumnName": "billing_product_name",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_請求商品名"
              }
            },
            {
              "ColumnName": "excluding_tax_amount",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=税抜金額"
              }
            },
            {
              "ColumnName": "tax_amount",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=消費税額"
              }
            },
            {
              "ColumnName": "billing_amount",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=税抜金額+消費税額"
              }
            },
            {
              "ColumnName": "tax_rate",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=最新税率"
              }
            },
            {
              "ColumnName": "billing_remarks",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_請求備考"
              }
            },
            {
              "ColumnName": "collect_scheduled_date",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=回収予定日"
              }
            },
            {
              "ColumnName": "purchase_required_flg",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_発注書必要フラグ"
              }
            },
            {
              "ColumnName": "purchase_receipt_date",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_発注書受領日"
              }
            },
            {
              "ColumnName": "cancel_seles_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_取消売上ID"
              }
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_物件商品ID"
                  }
                },
                "value": "%Null%",
                "compareType": 1
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_object_product",
                  "ShowConfirm": false,
                  "ConfirmText": "本当に更新してもよろしいですか？",
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_object_product",
                      "ColumnName": "object_product_id"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_物件商品ID"
                    }
                  },
                  "UpdateValues": [
                    {
                      "ColumnName": "accounting_confirm_date",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_売上日"
                      }
                    },
                    {
                      "ColumnName": "accounting_complete_flg",
                      "Value": "1"
                    },
                    {
                      "ColumnName": "accounting_confirm_user_id",
                      "Value": "%CurrentUser.user_id%"
                    }
                  ]
                }
              ],
              "ID": "41e2e13a-add3-4cf2-9baa-fd1daa9d163e"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
          "ErrorCode": "0",
          "CustomReturns": []
        }
      ]
    }
  ],
  "Name": "請求データ作成処理"
}