{
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.ServerCommands.Models.PostRequestTrigger, ServerDesignerCommon",
      "Permission": {
        "AllowRoles": [
          "FGC_LoginUser"
        ]
      },
      "Parameters": [
        {
          "Name": "P_申込ID"
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "CommandList": [
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "申込情報",
          "TableValue": {
            "TableName": "t_object_order",
            "TableValueType": 1,
            "BindingInfos": [
              {
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "object_id",
                  "RelationBinding": {
                    "RelatedTable": "t_object",
                    "RelatedColumn": "object_id",
                    "DisplayColumn": "物件名"
                  }
                },
                "ColumnName": "物件名"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "object_id",
                  "RelationBinding": {
                    "RelatedTable": "t_object",
                    "RelatedColumn": "object_id",
                    "DisplayColumn": "物件住所"
                  }
                },
                "ColumnName": "物件住所"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "order_type_id",
                  "RelationBinding": {
                    "RelatedTable": "m_order_type",
                    "RelatedColumn": "order_type_id",
                    "DisplayColumn": "warranty_type_id"
                  }
                },
                "ColumnName": "保証書区分ID"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "order_type_id",
                  "RelationBinding": {
                    "RelatedTable": "m_order_type",
                    "RelatedColumn": "order_type_id",
                    "DisplayColumn": "warranty_type_id",
                    "NextRelationBinding": {
                      "RelatedTable": "m_warranty_type",
                      "RelatedColumn": "warranty_type_id",
                      "DisplayColumn": "default_warranty_version_id"
                    }
                  }
                },
                "ColumnName": "既定保証書バージョンID"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "builder_id"
                },
                "ColumnName": "住宅事業者ID"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_order",
                  "ColumnName": "latest_warranty_id"
                },
                "ColumnName": "最新保証ID"
              }
            ],
            "SqlCondition": {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_order",
                "ColumnName": "object_order_id"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込ID"
              }
            }
          },
          "ID": "374238d57eb04832b89e100e92831cba"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "顧客既定",
          "TableValue": {
            "TableName": "m_customer_default",
            "TableValueType": 1,
            "BindingInfos": [
              {
                "BindingInfo": {
                  "TableName": "m_customer_default",
                  "ColumnName": "warranty_period"
                },
                "ColumnName": "既定保証期間"
              },
              {
                "BindingInfo": {
                  "TableName": "m_customer_default",
                  "ColumnName": "warranty_mailing_flg"
                },
                "ColumnName": "保証書原本郵送フラグ"
              }
            ],
            "SqlCondition": {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "m_customer_default",
                "ColumnName": "customer_id"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=申込情報.住宅事業者ID"
              }
            }
          },
          "ID": "4bb79d1c245b43c993b72333965b3e60"
        },
        {
          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
          "ParameterName": "保証情報",
          "TableValue": {
            "TableName": "t_object_warranty",
            "TableValueType": 1,
            "BindingInfos": [
              {
                "BindingInfo": {
                  "TableName": "t_object_warranty",
                  "ColumnName": "warannty_issue_type"
                },
                "ColumnName": "保証書発行区分"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_warranty",
                  "ColumnName": "warranty_type_id"
                },
                "ColumnName": "保証書区分ID"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_warranty",
                  "ColumnName": "warranty_version_id"
                },
                "ColumnName": "保証書バージョンID"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_warranty",
                  "ColumnName": "warranty_object_name"
                },
                "ColumnName": "保証物件名"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_warranty",
                  "ColumnName": "warranty_object_address"
                },
                "ColumnName": "保証物件住所"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_warranty",
                  "ColumnName": "warranty_period"
                },
                "ColumnName": "保証期間"
              },
              {
                "BindingInfo": {
                  "TableName": "t_object_warranty",
                  "ColumnName": "warranty_mailing_flg"
                },
                "ColumnName": "原本郵送フラグ"
              }
            ],
            "SqlCondition": {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_warranty",
                "ColumnName": "warranty_id"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=申込情報.最新保証ID"
              }
            }
          },
          "ID": "f04f4b413a5b4b76890288267b2a8d75"
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証書発行区分"
                  }
                },
                "value": "%Null%"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証書発行区分",
                  "ParameterValue": "1",
                  "ID": "36e5dd2816584ebfb32d00537928cec5"
                }
              ],
              "ID": "cdbfc37e-78c7-48ea-aaaf-6d36133e148b"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証書発行区分",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証書発行区分"
                  },
                  "ID": "14ba2ab184d1475e9eb578d1fe434ad7"
                }
              ],
              "ID": "3d37e474-f24b-4462-bc69-c2cdc869dd39"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証書区分ID"
                  }
                },
                "value": "%Null%"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証書区分ID",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.保証書区分ID"
                  },
                  "ID": "dbd8629bbe124f358207fc34e296989f"
                }
              ],
              "ID": "69ac32dd-b3db-48d8-9196-efea11d84de9"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証書区分ID",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証書区分ID"
                  },
                  "ID": "50a09a725c7840b6aefd04cadb5261bb"
                }
              ],
              "ID": "ad85c3f6-185e-4f89-90f9-3d3f1dc53f4c"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証書バージョンID"
                  }
                },
                "value": "%Null%"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証書バージョンID",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.既定保証書バージョンID"
                  },
                  "ID": "cf954a53763a43b9b92c29ccea8ff33e"
                }
              ],
              "ID": "5862b724-e14e-403f-a42c-2d0ec2980583"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証書バージョンID",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証書バージョンID"
                  },
                  "ID": "47048fa3cf8b4db981b75de818f0e4cd"
                }
              ],
              "ID": "c437252e-576e-4de6-89d3-cc302a715d03"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証物件名"
                  }
                },
                "value": "%Null%"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証書物件名",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.物件名"
                  },
                  "ID": "f8968962d65b4f48bff6d1735d6e2e9a"
                }
              ],
              "ID": "d24591de-3ea3-46d2-9d88-46d145ae3dbd"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証書物件名",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証物件名"
                  },
                  "ID": "3ae201ed5286400db8b644d3db966a9f"
                }
              ],
              "ID": "48a812e1-2b06-466f-a102-54fb180790f3"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証物件住所"
                  }
                },
                "value": "%Null%"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証書物件住所",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.物件住所"
                  },
                  "ID": "53e9d7e2dcb6492e8781f6221c73b6fb"
                }
              ],
              "ID": "c8dd8e85-f4c5-4a07-b3c6-5166eb94f702"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証書物件住所",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証物件住所"
                  },
                  "ID": "dec6a82bf1d243bab7805f753a8ca4af"
                }
              ],
              "ID": "779bb451-79c8-4d30-b003-d10fe0e06aae"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証期間"
                  }
                },
                "value": "%Null%"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証期間",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=顧客既定.既定保証期間"
                  },
                  "ID": "fb198baba98f4f3f97c116476cc824a5"
                }
              ],
              "ID": "46746d27-df2d-4893-b8e9-bcdee68a5e12"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "保証期間",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.保証期間"
                  },
                  "ID": "9ac16adc3d4540509124620ae0852d8b"
                }
              ],
              "ID": "d1926bad-8499-4573-8089-7206e2ba3da9"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.原本郵送フラグ"
                  }
                },
                "value": "%Null%"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "原本郵送フラグ",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=顧客既定.保証書原本郵送フラグ"
                  },
                  "ID": "8851a13f70bb4cf183c8442a36811a66"
                }
              ],
              "ID": "27debb85-83b8-4848-830e-84bde4e615f8"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "原本郵送フラグ",
                  "ParameterValue": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=保証情報.原本郵送フラグ"
                  },
                  "ID": "f0e4aba0a54d4d8e85aecf827edbff6c"
                }
              ],
              "ID": "dbe47042-c672-49bc-89c6-dbb3e1918696"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
          "TableName": "t_object_warranty",
          "ShowConfirm": false,
          "ConfirmText": "本当に更新してもよろしいですか？",
          "RowsToUpdate": 1,
          "RowsToUpdateCondition": {
            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
            "ColumnBindingInfo": {
              "TableName": "t_object_warranty",
              "ColumnName": "warranty_id"
            },
            "Value": {
              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
              "SerializeProperty": "=申込情報.最新保証ID"
            }
          },
          "UpdateValues": [
            {
              "ColumnName": "warannty_issue_type",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証書発行区分"
              }
            },
            {
              "ColumnName": "warranty_type_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証書区分ID"
              }
            },
            {
              "ColumnName": "warranty_version_id",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証書バージョンID"
              }
            },
            {
              "ColumnName": "warranty_object_name",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証書物件名"
              }
            },
            {
              "ColumnName": "warranty_object_address",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証書物件住所"
              }
            },
            {
              "ColumnName": "warranty_period",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証期間"
              }
            },
            {
              "ColumnName": "warranty_mailing_flg",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=原本郵送フラグ"
              }
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
          "ErrorCode": "0",
          "CustomReturns": [
            {
              "ReturnPropertyName": "R_保証書発行区分",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証書発行区分"
              }
            },
            {
              "ReturnPropertyName": "R_保証書区分ID",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証書区分ID"
              }
            },
            {
              "ReturnPropertyName": "R_保証書バージョンID",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証書バージョンID"
              }
            },
            {
              "ReturnPropertyName": "R_保証書物件名",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証書物件名"
              }
            },
            {
              "ReturnPropertyName": "R_保証書物件住所",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証書物件住所"
              }
            },
            {
              "ReturnPropertyName": "R_保証期間",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=保証期間"
              }
            },
            {
              "ReturnPropertyName": "R_原本郵送フラグ",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=原本郵送フラグ"
              }
            }
          ]
        }
      ]
    }
  ],
  "ReturnProperties": [
    {
      "Name": "R_保証書発行区分"
    },
    {
      "Name": "R_保証書区分ID"
    },
    {
      "Name": "R_保証書バージョンID"
    },
    {
      "Name": "R_保証書物件名"
    },
    {
      "Name": "R_保証書物件住所"
    },
    {
      "Name": "R_保証期間"
    },
    {
      "Name": "R_原本郵送フラグ"
    }
  ],
  "Name": "保証データセット処理"
}