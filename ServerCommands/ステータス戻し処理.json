{
  "Name": "ステータス戻し処理",
  "Description": "申込ステータスを変更前のステータスに戻します",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_申込ID",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "申込情報",
      "TableValue": {
        "TableName": "t_object_order",
        "TableValueType": 1,
        "BindingInfos": [
          {
            "GUID": "dff558ee-0ae0-4a2c-9dc3-7697b0474ab4",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_survey_id",
              "GUID": "564966f2-0e45-4b85-b53b-2a6ac8571a1a"
            },
            "ColumnName": "最新調査ID"
          },
          {
            "GUID": "13cc5d59-5591-4aed-a4cf-79e79bd0748f",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_survey_id",
              "GUID": "27495233-3f03-423d-823d-9025c3695cac",
              "RelationBinding": {
                "RelatedTable": "t_object_survey",
                "RelatedColumn": "survey_id",
                "DisplayColumn": "before_survey_status_id"
              }
            },
            "ColumnName": "変更前調査ステータスID"
          },
          {
            "GUID": "acdcebfd-8ca3-41a1-9f15-dfda2c6c2964",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_survey_id",
              "GUID": "a04ff9ce-5eef-4ebc-8fa5-10e97ae16166",
              "RelationBinding": {
                "RelatedTable": "t_object_survey",
                "RelatedColumn": "survey_id",
                "DisplayColumn": "before_survey_status_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_survey_status",
                  "RelatedColumn": "survey_status_id",
                  "DisplayColumn": "confirm_flg"
                }
              }
            },
            "ColumnName": "変更前調査完了フラグ"
          },
          {
            "GUID": "4cc96478-9cd2-47d3-ad0e-635cf1f33870",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_surveying_id",
              "GUID": "5780d529-76d3-4cf2-8f06-6aaab6b3eecd"
            },
            "ColumnName": "最新測量ID"
          },
          {
            "GUID": "a69301ac-6aae-4725-8b6a-16cfeaaa050e",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_surveying_id",
              "GUID": "302d1c3c-2356-4bc9-97b5-9c7fb2217ae8",
              "RelationBinding": {
                "RelatedTable": "t_object_surveying",
                "RelatedColumn": "surveying_id",
                "DisplayColumn": "before_surveying_status_id"
              }
            },
            "ColumnName": "変更前測量ステータスID"
          },
          {
            "GUID": "ff08227f-a74f-4eb6-82ad-99c21aba70e7",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_surveying_id",
              "GUID": "2d7f9261-1eb8-4449-81b6-4f58722eaa2b",
              "RelationBinding": {
                "RelatedTable": "t_object_surveying",
                "RelatedColumn": "surveying_id",
                "DisplayColumn": "before_surveying_status_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_surveying_status",
                  "RelatedColumn": "surveying_status_id",
                  "DisplayColumn": "complete_flg"
                }
              }
            },
            "ColumnName": "変更前測量完了フラグ"
          },
          {
            "GUID": "270a302c-1ebf-4c08-ac62-af46d8abb1c0",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_analysis_id",
              "GUID": "e9cd0371-50bb-47be-9cce-df78a9947f6e"
            },
            "ColumnName": "最新解析ID"
          },
          {
            "GUID": "e52e2d87-8e59-496f-857b-a73b90f78b03",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_analysis_id",
              "GUID": "80224c38-3d8d-498a-9623-9d218b2d99d0",
              "RelationBinding": {
                "RelatedTable": "t_object_analysis",
                "RelatedColumn": "analysis_id",
                "DisplayColumn": "before_analysis_status_id"
              }
            },
            "ColumnName": "変更前解析ステータスID"
          },
          {
            "GUID": "7f4dd140-1c79-4572-9259-4de3c2c66005",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_analysis_id",
              "GUID": "44dc967a-47a5-474a-bcb6-8c53c6a33c4e",
              "RelationBinding": {
                "RelatedTable": "t_object_analysis",
                "RelatedColumn": "analysis_id",
                "DisplayColumn": "before_analysis_status_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_analysis_status",
                  "RelatedColumn": "analysis_status_id",
                  "DisplayColumn": "confirm_flg"
                }
              }
            },
            "ColumnName": "変更前解析完了フラグ"
          },
          {
            "GUID": "842957f2-00aa-4d9a-a7d3-fa3c068348b3",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_compaction_id",
              "GUID": "0c844592-a1b5-4222-be55-a3421756193f"
            },
            "ColumnName": "最新転圧ID"
          },
          {
            "GUID": "90c88386-6244-4d6c-9c3e-1c2d1d65a47f",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_compaction_id",
              "GUID": "b93d58c2-f9c1-44a0-9939-d4272b5fc646",
              "RelationBinding": {
                "RelatedTable": "t_object_compaction",
                "RelatedColumn": "compaction_id",
                "DisplayColumn": "before_compaction_status_id"
              }
            },
            "ColumnName": "変更前転圧ステータスID"
          },
          {
            "GUID": "62c13b98-a144-429c-ab5e-29aafe241303",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_compaction_id",
              "GUID": "51636bb6-f519-411c-bc3a-8f76b8a984eb",
              "RelationBinding": {
                "RelatedTable": "t_object_compaction",
                "RelatedColumn": "compaction_id",
                "DisplayColumn": "before_compaction_status_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_compaction_status",
                  "RelatedColumn": "compaction_status_id",
                  "DisplayColumn": "complete_flg"
                }
              }
            },
            "ColumnName": "変更前転圧完了フラグ"
          },
          {
            "GUID": "0ffbeade-52b2-46df-a58f-85f528feb591",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_construction_id",
              "GUID": "b9920d83-2441-44de-adf6-2e8c87a8efac"
            },
            "ColumnName": "最新工事ID"
          },
          {
            "GUID": "b1965923-8028-4976-96ca-40f493019aed",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_construction_id",
              "GUID": "7acaae7f-f0c9-4931-b09a-653d7b3cab9f",
              "RelationBinding": {
                "RelatedTable": "t_object_construction",
                "RelatedColumn": "construction_id",
                "DisplayColumn": "before_construction_status_id"
              }
            },
            "ColumnName": "変更前工事ステータスID"
          },
          {
            "GUID": "3ac0f43f-7aa5-4e56-a3a8-6c10f5a03759",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_construction_id",
              "GUID": "345b45fc-1fde-4dd8-a0e2-526565a7ede5",
              "RelationBinding": {
                "RelatedTable": "t_object_construction",
                "RelatedColumn": "construction_id",
                "DisplayColumn": "before_construction_status_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_construction_status",
                  "RelatedColumn": "construction_status_id",
                  "DisplayColumn": "complete_flg"
                }
              }
            },
            "ColumnName": "変更前工事完了フラグ"
          },
          {
            "GUID": "916264f4-8d5a-4a4e-8298-b74095ccfe68",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_warranty_id",
              "GUID": "5079e1f2-bfa3-4984-990f-5a95593d8ce2"
            },
            "ColumnName": "最新保証ID"
          },
          {
            "GUID": "009b5ec3-1b55-4364-a8d6-59a7b6976e01",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_warranty_id",
              "GUID": "d0dd44d2-c5ee-4719-b42e-e4e344939a51",
              "RelationBinding": {
                "RelatedTable": "t_object_warranty",
                "RelatedColumn": "warranty_id",
                "DisplayColumn": "before_warranty_status_id"
              }
            },
            "ColumnName": "変更前保証ステータスID"
          },
          {
            "GUID": "f2225fdd-c1c4-469c-b87e-ba32c9055903",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_warranty_id",
              "GUID": "0fad1035-fd56-4e52-82bd-107964d56427",
              "RelationBinding": {
                "RelatedTable": "t_object_warranty",
                "RelatedColumn": "warranty_id",
                "DisplayColumn": "before_warranty_status_id",
                "NextRelationBinding": {
                  "RelatedTable": "m_warranty_status",
                  "RelatedColumn": "warranty_status_id",
                  "DisplayColumn": "complete_flg"
                }
              }
            },
            "ColumnName": "変更前保証完了フラグ"
          },
          {
            "GUID": "823354fb-f2ac-4972-8383-aff866042c62",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_external_id",
              "GUID": "358dd418-4ec7-4988-a127-e1cde11ed7bc"
            },
            "ColumnName": "最新外販ID"
          },
          {
            "GUID": "1164d769-c576-45a0-ab3a-5d78bb6afdda",
            "BindingInfo": {
              "TableName": "t_object_order",
              "ColumnName": "latest_external_id",
              "GUID": "ebfd0770-ff29-4855-b948-8b02b63b3f25",
              "RelationBinding": {
                "RelatedTable": "t_object_external",
                "RelatedColumn": "external_id",
                "DisplayColumn": "before_external_status_id"
              }
            },
            "ColumnName": "変更前外販ステータスID"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
          "ColumnBindingInfo": {
            "TableName": "t_object_order",
            "ColumnName": "object_order_id",
            "GUID": "f7d39159-93bb-4e2d-9b6b-260429fb6768"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_申込ID"
          }
        }
      },
      "ID": "cec430bd0aa44184a92be8874e2f2c2b"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=申込情報.変更前調査ステータスID"
              }
            },
            "value": "%Null%",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
              "TableName": "t_object_survey",
              "ShowConfirm": false,
              "RowsToUpdate": 1,
              "RowsToUpdateCondition": {
                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                "ColumnBindingInfo": {
                  "TableName": "t_object_survey",
                  "ColumnName": "survey_id",
                  "GUID": "df290675-015b-495f-88aa-d7cfa3d73856"
                },
                "Value": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=申込情報.最新調査ID"
                }
              },
              "UpdateBindingValues": [
                {
                  "BindingInfo": {
                    "TableName": "t_object_survey",
                    "ColumnName": "survey_status_id",
                    "GUID": "2358acae-eded-4777-b396-1e2501108393"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前調査ステータスID"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_survey",
                    "ColumnName": "survey_complete_flg",
                    "GUID": "cd0f1eb5-2760-4800-9063-ffb15600a70c"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前調査完了フラグ"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_survey",
                    "ColumnName": "before_survey_status_id",
                    "GUID": "d5304690-7003-48ff-8766-558bfddec7a3"
                  }
                }
              ]
            }
          ],
          "ID": "94ab0f50-500b-4072-831f-fbd93d219b3e"
        }
      ],
      "Comments": "調査レコード更新"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=申込情報.変更前測量ステータスID"
              }
            },
            "value": "%Null%",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
              "TableName": "t_object_surveying",
              "ShowConfirm": false,
              "RowsToUpdate": 1,
              "RowsToUpdateCondition": {
                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                "ColumnBindingInfo": {
                  "TableName": "t_object_surveying",
                  "ColumnName": "surveying_id",
                  "GUID": "1ebc1621-afdb-4a19-a41b-b2a354b555e2"
                },
                "Value": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=申込情報.最新測量ID"
                }
              },
              "UpdateBindingValues": [
                {
                  "BindingInfo": {
                    "TableName": "t_object_surveying",
                    "ColumnName": "surveying_status_id",
                    "GUID": "4d3095f2-e7d0-4b46-bab2-2a3ea984017a"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前測量ステータスID"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_surveying",
                    "ColumnName": "surveying_complete_flg",
                    "GUID": "09fd25ea-5f47-4daf-816d-faea0229dc56"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前測量完了フラグ"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_surveying",
                    "ColumnName": "before_surveying_status_id",
                    "GUID": "83e700e3-4379-4040-a9c3-debe77d15793"
                  }
                }
              ]
            }
          ],
          "ID": "019d840c-c729-4dc4-a5b1-2e8d959dbdda"
        }
      ],
      "Comments": "測量レコード更新"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=申込情報.変更前解析ステータスID"
              }
            },
            "value": "%Null%",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
              "TableName": "t_object_analysis",
              "ShowConfirm": false,
              "RowsToUpdate": 1,
              "RowsToUpdateCondition": {
                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                "ColumnBindingInfo": {
                  "TableName": "t_object_analysis",
                  "ColumnName": "analysis_id",
                  "GUID": "6170f307-1742-48ef-a77f-064ff6c27750"
                },
                "Value": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=申込情報.最新解析ID"
                }
              },
              "UpdateBindingValues": [
                {
                  "BindingInfo": {
                    "TableName": "t_object_analysis",
                    "ColumnName": "analysis_status_id",
                    "GUID": "bec690e0-7db2-49ad-b22d-a3b54060beea"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前解析ステータスID"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_analysis",
                    "ColumnName": "analysis_done_flg",
                    "GUID": "572cf428-a66a-4d8c-9f76-bdbab4b61be0"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前解析完了フラグ"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_analysis",
                    "ColumnName": "before_analysis_status_id",
                    "GUID": "a4a7d4d4-b505-4993-98c8-8612187225d5"
                  }
                }
              ]
            }
          ],
          "ID": "f555f6cc-d65c-400b-8137-0f11f05cef18"
        }
      ],
      "Comments": "解析レコード更新"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=申込情報.変更前転圧ステータスID"
              }
            },
            "value": "%Null%",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
              "TableName": "t_object_compaction",
              "ShowConfirm": false,
              "RowsToUpdate": 1,
              "RowsToUpdateCondition": {
                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                "ColumnBindingInfo": {
                  "TableName": "t_object_compaction",
                  "ColumnName": "compaction_id",
                  "GUID": "e25c5406-95d7-45c1-819b-2171a5bee311"
                },
                "Value": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=申込情報.最新転圧ID"
                }
              },
              "UpdateBindingValues": [
                {
                  "BindingInfo": {
                    "TableName": "t_object_compaction",
                    "ColumnName": "compaction_status_id",
                    "GUID": "1adcc995-5849-4133-8514-6390873acd1e"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前転圧ステータスID"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_compaction",
                    "ColumnName": "compaction_complete_flg",
                    "GUID": "c6e87b95-5a48-4775-a772-db290820dc80"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前転圧完了フラグ"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_compaction",
                    "ColumnName": "before_compaction_status_id",
                    "GUID": "4afddfe6-115f-403a-9106-6ace78680dff"
                  }
                }
              ]
            }
          ],
          "ID": "d6cc7fb2-482e-48cd-b6db-1477f3e9f0c7"
        }
      ],
      "Comments": "転圧レコード更新"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "工事見積情報",
      "TableValue": {
        "TableName": "t_object_construction_estimate",
        "BindingInfos": [
          {
            "GUID": "79f0e3ba-0dcc-480b-94e1-6fe457ea09c2",
            "BindingInfo": {
              "TableName": "t_object_construction_estimate",
              "ColumnName": "construction_estimate_id",
              "GUID": "ebd1c320-6e90-43f1-bcac-aef609ef9fa3"
            },
            "ColumnName": "工事見積ID"
          },
          {
            "GUID": "9da2631c-a46c-46b8-b816-0c1bf05528b4",
            "BindingInfo": {
              "TableName": "t_object_construction_estimate",
              "ColumnName": "before_construction_estimate_status_id",
              "GUID": "b0c407ec-3d8b-4b5c-8d64-b9abdd2cc2d3"
            },
            "ColumnName": "変更前工事見積ステータスID"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
          "SubConditions": [
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "ColumnBindingInfo": {
                "TableName": "t_object_construction_estimate",
                "ColumnName": "object_order_id",
                "GUID": "8ca05eb8-a353-4a00-a3f3-34ebac89eaba"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_申込ID"
              }
            },
            {
              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
              "CompareType": 1,
              "ColumnBindingInfo": {
                "TableName": "t_object_construction_estimate",
                "ColumnName": "before_construction_estimate_status_id",
                "GUID": "573904e1-55b1-4cb7-a67d-a722e9ed9aa6"
              },
              "Value": "%Null%"
            }
          ]
        }
      },
      "ID": "2729a86159b5404584407a3779246fa3"
    },
    {
      "$type": "Forguncy.Model.LoopCommand, ServerDesignerCommon",
      "LoopInfo": {
        "$type": "Forguncy.Model.CountLoopInfo, ServerDesignerCommon",
        "LoopCount": {
          "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
          "SerializeProperty": "=工事見積情報"
        },
        "LoopItemParamName": "Item"
      },
      "CommandList": [
        {
          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
          "TableName": "t_object_construction_estimate",
          "ShowConfirm": false,
          "RowsToUpdate": 1,
          "RowsToUpdateCondition": {
            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
            "ColumnBindingInfo": {
              "TableName": "t_object_construction_estimate",
              "ColumnName": "construction_estimate_id",
              "GUID": "971be895-adc4-47ce-8c69-18cd46c90c4c"
            },
            "Value": {
              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
              "SerializeProperty": "=Item.工事見積ID"
            }
          },
          "UpdateBindingValues": [
            {
              "BindingInfo": {
                "TableName": "t_object_construction_estimate",
                "ColumnName": "construction_estimate_status_id",
                "GUID": "f3b48b5f-8cfa-438c-bc39-c0025e3ec5eb"
              },
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=Item.変更前工事見積ステータスID"
              }
            },
            {
              "BindingInfo": {
                "TableName": "t_object_construction_estimate",
                "ColumnName": "before_construction_estimate_status_id",
                "GUID": "0073fcf5-f33d-4e19-a9da-a30d6cd687c0"
              }
            }
          ]
        }
      ]
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=申込情報.変更前工事ステータスID"
              }
            },
            "value": "%Null%",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
              "TableName": "t_object_construction",
              "ShowConfirm": false,
              "RowsToUpdate": 1,
              "RowsToUpdateCondition": {
                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                "ColumnBindingInfo": {
                  "TableName": "t_object_construction",
                  "ColumnName": "construction_id",
                  "GUID": "b472c339-dded-49d5-b3e5-f67970594b2c"
                },
                "Value": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=申込情報.最新工事ID"
                }
              },
              "UpdateBindingValues": [
                {
                  "BindingInfo": {
                    "TableName": "t_object_construction",
                    "ColumnName": "construction_status_id",
                    "GUID": "8c74aec1-7eaf-47ef-bceb-32b6551b059f"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前工事ステータスID"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_construction",
                    "ColumnName": "construction_complete_flg",
                    "GUID": "3fcb9f0a-f45a-4b93-a12d-a6e436d7321c"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前工事完了フラグ"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_construction",
                    "ColumnName": "before_construction_status_id",
                    "GUID": "0e76ae92-cecb-40bc-bfd2-b1ef5666ed57"
                  }
                }
              ]
            }
          ],
          "ID": "efa5ccfa-fe37-4939-a044-7c06a83bcca9"
        }
      ],
      "Comments": "工事レコード更新"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=申込情報.変更前保証ステータスID"
              }
            },
            "value": "%Null%",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
              "TableName": "t_object_warranty",
              "ShowConfirm": false,
              "RowsToUpdate": 1,
              "RowsToUpdateCondition": {
                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                "ColumnBindingInfo": {
                  "TableName": "t_object_warranty",
                  "ColumnName": "warranty_id",
                  "GUID": "1d773cfe-cde1-44ac-8ef4-b943f5981660"
                },
                "Value": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=申込情報.最新保証ID"
                }
              },
              "UpdateBindingValues": [
                {
                  "BindingInfo": {
                    "TableName": "t_object_warranty",
                    "ColumnName": "warranty_status_id",
                    "GUID": "8cb24ede-3673-42e7-b0e6-9ef0ae15f011"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前保証ステータスID"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_warranty",
                    "ColumnName": "warranty_complete_flg",
                    "GUID": "95173f89-e8b4-4f69-95ce-8919d5e9af99"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前保証完了フラグ"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_warranty",
                    "ColumnName": "before_warranty_status_id",
                    "GUID": "505b650f-309a-4548-99ee-55fd7e6b8b28"
                  }
                }
              ]
            }
          ],
          "ID": "f5859fd5-6ea8-4380-be5f-b1b960ddd88f"
        }
      ],
      "Comments": "保証レコード更新"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=申込情報.変更前外販ステータスID"
              }
            },
            "value": "%Null%",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
              "TableName": "t_object_external",
              "ShowConfirm": false,
              "RowsToUpdate": 1,
              "RowsToUpdateCondition": {
                "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                "ColumnBindingInfo": {
                  "TableName": "t_object_external",
                  "ColumnName": "external_id",
                  "GUID": "55e4c6f2-1496-426a-9060-974de2a84870"
                },
                "Value": {
                  "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                  "SerializeProperty": "=申込情報.最新外販ID"
                }
              },
              "UpdateBindingValues": [
                {
                  "BindingInfo": {
                    "TableName": "t_object_external",
                    "ColumnName": "external_status_id",
                    "GUID": "41b56d4e-7664-4728-aa0a-0aac790487b9"
                  },
                  "Value": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=申込情報.変更前外販ステータスID"
                  }
                },
                {
                  "BindingInfo": {
                    "TableName": "t_object_external",
                    "ColumnName": "before_external_status_id",
                    "GUID": "3f9bb34b-797a-4445-9c36-05a56eaec49e"
                  }
                }
              ]
            }
          ],
          "ID": "69d22c52-fa35-4bac-bf07-57feb3bc82cb"
        }
      ],
      "Comments": "外販レコード更新"
    },
    {
      "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
      "ServerCommandName": "最新申込ステータス更新処理",
      "Parameters": [
        {
          "$type": "Forguncy.Model.RequestServerCommandObjectParam, ServerDesignerCommon",
          "ParamName": "P_申込ID",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_申込ID"
          }
        }
      ],
      "ResultErrorCodeTo": {
        "SerializeProperty": "リターンコード"
      },
      "ResultMessageTo": {
        "SerializeProperty": "リターンメッセージ"
      },
      "ReturnPropertiesTo": [
        {
          "ResultPropertyName": "R_申込ステータス更新フラグ"
        },
        {
          "ResultPropertyName": "R_更新済み申込ステータスID"
        }
      ],
      "RefreshAfterFinish": true,
      "CheckDataValidation": true
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=リターンコード"
              }
            },
            "value": "0",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
              "ErrorCode": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=リターンコード"
              },
              "Message": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=リターンメッセージ"
              }
            }
          ],
          "ID": "255610e5-20f5-4b4a-82c9-a6794ce1908c"
        }
      ]
    }
  ]
}