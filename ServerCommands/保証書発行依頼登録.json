{
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.ServerCommands.Models.PostRequestTrigger, ServerDesignerCommon",
      "Permission": {
        "AllowRoles": [
          "FGC_LoginUser"
        ]
      },
      "Parameters": [
        {
          "Name": "P_保証依頼ID"
        },
        {
          "Name": "P_申込ID"
        },
        {
          "Name": "P_保証書発行区分"
        },
        {
          "Name": "P_保証書区分"
        },
        {
          "Name": "P_保証物件名"
        },
        {
          "Name": "P_保証物件住所"
        },
        {
          "Name": "P_保証開始日"
        },
        {
          "Name": "P_保証期間"
        },
        {
          "Name": "P_原本郵送フラグ"
        },
        {
          "Name": "P_保証依頼連絡事項"
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ServerTransactionCommand, ServerDesignerCommon",
      "CommandList": [
        {
          "$type": "Forguncy.Model.RequestServerCommand, ServerDesignerCommon",
          "ServerCommandName": "登録更新ラベル取得",
          "ReturnPropertiesTo": [
            {
              "ResultPropertyName": "R_ラベル名",
              "ResultTo": {
                "SerializeProperty": "最終更新ラベル"
              }
            }
          ],
          "RefreshAfterFinish": true,
          "CheckDataValidation": true
        },
        {
          "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
          "ConditionAndCommandPairList": [
            {
              "Condition": {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                  "ParamObject": {
                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                    "SerializeProperty": "=P_保証依頼ID"
                  }
                },
                "value": "%Null%"
              },
              "CommandList": [
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_warranty_request",
                  "UpdateType": "add",
                  "ShowConfirm": false,
                  "ConfirmText": "本当に追加してもよろしいですか？",
                  "UpdateValues": [
                    {
                      "ColumnName": "warannty_issue_type",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証書発行区分"
                      }
                    },
                    {
                      "ColumnName": "warranty_type_id",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証書区分"
                      }
                    },
                    {
                      "ColumnName": "warranty_object_name",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証物件名"
                      }
                    },
                    {
                      "ColumnName": "warranty_object_address",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証物件住所"
                      }
                    },
                    {
                      "ColumnName": "warranty_start_date",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証開始日"
                      }
                    },
                    {
                      "ColumnName": "warranty_period",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証期間"
                      }
                    },
                    {
                      "ColumnName": "warranty_mailing_flg",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_原本郵送フラグ"
                      }
                    },
                    {
                      "ColumnName": "warranty_request_announcement",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証依頼連絡事項"
                      }
                    },
                    {
                      "ColumnName": "warranty_requesrt_user_id",
                      "Value": "%CurrentUser.user_id%"
                    },
                    {
                      "ColumnName": "warranty_request_dte",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=TODAY()"
                      }
                    },
                    {
                      "ColumnName": "object_order_id",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "ColumnName": "warranty_request_label",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=最終更新ラベル"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New保証依頼"
                },
                {
                  "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                  "ParameterName": "申込情報",
                  "TableValue": {
                    "TableName": "t_object_order",
                    "TableValueType": 1,
                    "BindingInfos": [
                      {
                        "BindingInfo": {
                          "TableName": "t_object_order",
                          "ColumnName": "latest_warranty_id"
                        },
                        "ColumnName": "最新保証ID"
                      },
                      {
                        "BindingInfo": {
                          "TableName": "t_object_order",
                          "ColumnName": "latest_warranty_id",
                          "RelationBinding": {
                            "RelatedTable": "t_object_warranty",
                            "RelatedColumn": "warranty_id",
                            "DisplayColumn": "warranty_status_id"
                          }
                        },
                        "ColumnName": "現在保証ステータスID"
                      },
                      {
                        "BindingInfo": {
                          "TableName": "t_object_order",
                          "ColumnName": "order_status_id",
                          "RelationBinding": {
                            "RelatedTable": "m_order_status",
                            "RelatedColumn": "order_status_id",
                            "DisplayColumn": "mailing_request_wait_flg"
                          }
                        },
                        "ColumnName": "保証書郵送依頼待ちフラグ"
                      },
                      {
                        "BindingInfo": {
                          "TableName": "t_object_order",
                          "ColumnName": "order_status_id",
                          "RelationBinding": {
                            "RelatedTable": "m_order_status",
                            "RelatedColumn": "order_status_id",
                            "DisplayColumn": "warranty_confirm_flg"
                          }
                        },
                        "ColumnName": "保証確認中フラグ"
                      },
                      {
                        "BindingInfo": {
                          "TableName": "t_object_order",
                          "ColumnName": "order_status_id",
                          "RelationBinding": {
                            "RelatedTable": "m_order_status",
                            "RelatedColumn": "order_status_id",
                            "DisplayColumn": "warranty_done_flg"
                          }
                        },
                        "ColumnName": "保証書発行済フラグ"
                      },
                      {
                        "BindingInfo": {
                          "TableName": "t_object_order",
                          "ColumnName": "latest_warranty_id",
                          "RelationBinding": {
                            "RelatedTable": "t_object_warranty",
                            "RelatedColumn": "warranty_id",
                            "DisplayColumn": "warranty_notices"
                          }
                        },
                        "ColumnName": "特記事項"
                      }
                    ],
                    "SqlCondition": {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_order",
                        "ColumnName": "object_order_id"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    }
                  },
                  "ID": "ca1b86125c4545698e740476abab36c4"
                },
                {
                  "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                  "ConditionAndCommandPairList": [
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.保証書郵送依頼待ちフラグ"
                          }
                        },
                        "value": "1"
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "保証ST",
                          "TableValue": {
                            "TableName": "m_warranty_status",
                            "TableValueType": 1,
                            "BindingInfos": [
                              {
                                "BindingInfo": {
                                  "TableName": "m_warranty_status",
                                  "ColumnName": "warranty_status_id"
                                },
                                "ColumnName": "保証ステータスID"
                              },
                              {
                                "BindingInfo": {
                                  "TableName": "m_warranty_status",
                                  "ColumnName": "order_status_id"
                                },
                                "ColumnName": "申込ステータスID"
                              }
                            ],
                            "SqlCondition": {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "m_warranty_status",
                                "ColumnName": "warranty_mailing_wait_flg"
                              },
                              "Value": "1"
                            }
                          },
                          "ID": "a1f6a044cc554ffa95aa0ffb65816bb7"
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_object_warranty",
                          "ShowConfirm": false,
                          "ConfirmText": "本当に更新してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_object_warranty",
                              "ColumnName": "warranty_id"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=申込情報.最新保証ID"
                            }
                          },
                          "UpdateValues": [
                            {
                              "ColumnName": "warannty_issue_type",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証書発行区分"
                              }
                            },
                            {
                              "ColumnName": "warranty_type_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証書区分"
                              }
                            },
                            {
                              "ColumnName": "warranty_version_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=保証書バージョンID"
                              }
                            },
                            {
                              "ColumnName": "warranty_request_dte",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=TODAY()"
                              }
                            },
                            {
                              "ColumnName": "warranty_requesrt_user_id",
                              "Value": "%CurrentUser.user_id%"
                            },
                            {
                              "ColumnName": "warranty_object_name",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証物件名"
                              }
                            },
                            {
                              "ColumnName": "warranty_object_address",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証物件住所"
                              }
                            },
                            {
                              "ColumnName": "warranty_start_date",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証開始日"
                              }
                            },
                            {
                              "ColumnName": "warranty_period",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証期間"
                              }
                            },
                            {
                              "ColumnName": "warranty_mailing_flg",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_原本郵送フラグ"
                              }
                            },
                            {
                              "ColumnName": "mailing_method_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=IF(P_原本郵送フラグ=1,1,\"\")"
                              }
                            },
                            {
                              "ColumnName": "warranty_status_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=保証ST.保証ステータスID"
                              }
                            },
                            {
                              "ColumnName": "before_warranty_status_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=申込情報.現在保証ステータスID"
                              }
                            },
                            {
                              "ColumnName": "last_updated_label",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=最終更新ラベル"
                              }
                            }
                          ],
                          "ParamNameToSaveNewRowValue": "New保証"
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_object_order",
                          "ShowConfirm": false,
                          "ConfirmText": "本当に更新してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_object_order",
                              "ColumnName": "object_order_id"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=P_申込ID"
                            }
                          },
                          "UpdateValues": [
                            {
                              "ColumnName": "order_status_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=保証ST.申込ステータスID"
                              }
                            }
                          ]
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_warranty_request",
                          "ShowConfirm": false,
                          "ConfirmText": "本当に更新してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_warranty_request",
                              "ColumnName": "warranty_request_id"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=New保証依頼.保証依頼ID"
                            }
                          },
                          "UpdateValues": [
                            {
                              "ColumnName": "warranty_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=申込情報.最新保証ID"
                              }
                            }
                          ]
                        }
                      ],
                      "ID": "27fbc64c-49c2-4d2c-99bb-c429d97df492"
                    },
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.保証確認中フラグ"
                          }
                        },
                        "value": "1"
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "保証ST",
                          "TableValue": {
                            "TableName": "m_warranty_status",
                            "TableValueType": 1,
                            "BindingInfos": [
                              {
                                "BindingInfo": {
                                  "TableName": "m_warranty_status",
                                  "ColumnName": "warranty_status_id"
                                },
                                "ColumnName": "保証ステータスID"
                              },
                              {
                                "BindingInfo": {
                                  "TableName": "m_warranty_status",
                                  "ColumnName": "order_status_id"
                                },
                                "ColumnName": "申込ステータスID"
                              }
                            ],
                            "SqlCondition": {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "m_warranty_status",
                                "ColumnName": "warranty_issue_wait_flg"
                              },
                              "Value": "1"
                            }
                          },
                          "ID": "f68738dce93640cb9b5fc3108237cf03"
                        },
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "保証書バージョンID",
                          "TableValue": {
                            "TableName": "m_warranty_type",
                            "OnlyGetValue": true,
                            "TableValueType": 0,
                            "BindingInfos": [
                              {
                                "BindingInfo": {
                                  "TableName": "m_warranty_type",
                                  "ColumnName": "default_warranty_version_id"
                                },
                                "ColumnName": "default_warranty_version_id"
                              }
                            ],
                            "SqlCondition": {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "m_warranty_type",
                                "ColumnName": "warranty_type_id"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証書区分"
                              }
                            }
                          },
                          "ID": "ff05322253b94d18a1b5ab9dccb3039a"
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_object_warranty",
                          "ShowConfirm": false,
                          "ConfirmText": "本当に更新してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_object_warranty",
                              "ColumnName": "warranty_id"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=申込情報.最新保証ID"
                            }
                          },
                          "UpdateValues": [
                            {
                              "ColumnName": "warannty_issue_type",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証書発行区分"
                              }
                            },
                            {
                              "ColumnName": "warranty_type_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証書区分"
                              }
                            },
                            {
                              "ColumnName": "warranty_version_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=保証書バージョンID"
                              }
                            },
                            {
                              "ColumnName": "warranty_request_dte",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=TODAY()"
                              }
                            },
                            {
                              "ColumnName": "warranty_requesrt_user_id",
                              "Value": "%CurrentUser.user_id%"
                            },
                            {
                              "ColumnName": "warranty_object_name",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証物件名"
                              }
                            },
                            {
                              "ColumnName": "warranty_object_address",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証物件住所"
                              }
                            },
                            {
                              "ColumnName": "warranty_start_date",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証開始日"
                              }
                            },
                            {
                              "ColumnName": "warranty_period",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証期間"
                              }
                            },
                            {
                              "ColumnName": "warranty_mailing_flg",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_原本郵送フラグ"
                              }
                            },
                            {
                              "ColumnName": "mailing_method_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=IF(P_原本郵送フラグ=1,1,\"\")"
                              }
                            },
                            {
                              "ColumnName": "warranty_status_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=保証ST.保証ステータスID"
                              }
                            },
                            {
                              "ColumnName": "before_warranty_status_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=申込情報.現在保証ステータスID"
                              }
                            },
                            {
                              "ColumnName": "last_updated_label",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=最終更新ラベル"
                              }
                            }
                          ],
                          "ParamNameToSaveNewRowValue": "New保証"
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_object_order",
                          "ShowConfirm": false,
                          "ConfirmText": "本当に更新してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_object_order",
                              "ColumnName": "object_order_id"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=P_申込ID"
                            }
                          },
                          "UpdateValues": [
                            {
                              "ColumnName": "order_status_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=保証ST.申込ステータスID"
                              }
                            }
                          ]
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_warranty_request",
                          "ShowConfirm": false,
                          "ConfirmText": "本当に更新してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_warranty_request",
                              "ColumnName": "warranty_request_id"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=New保証依頼.保証依頼ID"
                            }
                          },
                          "UpdateValues": [
                            {
                              "ColumnName": "warranty_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=申込情報.最新保証ID"
                              }
                            }
                          ]
                        }
                      ],
                      "ID": "6cf05311-bed3-4d8e-82db-37bb9916bd03"
                    },
                    {
                      "Condition": {
                        "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                        "param": {
                          "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                          "ParamObject": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=申込情報.保証書発行済フラグ"
                          }
                        },
                        "value": "1"
                      },
                      "CommandList": [
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "保証ST",
                          "TableValue": {
                            "TableName": "m_warranty_status",
                            "TableValueType": 1,
                            "BindingInfos": [
                              {
                                "BindingInfo": {
                                  "TableName": "m_warranty_status",
                                  "ColumnName": "warranty_status_id"
                                },
                                "ColumnName": "保証ステータスID"
                              },
                              {
                                "BindingInfo": {
                                  "TableName": "m_warranty_status",
                                  "ColumnName": "order_status_id"
                                },
                                "ColumnName": "申込ステータスID"
                              }
                            ],
                            "SqlCondition": {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "m_warranty_status",
                                "ColumnName": "warranty_issue_wait_flg"
                              },
                              "Value": "1"
                            }
                          },
                          "ID": "b7c6a8f808d849aaa425bd9b9211e1f2"
                        },
                        {
                          "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                          "ParameterName": "保証書バージョンID",
                          "TableValue": {
                            "TableName": "m_warranty_type",
                            "OnlyGetValue": true,
                            "TableValueType": 0,
                            "BindingInfos": [
                              {
                                "BindingInfo": {
                                  "TableName": "m_warranty_type",
                                  "ColumnName": "default_warranty_version_id"
                                },
                                "ColumnName": "default_warranty_version_id"
                              }
                            ],
                            "SqlCondition": {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "m_warranty_type",
                                "ColumnName": "warranty_type_id"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証書区分"
                              }
                            }
                          },
                          "ID": "f37025a37279404da04e1b0cc523ae74"
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_object_warranty",
                          "UpdateType": "add",
                          "ShowConfirm": false,
                          "ConfirmText": "本当に追加してもよろしいですか？",
                          "UpdateValues": [
                            {
                              "ColumnName": "object_order_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_申込ID"
                              }
                            },
                            {
                              "ColumnName": "warannty_issue_type",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証書発行区分"
                              }
                            },
                            {
                              "ColumnName": "warranty_type_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証書区分"
                              }
                            },
                            {
                              "ColumnName": "warranty_version_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=保証書バージョンID"
                              }
                            },
                            {
                              "ColumnName": "warranty_request_dte",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=TODAY()"
                              }
                            },
                            {
                              "ColumnName": "warranty_requesrt_user_id",
                              "Value": "%CurrentUser.user_id%"
                            },
                            {
                              "ColumnName": "warranty_object_name",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証物件名"
                              }
                            },
                            {
                              "ColumnName": "warranty_object_address",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証物件住所"
                              }
                            },
                            {
                              "ColumnName": "warranty_notices",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=申込情報.特記事項"
                              }
                            },
                            {
                              "ColumnName": "warranty_start_date",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証開始日"
                              }
                            },
                            {
                              "ColumnName": "warranty_period",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_保証期間"
                              }
                            },
                            {
                              "ColumnName": "warranty_mailing_flg",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_原本郵送フラグ"
                              }
                            },
                            {
                              "ColumnName": "mailing_method_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=IF(P_原本郵送フラグ=1,1,\"\")"
                              }
                            },
                            {
                              "ColumnName": "warranty_status_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=保証ST.保証ステータスID"
                              }
                            },
                            {
                              "ColumnName": "last_updated_label",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=最終更新ラベル"
                              }
                            }
                          ],
                          "ParamNameToSaveNewRowValue": "New保証"
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_object_order",
                          "ShowConfirm": false,
                          "ConfirmText": "本当に更新してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_object_order",
                              "ColumnName": "object_order_id"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=P_申込ID"
                            }
                          },
                          "UpdateValues": [
                            {
                              "ColumnName": "latest_warranty_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=New保証.保証ID"
                              }
                            },
                            {
                              "ColumnName": "order_status_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=保証ST.申込ステータスID"
                              }
                            }
                          ]
                        },
                        {
                          "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                          "TableName": "t_warranty_request",
                          "ShowConfirm": false,
                          "ConfirmText": "本当に更新してもよろしいですか？",
                          "RowsToUpdate": 1,
                          "RowsToUpdateCondition": {
                            "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                            "ColumnBindingInfo": {
                              "TableName": "t_warranty_request",
                              "ColumnName": "warranty_request_id"
                            },
                            "Value": {
                              "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                              "SerializeProperty": "=New保証依頼.保証依頼ID"
                            }
                          },
                          "UpdateValues": [
                            {
                              "ColumnName": "warranty_id",
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=New保証.保証ID"
                              }
                            }
                          ]
                        }
                      ],
                      "ID": "5153dea7-6361-4e61-ac80-5c3f962c04dd"
                    }
                  ]
                }
              ],
              "ID": "1e7e9c36-4ee1-477d-bdfc-a94fc8e995c4"
            },
            {
              "CommandList": [
                {
                  "$type": "Forguncy.Model.UpdateDataTableCommand, ServerDesignerCommon",
                  "TableName": "t_warranty_request",
                  "ShowConfirm": false,
                  "ConfirmText": "本当に更新してもよろしいですか？",
                  "RowsToUpdate": 1,
                  "RowsToUpdateCondition": {
                    "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                    "ColumnBindingInfo": {
                      "TableName": "t_warranty_request",
                      "ColumnName": "warranty_request_id"
                    },
                    "Value": {
                      "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                      "SerializeProperty": "=P_保証依頼ID"
                    }
                  },
                  "UpdateValues": [
                    {
                      "ColumnName": "warannty_issue_type",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証書発行区分"
                      }
                    },
                    {
                      "ColumnName": "warranty_type_id",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証書区分"
                      }
                    },
                    {
                      "ColumnName": "warranty_object_name",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証物件名"
                      }
                    },
                    {
                      "ColumnName": "warranty_object_address",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証物件住所"
                      }
                    },
                    {
                      "ColumnName": "warranty_start_date",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証開始日"
                      }
                    },
                    {
                      "ColumnName": "warranty_period",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証期間"
                      }
                    },
                    {
                      "ColumnName": "warranty_mailing_flg",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_原本郵送フラグ"
                      }
                    },
                    {
                      "ColumnName": "warranty_request_announcement",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_保証依頼連絡事項"
                      }
                    },
                    {
                      "ColumnName": "warranty_requesrt_user_id",
                      "Value": "%CurrentUser.user_id%"
                    },
                    {
                      "ColumnName": "warranty_request_dte",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=TODAY()"
                      }
                    },
                    {
                      "ColumnName": "object_order_id",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_申込ID"
                      }
                    },
                    {
                      "ColumnName": "warranty_request_label",
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=最終更新ラベル"
                      }
                    }
                  ],
                  "ParamNameToSaveNewRowValue": "New保証依頼"
                }
              ],
              "ID": "b6c8b0b6-4ac5-472a-9dc9-6fa7186488a5"
            }
          ]
        },
        {
          "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
          "ErrorCode": "0",
          "CustomReturns": [
            {
              "ReturnPropertyName": "R_保証依頼ID",
              "Value": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=IF(P_保証依頼ID=\"\",New保証依頼.保証依頼ID,P_保証依頼ID)"
              }
            }
          ]
        }
      ]
    }
  ],
  "ReturnProperties": [
    {
      "Name": "R_保証依頼ID"
    }
  ],
  "Name": "保証書発行依頼登録"
}