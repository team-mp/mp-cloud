{
  "Name": "請求番号取得",
  "Enabled": true,
  "Triggers": [
    {
      "$type": "Forguncy.SaveLoad.PostRequestTriggerSaveData, ServerDesignerCommon",
      "Permission": {
        "PermissionData": {
          "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionData, Forguncy.RbacPermission.Core",
          "permissionResource": {
            "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionResource, Forguncy.RbacPermission.Core"
          },
          "permissionBindings": [
            {
              "$type": "Forguncy.RbacPermission.Core.Impl.ServerCommand.ServerCommandPermissionBinding, Forguncy.RbacPermission.Core",
              "roleNames": [
                "FGC_LoginUser"
              ]
            }
          ]
        }
      },
      "Parameters": [
        {
          "Name": "P_請求先ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_物件ID",
          "DataValidationInfo": {}
        },
        {
          "Name": "P_請求日",
          "DataValidationInfo": {}
        }
      ]
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "請求先マスタ",
      "TableValue": {
        "TableName": "m_customer",
        "TableValueType": 1,
        "BindingInfos": [
          {
            "GUID": "64eba300-c3fb-49da-91d3-d9671e4e4e93",
            "BindingInfo": {
              "TableName": "m_customer",
              "ColumnName": "invoice_issue_unit_id",
              "GUID": "eb60afc0-e242-4260-916c-b4f38fa07cf2"
            },
            "ColumnName": "請求書発行単位"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
          "ColumnBindingInfo": {
            "TableName": "m_customer",
            "ColumnName": "customer_id",
            "GUID": "8acd6158-b961-486e-b156-12a0e7ccdafe"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_請求先ID"
          }
        }
      },
      "ID": "0426d888f213475082bbec9ccb8b0076"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "請求年月",
      "ParameterValue": {
        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
        "SerializeProperty": "=TEXT(P_請求日,\"yyyymm\")"
      },
      "ID": "c8e1dc7ba35c4ea2a7baa1ba5b677a95"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "最終請求連番",
      "ParameterValue": "0",
      "ID": "ff05bfe126f04d00a45a35c426d9d8ef"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "請求番号",
      "ID": "7daf6bb257934502a8cbf25bd648f846"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=請求先マスタ.請求書発行単位"
              }
            },
            "value": "1"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "同一請求件数",
              "TableValue": {
                "TableName": "v_billing_no_billing_id",
                "TableValueType": 3,
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                  "SubConditions": [
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "v_billing_no_billing_id",
                        "ColumnName": "請求先ID",
                        "GUID": "72b28f7b-230c-4d47-82de-3b2b40b97c99"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    },
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "v_billing_no_billing_id",
                        "ColumnName": "請求日",
                        "GUID": "0d976b64-288b-4ad0-b9ab-aebbeca1a030"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求日"
                      }
                    }
                  ]
                },
                "NullFormulaValueQueryPolicy": 0
              },
              "ID": "3a9322e58fa34e6193903050327f60ee"
            },
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "同一請求件数_1",
              "TableValue": {
                "TableName": "t_sales",
                "TableValueType": 3,
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                  "SubConditions": [
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_comp_id",
                        "GUID": "20454493-9681-4b44-8d60-d1cf4d4c9f87"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    },
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_date",
                        "GUID": "5b576f14-278c-41af-bcac-5d560f854138"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求日"
                      }
                    }
                  ]
                }
              },
              "ID": "4fbf9857a1664847909f6fc9df1b6b6c",
              "Disabled": true
            },
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": [
                {
                  "Condition": {
                    "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                    "param": {
                      "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                      "ParamObject": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=同一請求件数"
                      }
                    },
                    "value": "0",
                    "compareType": 2
                  },
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "請求番号",
                      "TableValue": {
                        "TableName": "v_billing_no_billing_id",
                        "OnlyGetValue": true,
                        "TableValueType": 0,
                        "BindingInfos": [
                          {
                            "GUID": "68ace0b4-c1ae-47e7-9cc0-39e8d858ace9",
                            "BindingInfo": {
                              "TableName": "v_billing_no_billing_id",
                              "ColumnName": "請求番号",
                              "GUID": "1b224880-03be-4eae-8c08-1081e778e1f9"
                            },
                            "ColumnName": "請求番号"
                          }
                        ],
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                          "SubConditions": [
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "v_billing_no_billing_id",
                                "ColumnName": "請求先ID",
                                "GUID": "4c964e5d-f0c6-4f9d-95de-9b16f507e98a"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求先ID"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "v_billing_no_billing_id",
                                "ColumnName": "請求日",
                                "GUID": "7f6d294a-071b-4d11-9588-b62d7ef1f8fb"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求日"
                              }
                            }
                          ]
                        },
                        "TopCount": "1"
                      },
                      "ID": "595ae1b6b309464f90062c3f878ab07f"
                    },
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "請求番号_1",
                      "TableValue": {
                        "TableName": "t_sales",
                        "OnlyGetValue": true,
                        "TableValueType": 0,
                        "BindingInfos": [
                          {
                            "GUID": "0be16607-22d7-4159-8dc6-0b343f831d0d",
                            "BindingInfo": {
                              "TableName": "t_sales",
                              "ColumnName": "billing_no",
                              "GUID": "b18df36c-bd55-44f6-a4dc-02ec0970d850"
                            },
                            "ColumnName": "billing_no"
                          }
                        ],
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                          "SubConditions": [
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_sales",
                                "ColumnName": "billing_comp_id",
                                "GUID": "9d1bb86b-34da-4f97-8bd0-a9c2b1a2e64f"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求先ID"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_sales",
                                "ColumnName": "billing_date",
                                "GUID": "80af6f07-7100-45ce-867f-273ce699e0cc"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求日"
                              }
                            }
                          ]
                        },
                        "TopCount": "1",
                        "OrderBySqlCondition": {
                          "OrderByColumns": [
                            {
                              "ColumnBindingInfo": {
                                "TableName": "t_sales",
                                "ColumnName": "billing_no",
                                "GUID": "1051ee28-ae69-4a9f-a0f6-e9ac11fddb4a"
                              },
                              "Order": 1
                            }
                          ]
                        }
                      },
                      "ID": "32ffc90696ad40a0af2677311301c1b2",
                      "Disabled": true
                    }
                  ],
                  "ID": "5ef391c8-890a-4a94-9aba-0e76e6e51b36"
                },
                {
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "請求連番件数",
                      "TableValue": {
                        "TableName": "v_billing_serial_number",
                        "TableValueType": 3,
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "v_billing_serial_number",
                            "ColumnName": "請求年月",
                            "GUID": "8f98f8e3-c33d-44a8-a221-b6aa7605a1b1"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=請求年月"
                          }
                        }
                      },
                      "ID": "4a99133ab5bb47deb5695e4fbf275132"
                    },
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "請求連番件数_1",
                      "TableValue": {
                        "TableName": "t_sales",
                        "TableValueType": 3,
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "t_sales",
                            "ColumnName": "billing_yyyymm",
                            "GUID": "fc2b74a4-73bb-4992-9a12-c6494028c5ac"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=請求年月"
                          }
                        }
                      },
                      "ID": "c0ce041f45494dafb2a621c17d525e3d",
                      "Disabled": true
                    },
                    {
                      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                      "ConditionAndCommandPairList": [
                        {
                          "Condition": {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=請求連番件数"
                              }
                            },
                            "value": "0",
                            "compareType": 2
                          },
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                              "ParameterName": "最終請求連番",
                              "TableValue": {
                                "TableName": "v_billing_serial_number",
                                "OnlyGetValue": true,
                                "TableValueType": 0,
                                "BindingInfos": [
                                  {
                                    "GUID": "582ffd3a-640e-4c14-8587-835582ddffb6",
                                    "BindingInfo": {
                                      "TableName": "v_billing_serial_number",
                                      "ColumnName": "最大請求連番",
                                      "GUID": "a0979207-28dc-47b4-a9a6-1d6b28c9d033"
                                    },
                                    "ColumnName": "最大請求連番"
                                  }
                                ],
                                "SqlCondition": {
                                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                  "ColumnBindingInfo": {
                                    "TableName": "v_billing_serial_number",
                                    "ColumnName": "請求年月",
                                    "GUID": "f95fde08-d4af-4099-bf3c-cfb25ede0d03"
                                  },
                                  "Value": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=請求年月"
                                  }
                                },
                                "TopCount": "1"
                              },
                              "ID": "aedfda84dabe47b781e5c9d80081b05b"
                            },
                            {
                              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                              "ParameterName": "最終請求連番_1",
                              "TableValue": {
                                "TableName": "t_sales",
                                "OnlyGetValue": true,
                                "TableValueType": 0,
                                "BindingInfos": [
                                  {
                                    "GUID": "7ad00857-8e30-49d0-9533-ca907d01469e",
                                    "BindingInfo": {
                                      "TableName": "t_sales",
                                      "ColumnName": "billing_serial_number",
                                      "GUID": "f0d28e0f-bc00-4bb7-8400-3261d727b2f5"
                                    },
                                    "ColumnName": "billing_serial_number"
                                  }
                                ],
                                "SqlCondition": {
                                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                  "ColumnBindingInfo": {
                                    "TableName": "t_sales",
                                    "ColumnName": "billing_yyyymm",
                                    "GUID": "b47247cc-7c41-4a52-af54-2da1092d1bbe"
                                  },
                                  "Value": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=請求年月"
                                  }
                                },
                                "TopCount": "1",
                                "OrderBySqlCondition": {
                                  "OrderByColumns": [
                                    {
                                      "ColumnBindingInfo": {
                                        "TableName": "t_sales",
                                        "ColumnName": "billing_no",
                                        "GUID": "34ff4470-2077-4a93-8cd3-c170a577e45f"
                                      },
                                      "Order": 1
                                    }
                                  ]
                                }
                              },
                              "ID": "c5ce6edabad74cb7999bc61a76ecfb64",
                              "Disabled": true
                            }
                          ],
                          "ID": "c28e97b6-8d79-4dc6-a181-b122b4eb1c78"
                        }
                      ]
                    }
                  ],
                  "ID": "4d210368-f49c-4974-9155-182b01c53fbc"
                }
              ]
            }
          ],
          "ID": "f42e3bfa-8779-4bce-aa70-0301f56465d6"
        },
        {
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "同一請求件数",
              "TableValue": {
                "TableName": "v_billing_no_object_id",
                "TableValueType": 3,
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                  "SubConditions": [
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "v_billing_no_object_id",
                        "ColumnName": "請求先ID",
                        "GUID": "57710f21-d0a0-4792-8b5e-983d9e30341e"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    },
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "v_billing_no_object_id",
                        "ColumnName": "請求日",
                        "GUID": "a75db7f8-e2d5-409a-af9a-ea2942f09043"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求日"
                      }
                    },
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "v_billing_no_object_id",
                        "ColumnName": "物件ID",
                        "GUID": "cfb5813f-50f6-4c75-80d3-33f1b652e2f0"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_物件ID"
                      }
                    }
                  ]
                }
              },
              "ID": "36df2df980844c16b04a4a185f1ddaa4"
            },
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "同一請求件数_1",
              "TableValue": {
                "TableName": "t_sales",
                "TableValueType": 3,
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                  "SubConditions": [
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_comp_id",
                        "GUID": "12161517-9187-4043-be84-bbf497abed30"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求先ID"
                      }
                    },
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "billing_date",
                        "GUID": "e28a3ae6-dbae-44bf-a876-4004ca623dca"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_請求日"
                      }
                    },
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_sales",
                        "ColumnName": "object_order_id",
                        "GUID": "f0d77ab1-ab7b-406f-8ee5-7f5cd35d3f47",
                        "RelationBinding": {
                          "RelatedTable": "t_object_order",
                          "RelatedColumn": "object_order_id",
                          "DisplayColumn": "object_id"
                        }
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_物件ID"
                      }
                    }
                  ]
                }
              },
              "ID": "1a3e4a49935546939e4da5a338d97f8d",
              "Disabled": true
            },
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "最終請求連番",
              "ParameterValue": "0",
              "ID": "e6eaacef0dc247ff8fa9cc89de9ff904"
            },
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": [
                {
                  "Condition": {
                    "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                    "param": {
                      "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                      "ParamObject": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=同一請求件数"
                      }
                    },
                    "value": "0",
                    "compareType": 2
                  },
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "請求番号",
                      "TableValue": {
                        "TableName": "v_billing_no_object_id",
                        "OnlyGetValue": true,
                        "TableValueType": 0,
                        "BindingInfos": [
                          {
                            "GUID": "a9c6ddc8-d61d-4d38-8f7f-4fc29fd435e8",
                            "BindingInfo": {
                              "TableName": "v_billing_no_object_id",
                              "ColumnName": "請求番号",
                              "GUID": "1e2765e5-bc43-4bb6-9959-18bab19236bb"
                            },
                            "ColumnName": "請求番号"
                          }
                        ],
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                          "SubConditions": [
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "v_billing_no_object_id",
                                "ColumnName": "請求先ID",
                                "GUID": "cf3f7920-021f-4172-b82d-283417572085"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求先ID"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "v_billing_no_object_id",
                                "ColumnName": "請求日",
                                "GUID": "b2cb1aca-2ea4-4e39-9be8-c80ae7944299"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求日"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "v_billing_no_object_id",
                                "ColumnName": "物件ID",
                                "GUID": "330b6d5a-fe61-40af-ba84-9108cba2a279"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_物件ID"
                              }
                            }
                          ]
                        },
                        "TopCount": "1"
                      },
                      "ID": "8eb8dd93c2fb4472823c015c6bc7489e"
                    },
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "請求番号_1",
                      "TableValue": {
                        "TableName": "t_sales",
                        "OnlyGetValue": true,
                        "TableValueType": 0,
                        "BindingInfos": [
                          {
                            "GUID": "7fcb578f-cdc7-4f1b-9c72-2d3fad69d711",
                            "BindingInfo": {
                              "TableName": "t_sales",
                              "ColumnName": "billing_no",
                              "GUID": "9a76f3f7-f50f-4eb8-acb0-ec230bdfaec7"
                            },
                            "ColumnName": "billing_no"
                          }
                        ],
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                          "SubConditions": [
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_sales",
                                "ColumnName": "billing_comp_id",
                                "GUID": "7f95c28f-bae1-4df5-a770-ecf3bed0b0fa"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求先ID"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_sales",
                                "ColumnName": "billing_date",
                                "GUID": "d3bdc0b3-6f05-47fb-991e-e2e6212b2d17"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_請求日"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_sales",
                                "ColumnName": "object_order_id",
                                "GUID": "98e09dd2-db78-4e93-b618-2bc43502859c",
                                "RelationBinding": {
                                  "RelatedTable": "t_object_order",
                                  "RelatedColumn": "object_order_id",
                                  "DisplayColumn": "object_id"
                                }
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_物件ID"
                              }
                            }
                          ]
                        },
                        "TopCount": "1",
                        "OrderBySqlCondition": {
                          "OrderByColumns": [
                            {
                              "ColumnBindingInfo": {
                                "TableName": "t_sales",
                                "ColumnName": "billing_no",
                                "GUID": "a512d92d-19ec-41d7-90aa-b486b038c305"
                              },
                              "Order": 1
                            }
                          ]
                        }
                      },
                      "ID": "3bb7ac32a7e3479ea1057f67b87a6080",
                      "Disabled": true
                    }
                  ],
                  "ID": "5b2955ff-5b54-4ad7-9420-2fb158cc537c"
                },
                {
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "請求連番件数",
                      "TableValue": {
                        "TableName": "v_billing_serial_number",
                        "TableValueType": 3,
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "v_billing_serial_number",
                            "ColumnName": "請求年月",
                            "GUID": "2ec4387f-56c3-4941-bebc-c63316ac9091"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=請求年月"
                          }
                        },
                        "NullFormulaValueQueryPolicy": 0
                      },
                      "ID": "60b047eb2b064de9bdbd69f5bdd9bc22"
                    },
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "請求連番件数_1",
                      "TableValue": {
                        "TableName": "t_sales",
                        "TableValueType": 3,
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                          "ColumnBindingInfo": {
                            "TableName": "t_sales",
                            "ColumnName": "billing_yyyymm",
                            "GUID": "be3ca54b-a5c9-4305-9fd8-4ee71f4c908a"
                          },
                          "Value": {
                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                            "SerializeProperty": "=請求年月"
                          }
                        }
                      },
                      "ID": "2cbbf34db18e4d17bfd7fc4f3e317334",
                      "Disabled": true
                    },
                    {
                      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                      "ConditionAndCommandPairList": [
                        {
                          "Condition": {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
                              "ParamObject": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=請求連番件数"
                              }
                            },
                            "value": "0",
                            "compareType": 2
                          },
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                              "ParameterName": "最終請求連番",
                              "TableValue": {
                                "TableName": "v_billing_serial_number",
                                "OnlyGetValue": true,
                                "TableValueType": 0,
                                "BindingInfos": [
                                  {
                                    "GUID": "38b4725d-5e16-469b-af8a-3fbc90a9e935",
                                    "BindingInfo": {
                                      "TableName": "v_billing_serial_number",
                                      "ColumnName": "最大請求連番",
                                      "GUID": "19845086-6d77-4976-860d-4c08c1c2aadd"
                                    },
                                    "ColumnName": "最大請求連番"
                                  }
                                ],
                                "SqlCondition": {
                                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                  "ColumnBindingInfo": {
                                    "TableName": "v_billing_serial_number",
                                    "ColumnName": "請求年月",
                                    "GUID": "70e8ac4f-6f56-4884-8444-a94f6f967d0c"
                                  },
                                  "Value": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=請求年月"
                                  }
                                },
                                "TopCount": "1"
                              },
                              "ID": "bece23d897f1488a82e24fa0d994e9f3"
                            },
                            {
                              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                              "ParameterName": "最終請求連番_1",
                              "TableValue": {
                                "TableName": "t_sales",
                                "OnlyGetValue": true,
                                "TableValueType": 0,
                                "BindingInfos": [
                                  {
                                    "GUID": "0cea97c5-eb2f-4aa0-b736-5fa326073402",
                                    "BindingInfo": {
                                      "TableName": "t_sales",
                                      "ColumnName": "billing_serial_number",
                                      "GUID": "70e2e118-686f-4340-b33f-6e3834bf732f"
                                    },
                                    "ColumnName": "billing_serial_number"
                                  }
                                ],
                                "SqlCondition": {
                                  "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                                  "ColumnBindingInfo": {
                                    "TableName": "t_sales",
                                    "ColumnName": "billing_yyyymm",
                                    "GUID": "e3d1cb27-c9d7-48fc-88ce-4fa625074039"
                                  },
                                  "Value": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=請求年月"
                                  }
                                },
                                "TopCount": "1",
                                "OrderBySqlCondition": {
                                  "OrderByColumns": [
                                    {
                                      "ColumnBindingInfo": {
                                        "TableName": "t_sales",
                                        "ColumnName": "billing_serial_number",
                                        "GUID": "bf9adab4-6caf-4693-aa43-58d853fc8335"
                                      },
                                      "Order": 1
                                    }
                                  ]
                                }
                              },
                              "ID": "9ffd2a5947734112b7c82539ce7dd767",
                              "Disabled": true
                            }
                          ],
                          "ID": "a27e29b5-2cf5-45a5-8ab4-46712416aacb"
                        }
                      ]
                    }
                  ],
                  "ID": "71ef9b53-a9c8-430b-a603-745ff37daece"
                }
              ]
            }
          ],
          "ID": "4b23a1e8-715a-4165-9187-d25524d0da2a"
        }
      ],
      "Comments": "請求番号取得"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionServerSiteParam, ServerDesignerCommon",
              "ParamObject": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=請求番号"
              }
            },
            "value": "%Null%"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "新規請求連番",
              "ParameterValue": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=最終請求連番+1"
              },
              "ID": "4e32c76cf612469e8bb29a5eaff3d6a5"
            },
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "請求番号",
              "ParameterValue": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=\"MC\"&請求年月&TEXT(新規請求連番,\"000\")"
              },
              "ID": "f33d0308a89c4f449457f622092e4fc5"
            }
          ],
          "ID": "5da4adcc-fbd5-44f8-a87e-526978d0bbf6"
        },
        {
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "新規請求連番",
              "ParameterValue": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=VALUE(RIGHT(請求番号,3))"
              },
              "ID": "bc14ec06a56d4b369cb4c14ed5c85510"
            }
          ],
          "ID": "f0e60400-3049-4c71-b8cc-319c9efb1b91"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.ReturnCommand, ServerDesignerCommon",
      "ErrorCode": "0",
      "CustomReturns": [
        {
          "ReturnPropertyName": "R_請求番号",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=請求番号"
          }
        },
        {
          "ReturnPropertyName": "R_請求連番",
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=新規請求連番"
          }
        }
      ]
    }
  ],
  "ReturnProperties": [
    {
      "Name": "R_請求番号"
    },
    {
      "Name": "R_請求連番"
    }
  ]
}