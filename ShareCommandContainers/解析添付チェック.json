{
  "ID": "651aad23-461f-4ecd-8818-bcf7af8d3a2a",
  "Name": "解析添付チェック",
  "Params": [
    {
      "ID": "b7959ed1-08d2-40f9-a95e-26011435f826",
      "Name": "P_解析ID"
    },
    {
      "ID": "a3d02db6-6c76-4ce0-ab9a-9ae0844fed38",
      "Name": "P_調査ID"
    },
    {
      "ID": "66ff1ce0-eb25-4798-97f9-75eab67c11dd",
      "Name": "P_検討書必要フラグ"
    },
    {
      "ID": "c98d1ca4-5c18-4572-a7ad-9db82fd90d22",
      "Name": "P_地盤調査フラグ"
    },
    {
      "ID": "6a39c307-4c97-47fd-8819-27433179de7a",
      "Name": "P_解析添付ボタン"
    },
    {
      "ID": "fd5cf911-d6e1-4a03-9de3-075a0737ea9f",
      "Name": "P_業務対応フラグ"
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "解析ファイル",
      "TableValue": {
        "TableName": "v_analysis_file_count",
        "TableValueType": 1,
        "BindingInfos": [
          {
            "GUID": "304993f9-b4e3-4a3a-a60e-74c579e684c9",
            "BindingInfo": {
              "TableName": "v_analysis_file_count",
              "ColumnName": "検討書数",
              "GUID": "ac346b1b-8d63-4ed6-90e0-a639aaf0b7c6"
            },
            "ColumnName": "検討書数"
          },
          {
            "GUID": "7f801f07-a21c-4092-9a9e-1e605b4f37bc",
            "BindingInfo": {
              "TableName": "v_analysis_file_count",
              "ColumnName": "調査報告書_納品用数",
              "GUID": "bb188ebd-6960-4243-869a-ccc521fe9c8f"
            },
            "ColumnName": "調査報告書_納品用数"
          }
        ],
        "SqlCondition": {
          "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
          "ColumnBindingInfo": {
            "TableName": "v_analysis_file_count",
            "ColumnName": "解析ID",
            "GUID": "e333d2e2-0012-4da4-9876-4753e4f6bb8a"
          },
          "Value": {
            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
            "SerializeProperty": "=P_解析ID"
          }
        }
      },
      "ID": "df7fabc52daf43f1b16a8ed45a362742"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "V_検討書数",
      "ParameterValue": "0",
      "ID": "6417398e2cb54f38839c9330d7395feb"
    },
    {
      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
      "ParameterName": "V_調査報告書数",
      "ParameterValue": "0",
      "ID": "43647bd640ec49289ae019aef8d8a17b"
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
              "cellLocations": [
                {
                  "SerializeProperty": "=解析ファイル"
                }
              ]
            },
            "value": "%Null%",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "V_検討書数",
              "ParameterValue": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=解析ファイル.検討書数"
              },
              "ID": "0fe220438c4e4174912a2fc042384853"
            },
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "V_調査報告書数",
              "ParameterValue": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=解析ファイル.調査報告書_納品用数"
              },
              "ID": "0354c359a0c14037a640d4a87588d06d"
            }
          ],
          "ID": "a93384f1-c32f-43e4-b594-1c8f523175b3"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
            "SubConditions": [
              {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                  "cellLocations": [
                    {
                      "SerializeProperty": "=P_地盤調査フラグ"
                    }
                  ]
                },
                "value": "1"
              },
              {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                  "cellLocations": [
                    {
                      "SerializeProperty": "=P_業務対応フラグ"
                    }
                  ]
                },
                "value": "1"
              },
              {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                  "cellLocations": [
                    {
                      "SerializeProperty": "=P_調査ID"
                    }
                  ]
                },
                "value": "%Null%",
                "compareType": 1
              },
              {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                  "cellLocations": [
                    {
                      "SerializeProperty": "=V_調査報告書数"
                    }
                  ]
                },
                "value": "0"
              }
            ]
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "V_調査報告書数",
              "TableValue": {
                "TableName": "t_object_attachment",
                "TableValueType": 3,
                "SqlCondition": {
                  "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                  "SubConditions": [
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_attachment",
                        "ColumnName": "survey_id",
                        "GUID": "630f579a-b6e2-4d07-96cc-d62e4519b0fb"
                      },
                      "Value": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_調査ID"
                      }
                    },
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_attachment",
                        "ColumnName": "file_attribute_id",
                        "GUID": "01bd92c9-a398-4979-8e08-08b7b15c1f24"
                      },
                      "Value": "18"
                    },
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_attachment",
                        "ColumnName": "file_label",
                        "GUID": "91f607f0-e688-4424-80f0-f49d5bf3831e"
                      },
                      "Value": "1"
                    },
                    {
                      "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                      "ColumnBindingInfo": {
                        "TableName": "t_object_attachment",
                        "ColumnName": "active_flg",
                        "GUID": "06feb079-c7fe-4dc2-9a9f-5d57f5dace2d"
                      },
                      "Value": "1"
                    },
                    {
                      "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                      "SubConditions": [
                        {
                          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                          "CompareType": 6,
                          "ColumnBindingInfo": {
                            "TableName": "t_object_attachment",
                            "ColumnName": "display_file_name",
                            "GUID": "d8a5a65e-e896-4179-989f-dc7e4c9da1cb"
                          },
                          "Value": ".pdf",
                          "LeftBracket": 1
                        },
                        {
                          "$type": "ForguncyDataAccess.TextCESqlCondition, ForguncyDataAccess",
                          "CompareType": 6,
                          "ColumnBindingInfo": {
                            "TableName": "t_object_attachment",
                            "ColumnName": "display_file_name",
                            "GUID": "dd3a5fd0-29dc-4752-8ba8-baadbc91e9b7"
                          },
                          "Value": ".PDF",
                          "RightBracket": 1
                        }
                      ],
                      "RelationType": 1
                    }
                  ]
                }
              },
              "ID": "a457f94ca298419688e2089dc87c315c",
              "Comments": "調査報告書PDF非公開をカウント"
            }
          ],
          "ID": "eb05c2d3-91cc-4737-bfc2-3a041cf2d7f9"
        }
      ],
      "Disabled": true
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
            "SubConditions": [
              {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                  "cellLocations": [
                    {
                      "SerializeProperty": "=P_検討書必要フラグ"
                    }
                  ]
                },
                "value": "1"
              },
              {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                  "cellLocations": [
                    {
                      "SerializeProperty": "=V_検討書数"
                    }
                  ]
                },
                "value": "0"
              }
            ]
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": [
                {
                  "ConfirmDialogSettings": {
                    "Title": "確認",
                    "FormulaText": "対象の住宅事業者は、検討書必要に既定値設定されていますが、\r\n検討書が添付されていません。このまま処理を継続しますか？",
                    "YesButtonText": "はい",
                    "NoButtonText": "いいえ",
                    "ConfirmIcon": 4
                  },
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.RunJavaScriptCommand, ServerDesignerCommon",
                      "JavaScript": "return true;",
                      "ID": "c2ee593b192c4cf684f81907f2729b0d"
                    }
                  ],
                  "ID": "3ab385e1-e76c-4a40-b837-767d01a30a6c"
                },
                {
                  "CommandList": [
                    {
                      "$type": "SetFocusCommand.SetFocusCommand, SetFocusCommand",
                      "TargetCell": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_解析添付ボタン"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RunJavaScriptCommand, ServerDesignerCommon",
                      "JavaScript": "return false;",
                      "ID": "170943862a9943dca47b5d8ef6488775"
                    }
                  ],
                  "ID": "eb5c49db-ae7b-477f-8c96-d8809810df4c"
                }
              ]
            }
          ],
          "ID": "bf2edc99-3b74-48a7-a6ff-47a355a49086"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
            "SubConditions": [
              {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                  "cellLocations": [
                    {
                      "SerializeProperty": "=P_地盤調査フラグ"
                    }
                  ]
                },
                "value": "1"
              },
              {
                "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                "param": {
                  "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                  "cellLocations": [
                    {
                      "SerializeProperty": "=V_調査報告書数"
                    }
                  ]
                },
                "value": "0"
              }
            ]
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": [
                {
                  "ConfirmDialogSettings": {
                    "Title": "確認",
                    "FormulaText": "受付商品は地盤調査のため、調査報告書が必要になりますが、\r\n調査報告書が添付されていません。このまま処理を継続しますか？",
                    "YesButtonText": "はい",
                    "NoButtonText": "いいえ",
                    "ConfirmIcon": 4
                  },
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.RunJavaScriptCommand, ServerDesignerCommon",
                      "JavaScript": "return true;",
                      "ID": "032342fdd7004a40a9170874d6d7ac0c"
                    }
                  ],
                  "ID": "829ae0c2-2990-427e-b1e5-25d0e652d4fc"
                },
                {
                  "CommandList": [
                    {
                      "$type": "SetFocusCommand.SetFocusCommand, SetFocusCommand",
                      "TargetCell": {
                        "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                        "SerializeProperty": "=P_解析添付ボタン"
                      }
                    },
                    {
                      "$type": "Forguncy.Model.RunJavaScriptCommand, ServerDesignerCommon",
                      "JavaScript": "return false;",
                      "ID": "25c0f8f527004c65a7b5ba0055a9eab2"
                    }
                  ],
                  "ID": "9483304f-4c8d-420c-a04c-79b1cc0cf66f"
                }
              ]
            }
          ],
          "ID": "1a8398a3-2166-4dda-a8f8-d2c46b3d6cea"
        }
      ]
    }
  ]
}