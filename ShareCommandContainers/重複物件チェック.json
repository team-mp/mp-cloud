{
  "ID": "46560182-7445-4a62-9da8-14da8cc56b04",
  "Name": "重複物件チェック",
  "Params": [
    {
      "ID": "95cc0748-25ec-48af-ab20-819c6ea9426f",
      "Name": "P_物件元名"
    },
    {
      "ID": "b2c1b459-4cc1-42fc-9ee5-968cd20be55f",
      "Name": "P_物件都道府県"
    },
    {
      "ID": "57a87767-f44e-41a5-b1e2-75402887da1a",
      "Name": "P_グループID"
    },
    {
      "ID": "03a04474-b531-4fa3-8682-2b29a39ceeb4",
      "Name": "P_住宅事業者ID"
    },
    {
      "ID": "9a0ab077-966d-44d8-9486-c96f61029230",
      "Name": "P_メッセージ表示フラグ"
    },
    {
      "ID": "6c125420-4e13-487a-993b-08be61ffec53",
      "Name": "P_ログイン者本社フラグ"
    },
    {
      "ID": "4fd436fe-7c40-423b-9930-5d53324774d9",
      "Name": "P_申込タイプ追加フラグ"
    },
    {
      "ID": "5c90216b-e465-48a6-b76a-b07e6367b251",
      "Name": "P_登録継続フラグ"
    },
    {
      "ID": "d3b97d0b-0bb9-4eff-8844-6163a1f6f687",
      "Name": "P_登録実行フラグ"
    }
  ],
  "Commands": [
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
              "cellLocations": [
                {
                  "SerializeProperty": "=P_物件元名"
                }
              ]
            },
            "value": "%Null%"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ShowMessageCommand, ServerDesignerCommon",
              "MessageFormula": "物件名が入力されていません"
            },
            {
              "$type": "SetFocusCommand.SetFocusCommand, SetFocusCommand",
              "TargetCell": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件元名"
              }
            },
            {
              "$type": "Forguncy.Model.RunJavaScriptCommand, ServerDesignerCommon",
              "JavaScript": "return false;",
              "ID": "5394643fa0fd402f8adf3ff9c3c374f0"
            }
          ],
          "ID": "6e1c2352-ec97-4eb7-a21a-28719e722d67"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
              "cellLocations": [
                {
                  "SerializeProperty": "=P_物件都道府県"
                }
              ]
            },
            "value": "%Null%"
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.ShowMessageCommand, ServerDesignerCommon",
              "MessageFormula": "都道府県が選択されていません"
            },
            {
              "$type": "SetFocusCommand.SetFocusCommand, SetFocusCommand",
              "TargetCell": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=P_物件都道府県"
              }
            },
            {
              "$type": "Forguncy.Model.RunJavaScriptCommand, ServerDesignerCommon",
              "JavaScript": "return false;",
              "ID": "5394643fa0fd402f8adf3ff9c3c374f0"
            }
          ],
          "ID": "ccbb4d19-e1ed-4231-ab70-6d2850d66842"
        }
      ]
    },
    {
      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
      "ConditionAndCommandPairList": [
        {
          "Condition": {
            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
            "param": {
              "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
              "cellLocations": [
                {
                  "SerializeProperty": "=P_申込タイプ追加フラグ"
                }
              ]
            },
            "value": "1",
            "compareType": 1
          },
          "CommandList": [
            {
              "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
              "ParameterName": "V_物件元名",
              "ParameterValue": {
                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                "SerializeProperty": "=SUBSTITUTE(SUBSTITUTE(SUBSTITUTE(SUBSTITUTE(P_物件元名,\" \",\"\"),\"　\",\"\"),\"様邸\",\"\"),\"様\",\"\")"
              },
              "ID": "c716ffd6d64f4da4bf27a3b51e4b9fb0"
            },
            {
              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
              "ConditionAndCommandPairList": [
                {
                  "Condition": {
                    "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                    "param": {
                      "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                      "cellLocations": [
                        {
                          "SerializeProperty": "=P_ログイン者本社フラグ"
                        }
                      ]
                    },
                    "value": "1"
                  },
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "重複カウント",
                      "TableValue": {
                        "TableName": "t_object",
                        "TableValueType": 3,
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                          "SubConditions": [
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object",
                                "ColumnName": "duplication_check_object_name",
                                "GUID": "13335c2c-5133-444e-81f6-c886c6eff7c8"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=V_物件元名"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object",
                                "ColumnName": "prefectures",
                                "GUID": "3e79a435-8a07-4588-b6af-0fe36fc82c3e"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_物件都道府県"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object",
                                "ColumnName": "object_id",
                                "GUID": "d87d5806-8827-477a-9ff6-dcebc159f8c1",
                                "RelationBinding": {
                                  "RelatedTable": "t_object_order",
                                  "RelatedColumn": "object_id",
                                  "DisplayColumn": "order_status_id",
                                  "NextRelationBinding": {
                                    "RelatedTable": "m_order_status",
                                    "RelatedColumn": "order_status_id",
                                    "DisplayColumn": "order_cancel_flg"
                                  }
                                }
                              },
                              "Value": "0"
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object",
                                "ColumnName": "object_id",
                                "GUID": "fc2ed423-1453-46c0-92f0-c466fe660c6c",
                                "RelationBinding": {
                                  "RelatedTable": "t_object_order",
                                  "RelatedColumn": "object_id",
                                  "DisplayColumn": "active_flg"
                                }
                              },
                              "Value": "1"
                            }
                          ]
                        }
                      },
                      "ID": "7c3506e150074ac599f3c78d1d66148c"
                    },
                    {
                      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                      "ConditionAndCommandPairList": [
                        {
                          "Condition": {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                              "cellLocations": [
                                {
                                  "SerializeProperty": "=重複カウント"
                                }
                              ]
                            },
                            "value": "0",
                            "compareType": 2
                          },
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.ShowPopupCommand, ServerDesignerCommon",
                              "PageName": "重複物件リスト",
                              "PassValues": [
                                {
                                  "Source": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=V_物件元名"
                                  },
                                  "TargetCell": {
                                    "SerializeProperty": "=重複物件リスト!物件元名"
                                  }
                                },
                                {
                                  "Source": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=P_物件都道府県"
                                  },
                                  "TargetCell": {
                                    "SerializeProperty": "=重複物件リスト!物件都道府県"
                                  }
                                },
                                {
                                  "Source": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=P_登録継続フラグ"
                                  },
                                  "TargetCell": {
                                    "SerializeProperty": "=重複物件リスト!登録継続フラグ"
                                  }
                                },
                                {
                                  "Source": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=P_登録実行フラグ"
                                  },
                                  "TargetCell": {
                                    "SerializeProperty": "=重複物件リスト!登録実行フラグ"
                                  }
                                }
                              ],
                              "DeleteCachedQuery": true
                            }
                          ],
                          "ID": "3dda55a7-b141-4d63-b95b-ac6adfe9c6dc"
                        },
                        {
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                              "ConditionAndCommandPairList": [
                                {
                                  "Condition": {
                                    "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                                    "param": {
                                      "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                                      "cellLocations": [
                                        {
                                          "SerializeProperty": "=P_メッセージ表示フラグ"
                                        }
                                      ]
                                    },
                                    "value": "1"
                                  },
                                  "CommandList": [
                                    {
                                      "$type": "Forguncy.Model.SetCellPropertyCommand, ServerDesignerCommon",
                                      "PropertyItemsList": [
                                        {
                                          "TargetCells": {
                                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                            "SerializeProperty": "=P_登録継続フラグ"
                                          },
                                          "Value": "1"
                                        }
                                      ]
                                    },
                                    {
                                      "$type": "Forguncy.Model.ShowMessageCommand, ServerDesignerCommon",
                                      "MessageFormula": "重複の可能性のある物件は見つかりませんでした。"
                                    }
                                  ],
                                  "ID": "a8c00ebc-06b8-4d7c-aaa9-947a7175585e"
                                }
                              ]
                            }
                          ],
                          "ID": "c5d7b62d-8bf6-42d6-ba55-901717674be9"
                        }
                      ]
                    }
                  ],
                  "Comments": "本社の場合",
                  "ID": "8a537e75-8b77-4563-9d6a-14e094ac025a"
                },
                {
                  "CommandList": [
                    {
                      "$type": "Forguncy.Model.Commands.SetParameterCommand, ServerDesignerCommon",
                      "ParameterName": "重複カウント",
                      "TableValue": {
                        "TableName": "t_object",
                        "TableValueType": 3,
                        "SqlCondition": {
                          "$type": "ForguncyDataAccess.RelationSqlCondition, ForguncyDataAccess",
                          "SubConditions": [
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object",
                                "ColumnName": "duplication_check_object_name",
                                "GUID": "0e202375-5a30-46fe-bbf7-73f1c3587a6d"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=V_物件元名"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object",
                                "ColumnName": "prefectures",
                                "GUID": "2917ae05-2922-472b-a0cf-187de735b7ec"
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_物件都道府県"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object",
                                "ColumnName": "object_id",
                                "GUID": "a127cc75-bb2b-4b81-a011-07883ad52d21",
                                "RelationBinding": {
                                  "RelatedTable": "t_object_order",
                                  "RelatedColumn": "object_id",
                                  "DisplayColumn": "group_id"
                                }
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_グループID"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object",
                                "ColumnName": "object_id",
                                "GUID": "e2512d8d-8159-4c41-afad-26726fadf03f",
                                "RelationBinding": {
                                  "RelatedTable": "t_object_order",
                                  "RelatedColumn": "object_id",
                                  "DisplayColumn": "builder_id"
                                }
                              },
                              "Value": {
                                "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                "SerializeProperty": "=P_住宅事業者ID"
                              }
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object",
                                "ColumnName": "object_id",
                                "GUID": "68b89afd-0ba3-47c5-8df3-65e92fabbf52",
                                "RelationBinding": {
                                  "RelatedTable": "t_object_order",
                                  "RelatedColumn": "object_id",
                                  "DisplayColumn": "order_status_id",
                                  "NextRelationBinding": {
                                    "RelatedTable": "m_order_status",
                                    "RelatedColumn": "order_status_id",
                                    "DisplayColumn": "order_cancel_flg"
                                  }
                                }
                              },
                              "Value": "0"
                            },
                            {
                              "$type": "ForguncyDataAccess.GeneralCESqlCondition, ForguncyDataAccess",
                              "ColumnBindingInfo": {
                                "TableName": "t_object",
                                "ColumnName": "object_id",
                                "GUID": "59eefd1a-6c5e-4253-a039-e462d5d3addd",
                                "RelationBinding": {
                                  "RelatedTable": "t_object_order",
                                  "RelatedColumn": "object_id",
                                  "DisplayColumn": "active_flg"
                                }
                              },
                              "Value": "1"
                            }
                          ]
                        }
                      },
                      "ID": "9d59f75961674bb9aaa4df7c458f9441"
                    },
                    {
                      "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                      "ConditionAndCommandPairList": [
                        {
                          "Condition": {
                            "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                            "param": {
                              "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                              "cellLocations": [
                                {
                                  "SerializeProperty": "=重複カウント"
                                }
                              ]
                            },
                            "value": "0",
                            "compareType": 2
                          },
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.ShowPopupCommand, ServerDesignerCommon",
                              "PageName": "重複物件リスト_申込事業者用",
                              "PassValues": [
                                {
                                  "Source": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=V_物件元名"
                                  },
                                  "TargetCell": {
                                    "SerializeProperty": "=重複物件リスト_申込事業者用!物件元名"
                                  }
                                },
                                {
                                  "Source": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=P_物件都道府県"
                                  },
                                  "TargetCell": {
                                    "SerializeProperty": "=重複物件リスト_申込事業者用!物件都道府県"
                                  }
                                },
                                {
                                  "Source": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=P_グループID"
                                  },
                                  "TargetCell": {
                                    "SerializeProperty": "=重複物件リスト_申込事業者用!グループID"
                                  }
                                },
                                {
                                  "Source": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=P_住宅事業者ID"
                                  },
                                  "TargetCell": {
                                    "SerializeProperty": "=重複物件リスト_申込事業者用!住宅事業者ID"
                                  }
                                },
                                {
                                  "Source": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=P_登録継続フラグ"
                                  },
                                  "TargetCell": {
                                    "SerializeProperty": "=重複物件リスト_申込事業者用!登録継続フラグ"
                                  }
                                },
                                {
                                  "Source": {
                                    "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                    "SerializeProperty": "=P_登録実行フラグ"
                                  },
                                  "TargetCell": {
                                    "SerializeProperty": "=重複物件リスト_申込事業者用!登録実行フラグ"
                                  }
                                }
                              ],
                              "DeleteCachedQuery": true
                            }
                          ],
                          "ID": "e130bb2e-83d4-45db-aae5-667b91b06900"
                        },
                        {
                          "CommandList": [
                            {
                              "$type": "Forguncy.Model.ConditionCommand, ServerDesignerCommon",
                              "ConditionAndCommandPairList": [
                                {
                                  "Condition": {
                                    "$type": "Forguncy.Model.IfCondition, ServerDesignerCommon",
                                    "param": {
                                      "$type": "Forguncy.Model.IfConditionPageElementParam, ServerDesignerCommon",
                                      "cellLocations": [
                                        {
                                          "SerializeProperty": "=P_メッセージ表示フラグ"
                                        }
                                      ]
                                    },
                                    "value": "1"
                                  },
                                  "CommandList": [
                                    {
                                      "$type": "Forguncy.Model.SetCellPropertyCommand, ServerDesignerCommon",
                                      "PropertyItemsList": [
                                        {
                                          "TargetCells": {
                                            "$type": "Forguncy.Model.FormulaReferObject, ServerDesignerCommon",
                                            "SerializeProperty": "=P_登録継続フラグ"
                                          },
                                          "Value": "1"
                                        }
                                      ]
                                    },
                                    {
                                      "$type": "Forguncy.Model.ShowMessageCommand, ServerDesignerCommon",
                                      "MessageFormula": "重複の可能性のある物件は見つかりませんでした。"
                                    }
                                  ],
                                  "ID": "7f516562-0413-4c98-8e79-8c1679e1bbc3"
                                }
                              ]
                            }
                          ],
                          "ID": "f96f384f-c5b9-4f97-90eb-8e431852ab5a"
                        }
                      ]
                    }
                  ],
                  "ID": "5797352e-6941-4cd3-be63-c2a3ab50a9ae"
                }
              ]
            }
          ],
          "ID": "6f3b43ee-8562-4718-abdc-972d714910ab"
        }
      ]
    }
  ]
}