{"Columns":[{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"グループID","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"申込タイプID","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"AutoIncrement":true,"DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"商品ID","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"商品名","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"販売単価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別販売単価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"販売原価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別販売原価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"調査単価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別調査単価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"調査原価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別調査原価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"保証単価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別保証単価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"改良判定保証単価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別改良判定保証単価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"標準単価","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"標準原価","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"標準調査単価","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"標準調査原価","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"標準保証単価","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"有効フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"}],"BuiltInViewInfo":{"ViewName":"v_group_product","SourceViewName":"fgcabc34ce48c664571b955a35069d","CreateViewSql":"SELECT\r\n       main.group_id AS グループID\r\n      ,main.ordertype_id AS 申込タイプID\r\n      ,main.product_id AS 商品ID\r\n      \r\n      /* 商品名 */\r\n      ,CASE WHEN (sub.original_product_name IS NOT NULL) \r\n       THEN  sub.original_product_name\r\n       ELSE  main.product_name END AS 商品名\r\n      \r\n      /* 販売単価 */\r\n      ,CASE WHEN (sub.special_price IS NOT NULL) \r\n       THEN  sub.special_price\r\n       ELSE  main.standard_price END AS 販売単価\r\n     \r\n      ,CASE WHEN (sub.special_price IS NOT NULL) \r\n       THEN 1 ELSE 0 END AS 特別販売単価フラグ\r\n\r\n      /* 販売原価 */\r\n      ,CASE WHEN (sub.special_cost IS NOT NULL) \r\n       THEN sub.special_cost\r\n       ELSE  main.cost_price END AS 販売原価\r\n\r\n      ,CASE WHEN (sub.special_cost IS NOT NULL) \r\n       THEN 1 ELSE 0 END AS 特別販売原価フラグ\r\n\r\n      /* 調査単価 */\r\n      ,CASE WHEN (sub.special_survey_price IS NOT NULL) \r\n       THEN sub.special_survey_price\r\n       ELSE  main.survey_price END AS 調査単価\r\n\r\n      ,CASE WHEN (sub.special_survey_price IS NOT NULL) \r\n       THEN 1 ELSE 0 END AS 特別調査単価フラグ\r\n\r\n      /* 調査原価 */\r\n      ,CASE WHEN (sub.special_survey_cost IS NOT NULL) \r\n       THEN sub.special_survey_cost\r\n       ELSE  main.survey_cost END AS 調査原価\r\n\r\n      ,CASE WHEN (sub.special_survey_cost IS NOT NULL) \r\n       THEN 1 ELSE 0 END AS 特別調査原価フラグ\r\n\r\n      /* 保証単価 */\r\n      ,CASE WHEN (sub.special_gurantee_price IS NOT NULL) \r\n       THEN sub.special_gurantee_price\r\n       ELSE  main.gurantee_price END AS 保証単価\r\n\r\n      ,CASE WHEN (sub.special_gurantee_price IS NOT NULL) \r\n       THEN 1 ELSE 0 END AS 特別保証単価フラグ\r\n\r\n      /* 改良判定保証単価 */\r\n      ,CASE WHEN (sub.special_impjudge_gurantee_price IS NOT NULL) \r\n       THEN sub.special_impjudge_gurantee_price\r\n       ELSE  main.impjudge_gurantee_price END AS 改良判定保証単価\r\n\r\n      ,CASE WHEN (sub.special_impjudge_gurantee_price IS NOT NULL) \r\n       THEN 1 ELSE 0 END AS 特別改良判定保証単価フラグ\r\n     \r\n      ,main.standard_price AS 標準単価\r\n      ,main.cost_price AS 標準原価\r\n      ,main.survey_price AS 標準調査単価\r\n      ,main.survey_cost AS 標準調査原価\r\n      ,main.gurantee_price AS 標準保証単価\r\n\r\n      /* 有効フラグ */\r\n      ,CASE WHEN main.active_flg = 0 THEN 0\r\n       WHEN sub.active_flg = 0 THEN 0\r\n       ELSE 1 END AS 有効フラグ \r\n\r\n    FROM\r\n      ( SELECT\r\n            main.group_id\r\n           ,main.ordertype_id\r\n           ,subB.*\r\n        FROM m_group_ordertype AS main\r\n\r\n        INNER JOIN m_product_ordertype AS subA\r\n        ON  main.ordertype_id = subA.ordertype_id\r\n\r\n        INNER JOIN m_product AS subB\r\n        ON subA.product_id = subB .product_id\r\n      ) AS main\r\n \r\n      LEFT JOIN m_group_product AS sub\r\n      ON main.group_id = sub.group_id\r\n      AND main.ordertype_id = sub.ordertype_id\r\n      AND main.product_id = sub.product_id\r\n\r\n   ORDER BY\r\n      main.group_id\r\n     ,main.ordertype_id\r\n     ,main.product_id"},"PrimaryKey":["グループID","申込タイプID","商品ID"],"Name":"v_group_product","Relations":[{"PrimarySchema":null,"ForeignSchema":null,"PrimaryTable":"m_group","ForeignTable":"v_group_product","PrimaryColumn":"group_id","ForeignColumn":"グループID","RelationTypeOnDelete":0,"RelationTypeOnUpdate":0,"IsDetailTableRelation":null},{"PrimarySchema":null,"ForeignSchema":null,"PrimaryTable":"m_ordertype","ForeignTable":"v_group_product","PrimaryColumn":"ordertype_id","ForeignColumn":"申込タイプID","RelationTypeOnDelete":0,"RelationTypeOnUpdate":0,"IsDetailTableRelation":false},{"PrimarySchema":null,"ForeignSchema":null,"PrimaryTable":"m_product","ForeignTable":"v_group_product","PrimaryColumn":"product_id","ForeignColumn":"商品ID","RelationTypeOnDelete":0,"RelationTypeOnUpdate":0,"IsDetailTableRelation":false}]}