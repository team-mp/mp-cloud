{
  "Name": "v_customer_product",
  "Columns": [
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "顧客ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "グループID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "申込タイプID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "商品ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "varchar",
      "MaxLength": 190,
      "Name": "商品名",
      "ColumnType": "System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "varchar",
      "MaxLength": 190,
      "Name": "商品注釈",
      "ColumnType": "System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "販売単価",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DefaultValue": 0,
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "特別販売単価フラグ",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "調査単価",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DefaultValue": 0,
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "特別調査単価フラグ",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "保証単価",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DefaultValue": 0,
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "特別保証単価フラグ",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "改良判定保証単価",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DefaultValue": 0,
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "特別改良判定保証単価フラグ",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "基礎単価",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DefaultValue": 0,
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "特別基礎単価フラグ",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "グループ標準単価",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "グループ標準調査単価",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "グループ標準保証単価",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "グループ標準基礎単価",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DefaultValue": 0,
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "有効フラグ",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    }
  ],
  "ExternalDatabaseInfo": {
    "AllowModifySchema": true,
    "ConnectionId": "MySql2",
    "SourceTableName": "v_customer_product",
    "SourceTableSchema": "",
    "CreateViewSql": "SELECT \r\n    `main`.`顧客ID` AS `顧客ID`,\r\n    `main`.`グループID` AS `グループID`,\r\n    `main`.`申込タイプID` AS `申込タイプID`,\r\n    `main`.`商品ID` AS `商品ID`,\r\n    (CASE \r\n        WHEN `sub`.`original_product_name` IS NOT NULL \r\n        THEN `sub`.`original_product_name` \r\n        ELSE `main`.`商品名` \r\n     END) AS `商品名`,\r\n    (CASE \r\n        WHEN `sub`.`original_special_note` IS NOT NULL \r\n        THEN `sub`.`original_special_note` \r\n        ELSE `main`.`商品注釈` \r\n     END) AS `商品注釈`,\r\n    (CASE \r\n        WHEN `sub`.`special_price` IS NOT NULL \r\n        THEN `sub`.`special_price` \r\n        ELSE `main`.`販売単価` \r\n     END) AS `販売単価`,\r\n    (CASE \r\n        WHEN `sub`.`special_price` IS NOT NULL \r\n        THEN 1 \r\n        ELSE 0 \r\n     END) AS `特別販売単価フラグ`,\r\n    (CASE \r\n        WHEN `sub`.`special_survey_price` IS NOT NULL \r\n        THEN `sub`.`special_survey_price` \r\n        ELSE `main`.`調査単価` \r\n     END) AS `調査単価`,\r\n    (CASE \r\n        WHEN `sub`.`special_survey_price` IS NOT NULL \r\n        THEN 1 \r\n        ELSE 0 \r\n     END) AS `特別調査単価フラグ`,\r\n    (CASE \r\n        WHEN `sub`.`special_gurantee_price` IS NOT NULL \r\n        THEN `sub`.`special_gurantee_price` \r\n        ELSE `main`.`保証単価` \r\n     END) AS `保証単価`,\r\n    (CASE \r\n        WHEN `sub`.`special_gurantee_price` IS NOT NULL \r\n        THEN 1 \r\n        ELSE 0 \r\n     END) AS `特別保証単価フラグ`,\r\n    (CASE \r\n        WHEN `sub`.`special_impjudge_gurantee_price` IS NOT NULL \r\n        THEN `sub`.`special_impjudge_gurantee_price` \r\n        ELSE `main`.`改良判定保証単価` \r\n     END) AS `改良判定保証単価`,\r\n    (CASE \r\n        WHEN `sub`.`special_impjudge_gurantee_price` IS NOT NULL \r\n        THEN 1 \r\n        ELSE 0 \r\n     END) AS `特別改良判定保証単価フラグ`,\r\n    (CASE \r\n        WHEN `sub`.`special_base_price` IS NOT NULL \r\n        THEN `sub`.`special_base_price` \r\n        ELSE `main`.`基礎単価` \r\n     END) AS `基礎単価`,\r\n    (CASE \r\n        WHEN `sub`.`special_base_price` IS NOT NULL \r\n        THEN 1 \r\n        ELSE 0 \r\n     END) AS `特別基礎単価フラグ`,\r\n    `main`.`販売単価` AS `グループ標準単価`,\r\n    `main`.`調査単価` AS `グループ標準調査単価`,\r\n    `main`.`保証単価` AS `グループ標準保証単価`,\r\n    `main`.`基礎単価` AS `グループ標準基礎単価`,\r\n    (CASE \r\n        WHEN `main`.`有効フラグ` = 0 THEN 0\r\n        WHEN `sub`.`active_flg` = 0 THEN 0\r\n        ELSE 1\r\n     END) AS `有効フラグ`\r\nFROM \r\n    (\r\n        SELECT \r\n            `main`.`customer_id` AS `顧客ID`,\r\n            `sub`.`グループID` AS `グループID`,\r\n            `sub`.`申込タイプID` AS `申込タイプID`,\r\n            `sub`.`商品ID` AS `商品ID`,\r\n            `sub`.`商品名` AS `商品名`,\r\n            `sub`.`商品注釈` AS `商品注釈`,\r\n            `sub`.`販売単価` AS `販売単価`,\r\n            `sub`.`特別販売単価フラグ` AS `特別販売単価フラグ`,\r\n            `sub`.`調査単価` AS `調査単価`,\r\n            `sub`.`特別調査単価フラグ` AS `特別調査単価フラグ`,\r\n            `sub`.`保証単価` AS `保証単価`,\r\n            `sub`.`特別保証単価フラグ` AS `特別保証単価フラグ`,\r\n            `sub`.`改良判定保証単価` AS `改良判定保証単価`,\r\n            `sub`.`特別改良判定保証単価フラグ` AS `特別改良判定保証単価フラグ`,\r\n            `sub`.`基礎単価` AS `基礎単価`,\r\n            `sub`.`特別基礎単価フラグ` AS `特別基礎単価フラグ`,\r\n            `sub`.`標準単価` AS `標準単価`,\r\n            `sub`.`標準調査単価` AS `標準調査単価`,\r\n            `sub`.`標準保証単価` AS `標準保証単価`,\r\n            `sub`.`標準基礎単価` AS `標準基礎単価`,\r\n            `sub`.`有効フラグ` AS `有効フラグ`\r\n        FROM \r\n            `m_customer_group` `main`\r\n        JOIN \r\n            `v_group_product` `sub` \r\n            ON `main`.`group_id` = `sub`.`グループID`\r\n        ORDER BY \r\n            `main`.`customer_id`\r\n    ) `main`\r\nLEFT JOIN \r\n    `m_customer_product` `sub` \r\n    ON (\r\n        `main`.`顧客ID` = `sub`.`customer_id`\r\n        AND `main`.`グループID` = `sub`.`group_id`\r\n        AND `main`.`申込タイプID` = `sub`.`ordertype_id`\r\n        AND `main`.`商品ID` = `sub`.`product_id`\r\n    )",
    "UserSetQueryColumns": [
      "顧客ID",
      "グループID",
      "申込タイプID",
      "商品ID"
    ],
    "ViewInfo": {
      "ViewName": "v_customer_product",
      "QueryColumns": [
        "顧客ID",
        "グループID",
        "申込タイプID",
        "商品ID"
      ]
    }
  },
  "Relations": [
    {
      "PrimaryTable": "m_customer",
      "PrimaryColumn": "customer_id",
      "ForeignTable": "v_customer_product",
      "ForeignColumn": "顧客ID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "m_group",
      "PrimaryColumn": "group_id",
      "ForeignTable": "v_customer_product",
      "ForeignColumn": "グループID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "m_order_type",
      "PrimaryColumn": "order_type_id",
      "ForeignTable": "v_customer_product",
      "ForeignColumn": "申込タイプID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "m_product",
      "PrimaryColumn": "product_id",
      "ForeignTable": "v_customer_product",
      "ForeignColumn": "商品ID",
      "IsDetailTableRelation": false
    }
  ],
  "Indexes": []
}