{"Columns":[{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"顧客ID","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"グループID","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"申込タイプID","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","Required":true,"AutoIncrement":true,"DatabaseColumnType":"System.Int64","MaxLength":-1,"Name":"商品ID","ColumnType":"System.Int64, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"商品名","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"販売単価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別販売単価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"販売原価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別販売原価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"調査単価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別調査単価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"調査原価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別調査原価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"保証単価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別保証単価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"改良判定保証単価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"特別改良判定保証単価フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"グループ標準単価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"グループ標準原価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"グループ標準調査単価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"グループ標準調査原価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"グループ標準保証単価","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"},{"$type":"Forguncy.Model.Tables.BindingColumn, ServerDesignerCommon","DatabaseColumnType":"System.Object","MaxLength":-1,"Name":"有効フラグ","ColumnType":"System.Object, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"}],"BuiltInViewInfo":{"ViewName":"v_customer_product","SourceViewName":"fgce004b66748ef489a99864971753","CreateViewSql":"SELECT\r\n    main.\"顧客ID\"\r\n   ,main.\"グループID\"\r\n   ,main.\"申込タイプID\"\r\n   ,main.\"商品ID\"\r\n\r\n   /* 商品名 */\r\n   ,CASE WHEN sub.original_product_name IS NOT NULL\r\n    THEN sub.original_product_name\r\n    ELSE main.\"商品名\" END AS \"商品名\"\r\n\r\n   /* 販売単価 */\r\n   ,CASE WHEN sub.special_price IS NOT NULL\r\n    THEN sub.special_price\r\n    ELSE main.\"販売単価\" END AS \"販売単価\"\r\n\r\n   /* 特別販売単価フラグ */\r\n   ,CASE WHEN sub.special_price IS NOT NULL\r\n    THEN 1 ELSE 0 END AS \"特別販売単価フラグ\"\r\n\r\n   /* 販売原価 */\r\n   ,CASE WHEN sub.special_cost IS NOT NULL\r\n    THEN sub.special_cost\r\n    ELSE main.\"販売原価\" END AS \"販売原価\"\r\n\r\n   /* 特別販売原価フラグ */\r\n   ,CASE WHEN sub.special_cost IS NOT NULL\r\n    THEN 1 ELSE 0 END AS \"特別販売原価フラグ\"\r\n\r\n   /* 調査単価 */\r\n   ,CASE WHEN sub.special_survey_price IS NOT NULL\r\n    THEN sub.special_survey_price\r\n    ELSE main.\"調査単価\" END AS \"調査単価\"\r\n\r\n   /* 特別調査単価フラグ */\r\n   ,CASE WHEN sub.special_survey_price IS NOT NULL\r\n    THEN 1 ELSE 0 END AS \"特別調査単価フラグ\"\r\n\r\n   /* 調査原価 */\r\n   ,CASE WHEN sub.special_survey_cost IS NOT NULL\r\n    THEN sub.special_survey_cost\r\n    ELSE main.\"調査原価\" END AS \"調査原価\"\r\n\r\n   /* 特別調査原価フラグ */\r\n   ,CASE WHEN sub.special_survey_cost IS NOT NULL\r\n    THEN 1 ELSE 0 END AS \"特別調査原価フラグ\"\r\n\r\n   /* 保証単価 */\r\n   ,CASE WHEN sub.special_gurantee_price IS NOT NULL\r\n    THEN sub.special_gurantee_price\r\n    ELSE main.\"保証単価\" END AS \"保証単価\" \r\n\r\n   /* 特別保証単価フラグ */\r\n   ,CASE WHEN sub.special_gurantee_price IS NOT NULL\r\n    THEN 1 ELSE 0 END AS \"特別保証単価フラグ\"\r\n\r\n    /* 改良判定保証単価 */\r\n    ,CASE WHEN (sub.special_impjudge_gurantee_price IS NOT NULL) \r\n     THEN sub.special_impjudge_gurantee_price\r\n     ELSE  main.\"改良判定保証単価\" END AS 改良判定保証単価\r\n\r\n    /* 特別改良判定保証単価フラグ */\r\n    ,CASE WHEN (sub.special_impjudge_gurantee_price IS NOT NULL) \r\n     THEN 1 ELSE 0 END AS 特別改良判定保証単価フラグ\r\n\r\n    ,main.\"販売単価\" AS \"グループ標準単価\"\r\n    ,main.\"販売原価\" AS \"グループ標準原価\"\r\n    ,main.\"調査単価\" AS \"グループ標準調査単価\"\r\n    ,main.\"調査原価\" AS \"グループ標準調査原価\"\r\n    ,main.\"保証単価\" AS \"グループ標準保証単価\"\r\n\r\n    /* 有効フラグ */\r\n    ,CASE WHEN main.\"有効フラグ\" = '0' THEN '0'\r\n     WHEN sub.active_flg = 0 THEN '0'\r\n     ELSE 1 END AS 有効フラグ\r\n\r\nFROM\r\n   (SELECT\r\n       main.customer_id AS 顧客ID\r\n      ,sub.*\r\n   FROM\r\n       m_customer_group AS main\r\n       INNER JOIN v_group_product AS sub\r\n       ON  main.group_id = sub.グループID\r\n   ORDER BY\r\n       main.customer_id) AS main\r\n\r\n   LEFT JOIN \"m_customer_product\" AS sub\r\n   ON main.\"顧客ID\" = sub.customer_id\r\n   AND main.\"グループID\" = sub.group_id\r\n   AND main.\"申込タイプID\" = sub.ordertype_id\r\n   AND main.\"商品ID\" = sub.product_id"},"PrimaryKey":["顧客ID","グループID","申込タイプID","商品ID"],"Name":"v_customer_product","Relations":[{"PrimarySchema":null,"ForeignSchema":null,"PrimaryTable":"m_customer","ForeignTable":"v_customer_product","PrimaryColumn":"customer_id","ForeignColumn":"顧客ID","RelationTypeOnDelete":0,"RelationTypeOnUpdate":0,"IsDetailTableRelation":false},{"PrimarySchema":null,"ForeignSchema":null,"PrimaryTable":"m_group","ForeignTable":"v_customer_product","PrimaryColumn":"group_id","ForeignColumn":"グループID","RelationTypeOnDelete":0,"RelationTypeOnUpdate":0,"IsDetailTableRelation":false},{"PrimarySchema":null,"ForeignSchema":null,"PrimaryTable":"m_order_type","ForeignTable":"v_customer_product","PrimaryColumn":"order_type_id","ForeignColumn":"申込タイプID","RelationTypeOnDelete":0,"RelationTypeOnUpdate":0,"IsDetailTableRelation":false},{"PrimarySchema":null,"ForeignSchema":null,"PrimaryTable":"m_product","ForeignTable":"v_customer_product","PrimaryColumn":"product_id","ForeignColumn":"商品ID","RelationTypeOnDelete":0,"RelationTypeOnUpdate":0,"IsDetailTableRelation":false}]}