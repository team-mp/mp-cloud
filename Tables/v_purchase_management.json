{
  "Name": "v_purchase_management",
  "Columns": [
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "Required": true,
      "Unique": true,
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "物件商品ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "申込ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "物件ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "請求先ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "住宅事業者ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "申込タイプID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "varchar",
      "MaxLength": 190,
      "Name": "受付商品名",
      "ColumnType": "System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "申込ステータスID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "varchar",
      "MaxLength": 190,
      "Name": "商品名",
      "ColumnType": "System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "varchar",
      "MaxLength": 190,
      "Name": "備考",
      "ColumnType": "System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "売上金額",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "datetime",
      "MaxLength": -1,
      "Name": "発注書受領日",
      "ColumnType": "System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DefaultValue": 0,
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "売上ステータスID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "最新調査ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "最新測量ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "最新解析ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "最新転圧ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "最新工事ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "最新保証ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "最新外販ID",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DefaultValue": 0,
      "DatabaseColumnType": "bigint",
      "MaxLength": -1,
      "Name": "発注書添付カウント",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DatabaseColumnType": "datetime",
      "MaxLength": -1,
      "Name": "売上計上確定日",
      "ColumnType": "System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.BindingColumnSaveData, ServerDesignerCommon",
      "DefaultValue": 0,
      "Required": true,
      "DatabaseColumnType": "int",
      "MaxLength": -1,
      "Name": "発注書受領区分",
      "ColumnType": "System.Int64, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    },
    {
      "$type": "Forguncy.SaveLoad.StatisticColumnSaveData, ServerDesignerCommon",
      "BindingInfo": {
        "TableName": "v_purchase_management",
        "ColumnName": "物件商品ID",
        "GUID": "aa9134d3-42a4-4ea2-a7a4-a840362f7dd1"
      },
      "AggregateFunction": 1,
      "DataColumnName": "物件商品ID",
      "Name": "レコード件数",
      "ColumnType": "System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e"
    }
  ],
  "ExternalDatabaseInfo": {
    "DataBaseType": "6db454c0-531c-4395-9122-921a18942902",
    "AllowModifySchema": true,
    "ConnectionId": "MySql2",
    "SourceTableName": "v_purchase_management",
    "SourceTableSchema": "",
    "CreateViewSql": "select `a`.`object_product_id` AS `物件商品ID`,`a`.`object_order_id` AS `申込ID`,`b`.`object_id` AS `物件ID`,`a`.`billing_comp_id` AS `請求先ID`,`b`.`builder_id` AS `住宅事業者ID`,`b`.`order_type_id` AS `申込タイプID`,`b`.`order_product_name` AS `受付商品名`,`b`.`order_status_id` AS `申込ステータスID`,`a`.`product_name` AS `商品名`,`a`.`remarks` AS `備考`,`a`.`sales_amount` AS `売上金額`,`a`.`purchase_receipt_date` AS `発注書受領日`,`a`.`sales_account_status_id` AS `売上ステータスID`,`b`.`latest_survey_id` AS `最新調査ID`,`b`.`latest_surveying_id` AS `最新測量ID`,`b`.`latest_analysis_id` AS `最新解析ID`,`b`.`latest_compaction_id` AS `最新転圧ID`,`b`.`latest_construction_id` AS `最新工事ID`,`b`.`latest_warranty_id` AS `最新保証ID`,`b`.`latest_external_id` AS `最新外販ID`,`a`.`purchase_attached_file_count` AS `発注書添付カウント`,`a`.`sales_account_complete_date` AS `売上計上確定日`,(case when (`a`.`purchase_receipt_date` is null) then 1 else 2 end) AS `発注書受領区分` from (`t_object_product` `a` join `t_object_order` `b` on((`a`.`object_order_id` = `b`.`object_order_id`))) where ((`a`.`purchase_required_flg` = 1) and (`b`.`active_flg` = 1))",
    "ViewInfo": {
      "ViewName": "v_purchase_management",
      "QueryColumns": [
        "物件商品ID"
      ]
    }
  },
  "PrimaryKey": [
    "物件商品ID"
  ],
  "Relations": [
    {
      "PrimaryTable": "t_object_order",
      "PrimaryColumn": "object_order_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "申込ID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "t_object",
      "PrimaryColumn": "object_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "物件ID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "m_customer",
      "PrimaryColumn": "customer_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "請求先ID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "m_customer",
      "PrimaryColumn": "customer_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "住宅事業者ID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "m_order_type",
      "PrimaryColumn": "order_type_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "申込タイプID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "m_order_status",
      "PrimaryColumn": "order_status_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "申込ステータスID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "m_account_status",
      "PrimaryColumn": "account_status_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "売上ステータスID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "t_object_survey",
      "PrimaryColumn": "survey_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "最新調査ID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "t_object_surveying",
      "PrimaryColumn": "surveying_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "最新測量ID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "t_object_analysis",
      "PrimaryColumn": "analysis_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "最新解析ID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "t_object_compaction",
      "PrimaryColumn": "compaction_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "最新転圧ID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "t_object_construction",
      "PrimaryColumn": "construction_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "最新工事ID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "t_object_warranty",
      "PrimaryColumn": "warranty_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "最新保証ID",
      "IsDetailTableRelation": false
    },
    {
      "PrimaryTable": "t_object_external",
      "PrimaryColumn": "external_id",
      "ForeignTable": "v_purchase_management",
      "ForeignColumn": "最新外販ID",
      "IsDetailTableRelation": false
    }
  ],
  "Indexes": []
}